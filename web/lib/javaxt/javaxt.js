if(!javaxt)var javaxt={};if(!javaxt.dhtml)javaxt.dhtml={};
javaxt.dhtml.Accordion=function(h,s){this.className="javaxt.dhtml.Accordion";var t=this;var o={};var b=null;var l;var u;var k={activeOnTop:false,animate:true,animationSteps:250,defaultTab:null,style:{accordion:{width:"100%",height:"100%",border:"1px solid #969696",margin:"0px"},tabHeader:{background:"#F6F6F6",borderBottom:"1px solid #969696",padding:"7px 0 6px 7px",cursor:"pointer",whiteSpace:"nowrap"},tabContent:{borderBottom:"1px solid #969696",padding:"3px 0 0 7px"},activeTab:{}}};var n=function(){if(typeof h==="string"){h=document.getElementById(h)}if(!h){return}var C={};f(C,s);f(C,k);s=C;var D=[];for(var z=0;z<h.childNodes.length;z++){var x=h.childNodes[z];if(x.nodeType===1){D.push(x)}}for(var z=0;z<D.length;z++){h.removeChild(D[z])}h.innerHTML="";var E=c();E.setAttribute("desc",t.className);a(E,"accordion");E.style.borderCollapse="collapse";var A=E.firstChild;var F=document.createElement("tr");var y=document.createElement("td");y.style.width="100%";y.style.height="100%";y.style.verticalAlign="top";F.appendChild(y);A.appendChild(F);h.appendChild(E);t.el=E;var w=document.createElement("div");w.style.width="100%";w.style.height="100%";w.style.position="relative";y.appendChild(w);var B=document.createElement("div");B.style.width="100%";B.style.height="100%";B.style.position="absolute";B.style.overflow="hidden";w.appendChild(B);u=document.createElement("div");u.style.width="100%";u.style.height="100%";u.style.position="relative";B.appendChild(u);g(h,function(){t.resize()});for(var z=0;z<D.length;z++){t.add(D[z])}if(s.defaultTab){var v=s.animate;s.animate=false;t.open(s.defaultTab);s.animate=v}};this.enableAnimation=function(){s.animate=true};this.disableAnimation=function(){s.animate=false};this.add=function(w,z){var x;if(z){if(typeof z=="string"){x=z;z=i(x)}else{x=z.title}}else{x=w.title;z=i(x)}u.appendChild(z);a(w,"tabContent");w.style.height="0px";w.style.overflow="hidden";w.style.display="none";u.appendChild(w);var y=1;for(var v in o){if(o.hasOwnProperty(v)){y++}}o["tab"+y]={title:x,el:w};z.setAttribute("tabID",y);z.onclick=function(C){var A=parseInt(this.getAttribute("tabID"));var B=o["tab"+A];t.open(A);t.onHeaderClick(B.title,this,B.el,C)}};var i=function(v){var w=document.createElement("div");w.innerHTML=v;w.onselectstart=function(){return false};a(w,"tabHeader");return w};this.getCurrentTab=function(){if(b){var v=o["tab"+b];if(v){return{id:b,el:v.el,title:v.title}}}return null};this.open=function(z){var y=null;if(typeof z=="string"){for(var w in o){if(o.hasOwnProperty(w)){var x=o[w];if(x.title===z){y=x.el;z=parseInt(w.substring(3));break}}}}else{if(typeof z=="number"){var x=o["tab"+z];if(x){y=x.el}}}if(y==null){return}if(z==b){if(s.activeTabClosable==true){}else{return}}var v=null;if(b){var x=o["tab"+b];if(x){v=x.el}}t.beforeChange();b=z;l=q(y);if(s.animate==true){e(new Date().getTime(),s.animationSteps,v,y)}else{j(y,v)}};var j=function(w,z){if(w){m(w.previousSibling,"activeTab");w.style.display="block";w.style.height=l+"px";w.style.filter="alpha(opacity=100)";w.style.MozOpacity=1}if(z){a(z.previousSibling,"tabHeader");z.style.display="none";z.style.height="0px";z.style.filter="alpha(opacity=0)";z.style.MozOpacity=0}if(s.activeOnTop==true){var v=[];var A=[];var B=0;for(var C=0;C<u.childNodes.length;C++){var y=u.childNodes[C];if(y.nodeType===1){var E=y.getAttribute("tabID");if(E){if(E==b){break}var D=y.cloneNode(true);D.onclick=y.onclick;u.appendChild(D);v.push(y);A.push(D);if(y.offsetHeight>0){B+=y.offsetHeight}}}}var x=function(){while(v.length>0){var G=v.shift();var F=G.nextSibling;u.removeChild(G);G=A.shift();u.insertBefore(F,G.nextSibling)}u.style.marginTop="0px";u.style.height="100%"};u.style.height="";if(s.animate==true){p(new Date().getTime(),100,B,x)}else{u.style.marginTop=-B+"px";x()}}t.afterChange()};var e=function(w,z,x,v){var A=new Date().getTime();var C=A-w;if(l==null){l=q(v)}if(z<=C){j(v,x);return}z-=C;var D=d(v);var y=Math.round((z/s.animationSteps)*l-D);var B=(z/s.animationSteps)*100;if(v){if(v.style.display!="block"){v.style.display="block";v.style.filter="alpha(opacity="+(100-B)+")";v.style.MozOpacity=(100-B)/100}v.style.height=(l-y)-D+"px"}if(x){x.style.height=y+"px";x.style.filter="alpha(opacity="+(B)+")";x.style.MozOpacity=B/100}setTimeout(function(){e(A,z,x,v)},33)};var p=function(w,B,z,A){var v=new Date().getTime();var y=v-w;if(B<=y){if(A!=null){A.apply(t,[])}return}B-=y;var x=z-Math.round((B/s.animationSteps)*z);u.style.marginTop=-x+"px";setTimeout(function(){p(v,B,z,A)},33)};this.resize=function(){if(b){var w=o["tab"+b];if(w){var v=q();var x=d(w.el);w.el.style.height=(v-x)+"px"}}};this.onHeaderClick=function(x,y,v,w){};this.beforeChange=function(){};this.afterChange=function(){};var q=function(w){var v=u.offsetHeight;if(v>0){if(document.body.clientHeight<v){v=document.body.clientHeight}for(var y=0;y<u.childNodes.length;y++){var z=u.childNodes[y];if(z.nodeType===1){var x=z.getAttribute("tabID");if(x){if(z.offsetHeight>0){v-=z.offsetHeight}}}}var A=0;if(w){A=d(w)}return v-A}return 0};var d=function(v){var y=parseFloat(r(v,"padding-top").replace("px",""));var z=parseFloat(r(v,"padding-bottom").replace("px",""));var A=parseFloat(r(v,"border-top-width").replace("px",""));var w=parseFloat(r(v,"border-bottom-width").replace("px",""));var x=(y+z+A+w);if(isNaN(x)){return 0}else{return x}};var r=function(w,v){if(w.currentStyle){return w.currentStyle[v]}else{if(window.getComputedStyle){return document.defaultView.getComputedStyle(w,"").getPropertyValue(v)}}};var f=javaxt.dhtml.utils.merge;var c=javaxt.dhtml.utils.createTable;var g=javaxt.dhtml.utils.addResizeListener;var a=function(w,v){javaxt.dhtml.utils.setStyle(w,s.style[v])};var m=function(w,v){javaxt.dhtml.utils.addStyle(w,s.style[v])};n()};
javaxt.dhtml.Authentication=function(c,a){var b=navigator.userAgent.toLowerCase();this.login=function(h,d,g){var f=this.logoff;var e=((window.XMLHttpRequest)?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"));e.open("GET",c,true,h,d);e.setRequestHeader("Cache-Control","no-cache, no-transform");e.onreadystatechange=function(){if(e.readyState===4){if(e.status!==200){if(navigator.userAgent.toLowerCase().indexOf("firefox")!=-1){f()}}if(g!=null){g.call(e)}}};e.send(null)};this.logoff=function(e){if(b.indexOf("msie")!=-1){document.execCommand("ClearAuthenticationCache");if(e!=null){e.call()}}else{var d=new XMLHttpRequest();d.open("GET",a+"?prompt=false",true);d.setRequestHeader("Cache-Control","no-cache, no-transform");d.onreadystatechange=function(){if(d.readyState===4){var f=new XMLHttpRequest();f.open("GET",c,true,"logout","logout");f.setRequestHeader("Cache-Control","no-cache, no-transform");f.onreadystatechange=function(){if(f.readyState===4){if(e!=null){e.call()}}};f.send("")}};d.send("")}}};
javaxt.dhtml.BarGraph=function(h,v){this.className="javaxt.dhtml.BarGraph";var x=this;var q,y,m;var t,i,a,u;var o;var b=[];var l=0;var r=0;var w={};var j={animate:false,animationSteps:750,maxHorizonalLabels:3,style:{cell:{borderBottom:"1px solid #ccc",padding:"0 5px"},bar:{backgroundColor:"#7baaf7",borderRadius:"3px 3px 0 0",cursor:"pointer"},tick:{borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",height:"5px"},labelX:{textAlign:"center",color:"#757575",fontSize:"10px",height:"14px"},labelY:{textAlign:"right",color:"#757575",fontSize:"10px",padding:"0 5px 0 0",margin:"-5px 0 0 0"},hline:{borderTop:"1px solid #ccc",opacity:0.5,zIndex:1},select:{backgroundColor:"orange"}}};var p=function(){if(typeof h==="string"){h=document.getElementById(h)}if(!h){return}var F={};g(F,v);g(F,j);v=F;var A=document.createElement("div");A.style.position="relative";A.style.height="100%";A.setAttribute("desc",x.className);x.el=A;h.appendChild(A);var I=d();A.appendChild(I);var D=I.firstChild;var G=document.createElement("tr");D.appendChild(G);var C=document.createElement("td");C.style.width="100%";C.style.height="100%";C.style.verticalAlign="bottom";G.appendChild(C);t=d();C.appendChild(t);D=t.firstChild;G=document.createElement("tr");D.appendChild(G);C=document.createElement("td");C.style.height="100%";C.style.width="1px";C.style.verticalAlign="top";a=d();a.setAttribute("desc","yAxis");C.appendChild(a);G.appendChild(C);C=document.createElement("td");C.style.height="100%";C.style.width="100%";G.appendChild(C);var H=document.createElement("div");H.style.position="relative";H.style.width="100%";H.style.height="100%";C.appendChild(H);var z=document.createElement("div");z.style.position="absolute";z.style.width="100%";z.style.height="100%";z.style.top=0;z.style.overflow="hidden";z.style.padding="0 1px";H.appendChild(z);var B=document.createElement("div");B.style.position="relative";B.style.width="100%";z.appendChild(B);u=d();B.appendChild(u);var E=document.createElement("div");E.style.position="absolute";E.style.width="100%";E.style.height="100%";E.style.overflow="auto";E.style.overflowY="hidden";E.style.padding="0 1px";H.appendChild(E);i=d();i.setAttribute("desc","dataTable");D=i.firstChild;q=document.createElement("tr");D.appendChild(q);y=document.createElement("tr");D.appendChild(y);m=document.createElement("tr");D.appendChild(m);E.appendChild(i);if(v.animate===true){t.style.height=0}e(H,function(){x.update()})};this.show=function(){x.el.style.display=""};this.hide=function(){x.el.style.display="none"};this.add=function(H,G){if(!k(H)){H=0}b.push(H);if(H>r){r=H}if(H<l){l=H}var C,E;if(!w.cell){C=document.createElement("td");c(C,"cell");C.style.height="100%";C.style.verticalAlign="bottom";var z=document.createElement("div");z.style.position="relative";z.style.height="100%";C.appendChild(z);E=document.createElement("div");c(E,"bar");E.style.position="absolute";E.style.bottom=0;E.style.width="100%";z.appendChild(E);w.cell=C}else{C=w.cell.cloneNode(true);E=C.childNodes[0].childNodes[0]}E.onclick=function(){var K=this.parentNode.parentNode;for(var L=0;L<q.childNodes.length;L++){if(q.childNodes[L]==K){x.onClick(b[L],L,this);break}}};C.onclick=function(){var K=this;for(var L=0;L<q.childNodes.length;L++){if(q.childNodes[L]==K){x.onCellClick(L,K);break}}};q.appendChild(C);if(v.style.cell.width){C.style.width=v.style.bar.width;C.childNodes[0].style.width=v.style.bar.width;o=parseInt(v.style.cell.width)}else{if(typeof v.style.cell==="string"){if(!o){var J=document.createElement("div");c(J,"cell");J.style.position="absolute";J.style.visibility="hidden";J.style.display="block";var D=document.getElementsByTagName("body")[0];D.appendChild(J);var A=J.currentStyle||window.getComputedStyle(J);var F=function(L){if(A.getPropertyValue){var K=A.getPropertyValue(L);if(K&&K.length>0){return K}return A.getPropertyValue(L)}else{return A[L]}};o=parseInt(F("width"));D.removeChild(J);J=null}}}var C=document.createElement("td");c(C,"tick");y.appendChild(C);C=document.createElement("td");c(C,"labelX");if(G!=null){var I=document.createElement("div");I.style.position="relative";I.style.width="100%";I.style.height="100%";C.appendChild(I);var B=document.createElement("div");B.style.position="absolute";B.style.width="100%";B.style.height="100%";I.appendChild(B);if(typeof G==="string"||k(G)){B.innerHTML=G}else{if(G instanceof Function){G.apply(x,[B])}}}m.appendChild(C)};this.setValue=function(z,A){b[z]=A;if(A>r){r=A}if(A<l){l=A}};this.update=function(O){for(var F=0;F<b.length;F++){var A=q.childNodes[F].childNodes[0].childNodes[0];if(A){var C=(b[F]/r)*100;A.style.height=C+"%"}}if(!isNaN(o)){if(o>0){var B=(o*b.length)+"px";i.style.width=B;u.parentNode.style.width=B}}var D=a.firstChild.childNodes.length;var L=v.maxHorizonalLabels;var K=s(b).length;if(K<L){L=K}var z=Math.round((1/L)*100)+"%";if(K===1&&b[0]===0){z="100%";L=0}var H=a.firstChild;var G=u.firstChild;if(D>L){while(H.childNodes.length>0){H.removeChild(H.childNodes[0])}while(G.childNodes.length>0){G.removeChild(G.childNodes[0])}D=0}for(var F=D;F<L;F++){var J=document.createElement("tr");H.appendChild(J);var E=document.createElement("td");E.style.verticalAlign="top";J.appendChild(E);var A=document.createElement("div");c(A,"labelY");E.appendChild(A);E.label=A;var E=document.createElement("td");E.style.verticalAlign="top";J.appendChild(E);var A=document.createElement("div");c(A,"hline");A.style.width="100%";E.appendChild(A);J=document.createElement("tr");G.appendChild(J);E=document.createElement("td");E.style.verticalAlign="top";J.appendChild(E);var A=document.createElement("div");c(A,"hline");A.style.width="100%";A.style.position="absolute";E.appendChild(A)}for(var F=0;F<H.childNodes.length;F++){var E=H.childNodes[F].childNodes[0];E.style.height=z;var I=H.childNodes.length;var N=I-F;var M=r/L;var C=M*N;x.createLabel(C,N,I,E.label)}for(var F=0;F<G.childNodes.length;F++){var E=G.childNodes[F].childNodes[0];E.style.height=z}if(v.animate===true){a.style.display="none";f(new Date().getTime(),v.animationSteps,function(){a.style.display="";a.style.height=q.offsetHeight+"px";u.style.height=q.offsetHeight+"px";if(O!=null){O.apply(x,[])}})}else{a.style.height=q.offsetHeight+"px";u.style.height=q.offsetHeight+"px";if(O!=null){O.apply(x,[])}}};this.clear=function(z){l=0;r=0;x.deselectAll();if(z===true){for(var A=0;A<b.length;A++){b[A]=0}for(var A=0;A<b.length;A++){var B=q.childNodes[A].childNodes[0].childNodes[0];B.style.height="0%"}}else{b=[];while(q.childNodes.length>1){q.removeChild(q.childNodes[1]);y.removeChild(y.childNodes[1]);m.removeChild(m.childNodes[1])}i.style.width="100%";u.parentNode.style.width="100%";x.update()}};this.onClick=function(A,z,B){};this.onCellClick=function(A,z){};this.getCell=function(z){return q.childNodes[z]};this.select=function(z){var B=q.childNodes[z];if(B){B.selected=true;var A=B.childNodes[0].childNodes[0];n(A,"select")}};this.deselect=function(z){var C=q.childNodes[z];if(C){C.selected=false;var B=C.childNodes[0].childNodes[0];var A=B.style.height;c(B,"bar");B.style.position="absolute";B.style.bottom=0;B.style.width="100%";B.style.height=A}};this.selectAll=function(){for(var z=0;z<q.childNodes.length;z++){x.select(z)}};this.deselectAll=function(){for(var z=0;z<q.childNodes.length;z++){x.deselect(z)}};this.getSelectedItems=function(){var z=[];for(var A=0;A<q.childNodes.length;A++){var B=q.childNodes[A];if(B.selected){z.push({idx:A,val:b[A],cell:B})}}return z};this.createLabel=function(B,A,z,C){C.innerHTML=Math.round(B)};this.getValues=function(){var z=[];for(var A=0;A<b.length;A++){z.push(b[A])}return z};var s=function(z){var B=[];for(var C=0,A=z.length;C<A;C++){if(B.indexOf(z[C])===-1&&z[C]!==""){B.push(z[C])}}return B};var k=function(z){return !isNaN(parseFloat(z))&&!isNaN(z-0)};var f=function(A,E,D){var z=new Date().getTime();var C=z-A;if(E<=C){t.style.height="100%";if(D!=null){D.apply(x,[])}return}E-=C;var B=(E/v.animationSteps)*100;t.style.height=(100-B)+"%";setTimeout(function(){f(z,E,D)},33)};var g=javaxt.dhtml.utils.merge;var e=javaxt.dhtml.utils.onRender;var d=javaxt.dhtml.utils.createTable;var c=function(A,z){javaxt.dhtml.utils.setStyle(A,v.style[z])};var n=function(A,z){javaxt.dhtml.utils.addStyle(A,v.style[z])};p()};
javaxt.dhtml.Button=function(o,c){this.className="javaxt.dhtml.Button";var i=this;var d;var q,b;var k,m,n;var g={label:null,name:null,selected:false,disabled:false,toggle:false,menu:false,hidden:false,display:"inline-block",width:null,height:null,style:{button:{border:"1px solid #cccccc",borderRadius:"3px",background:"#F6F6F6",cursor:"pointer",padding:"3px 7px",margin:"0px",color:"#2b2b2b"},label:{fontFamily:"helvetica,arial,verdana,sans-serif",fontSize:"14px",whiteSpace:"nowrap"},icon:{},arrow:{},select:{background:"#007FFF",border:"1px solid #003EFF",color:"#FFFFFF"},hover:{background:"#ededed"},menu:{border:"1px solid #cccccc",background:"#F6F6F6",cursor:"pointer",padding:"3px 3px",zIndex:"1"},menuAlign:"bottom"}};var p=function(){if(typeof o==="string"){o=document.getElementById(o)}if(!o){return}var F={};j(F,c);j(F,g);c=F;var G=c.style.iconAlign;if(G!=="right"){G="left"}var u=c.style.menuAlign;if(u!=="right"){u="bottom"}if(c.menu===true){var A=false;for(var I in c.style.arrow){if(c.style.arrow.hasOwnProperty(I)){A=true;break}}if(!A){if(u==="bottom"){c.style.arrow={width:0,height:0,borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"5px solid #575757",marginLeft:"10px"};c.style.arrowSelect={borderTop:"5px solid #FFFFFF"}}}}var x=document.createElement("div");x.setAttribute("desc",i.className);x.style.display=c.display;if(c.width){if(typeof c.width==="string"){x.style.width=c.width}else{x.style.width=c.width+"px"}}if(c.height){if(typeof c.height==="string"){x.style.height=c.height}else{x.style.height=c.height+"px"}}x.style.position="relative";if(c.hidden===true){x.style.visibility="hidden";x.style.display="none"}o.appendChild(x);i.el=x;d=document.createElement("div");d.setAttribute("desc","button");e(d,"button");f(d);var w=document.createElement("div");if(x.style.display==="inline-block"){w.style.display="table";if(c.width){w.style.width=x.style.width}}w.style.height="100%";x.appendChild(w);w.appendChild(d);k=document.createElement("div");h(k,"icon");n=document.createElement("div");h(n,"arrow");m=document.createElement("div");h(m,"label");if(c.label){m.innerHTML=c.label}var D=l();D.style.fontFamily="inherit";D.style.textAlign="inherit";D.style.color="inherit";var r=D.firstChild;var s=document.createElement("tr");r.appendChild(s);var z;z=document.createElement("td");s.appendChild(z);if(G==="left"){k=document.createElement("div");h(k,"icon");z.appendChild(k)}else{n=document.createElement("div");h(n,"arrow");z.appendChild(n)}z=document.createElement("td");z.style.width="100%";s.appendChild(z);m=document.createElement("div");h(m,"label");if(c.label){m.innerHTML=c.label}z.appendChild(m);z=document.createElement("td");s.appendChild(z);if(G==="left"){n=document.createElement("div");h(n,"arrow");z.appendChild(n)}else{k=document.createElement("div");h(k,"icon");z.appendChild(k)}d.appendChild(D);if(c.menu===true){c.toggle=true;b=document.createElement("div");b.setAttribute("desc","menu");h(b,"menu");b.style.position="absolute";b.style.visibility="hidden";x.appendChild(b);var H=function(J){if(!d.contains(J.target)){b.style.visibility="hidden";i.deselect()}};window.addEventListener("click",H);var y,E;var C,B,v,t;window.addEventListener("touchstart",function(J){C=J.changedTouches[0].pageX;v=J.changedTouches[0].pageY;y=new Date().getTime();E=null});window.addEventListener("touchend",function(K){E=new Date().getTime();B=K.changedTouches[0].pageX;t=K.changedTouches[0].pageY;var L=Math.sqrt((B-=C)*B+(t-=v)*t);if(L<0){L=-L}var J=E-y;if((J<=500&&L<=10)||(J>500&&L<=10)){H(K)}})}if(c.disabled===true){i.disable()}if(c.selected===true){i.select()}a(i)};var f=function(r){r.unselectable="on";r.onselectstart=function(){return false};var z=function(){if(c.sound!=null){c.sound.play()}if(c.toggle===true){if(b){if(u){i.toggle()}else{}}else{i.toggle()}}else{h(d,"button");h(k,"icon");h(n,"arrow")}i.onClick()};var v;var y;var t,s,x,w;var u=false;r.ontouchstart=function(A){u=true;A.preventDefault();t=A.changedTouches[0].pageX;x=A.changedTouches[0].pageY;v=new Date().getTime();y=null;if(r.selected!==true){e(r,"hover");e(k,"iconHover");e(n,"arrowHover")}};r.ontouchend=function(B){y=new Date().getTime();s=B.changedTouches[0].pageX;w=B.changedTouches[0].pageY;var C=Math.sqrt((s-=t)*s+(w-=x)*w);if(C<0){C=-C}var A=y-v;if((A<=500&&C<=10)||(A>500&&C<=10)){z()}else{h(r,"button");h(k,"icon");h(n,"arrow")}};if(!u){r.onmousedown=function(){e(r,"select");e(k,"iconSelect");e(n,"arrowSelect");if(b){i.toggle()}};r.onclick=function(){z()};r.onmouseover=function(){if(r.selected!==true){e(r,"hover");e(k,"iconHover");e(n,"arrowHover")}};r.onmouseout=function(){if(r.selected!==true){h(r,"button");h(k,"icon");h(n,"arrow")}}}};this.onClick=function(){};this.getText=function(){return m.innerHTML};this.enable=function(){var r=i.el;r.style.opacity="";q.style.visibility="hidden"};this.disable=function(){var r=i.el;r.style.opacity="0.5";if(q){q.style.visibility="visible"}else{q=document.createElement("div");q.setAttribute("desc","mask");q.style.position="absolute";q.style.zIndex="1";q.style.width="100%";q.style.height="100%";r.insertBefore(q,r.firstChild)}};this.isEnabled=function(){return !i.isDisabled()};this.isDisabled=function(){if(q){if(q.style.visibility!=="hidden"){return true}}return false};this.select=function(){if(d.selected===true){return}d.selected=true;h(d,"button");h(k,"icon");h(n,"arrow");e(d,"select");e(k,"iconSelect");e(n,"arrowSelect")};this.deselect=function(){if(d.selected===true){d.selected=false;h(d,"button");h(k,"icon");h(n,"arrow")}};this.isSelected=function(){return(d.selected===true)};this.toggle=function(){if(c.toggle===true){if(d.selected===true){i.deselect();if(b){b.style.visibility="hidden"}}else{i.select();if(b){b.style.visibility="visible"}}}};this.getMenuPanel=function(){return b};var j=javaxt.dhtml.utils.merge;var l=javaxt.dhtml.utils.createTable;var a=javaxt.dhtml.utils.addShowHide;var h=function(s,r){javaxt.dhtml.utils.setStyle(s,c.style[r])};var e=function(s,r){javaxt.dhtml.utils.addStyle(s,c.style[r])};p()};
javaxt.dhtml.Calendar=function(k,c){this.className="javaxt.dhtml.Calendar";var h=this;var j=null;var n={};var m;var d=false;var a=[];var g={};var l={day:javaxt.dhtml.calendar.Day,week:javaxt.dhtml.calendar.Week,month:javaxt.dhtml.calendar.Month};var o=function(){var u={};i(u,c);c=u;if(c.eventStore==null){c.eventStore=new javaxt.dhtml.calendar.EventStore()}var r=c.listeners;var q=null;var p=null;if(r!=null){for(var s in r){if(r.hasOwnProperty(s)){var t=r[s];if(s=="beforerender"){q=t;delete r[s]}else{if(s=="afterrender"){p=t;delete r[s]}else{g[s]=t;(function(v){r[v]=function(){var z=[];for(var A=0;A<arguments.length;A++){var w=arguments[A];for(var y in l){if(l.hasOwnProperty(y)){var x=l[y];if(w instanceof x){w=h;break}}}z.push(w)}if(!d){a.push({name:v,args:z});return}var B=g[v];if(B!=null){B.apply(h,z)}}})(s)}}}}}e();new javaxt.dhtml.calendar.View(h,c);if(q!=null){q.apply(h,[h])}h.setView(c.view);if(p!=null){p.apply(h,[h])}f()};var e=function(){a=[];d=false};var f=function(){d=true;for(var q=0;q<a.length;q++){var r=a[q];var s=g[r.name];var p=r.args;if(s!=null){s.apply(h,p)}}a=[]};var b=function(){for(var p in j){if(j.hasOwnProperty(p)&&p!=="className"){h[p]=j[p]}}};this.setView=function(s){if(s!=null){s=s.toLowerCase()}if(s==m){return}var u=n[s];if(u!=null){m=s;var q=j.getDate();j.hide();j=u;j.setDate(q);b();j.show();j.refresh();var r=h.getListener("update");if(r!=null){r.callback.apply(r.scope,[h])}}else{var t=null;for(var p in l){if(l.hasOwnProperty(p)){if(s==p){t=l[p];break}}}if(t){e();var q=null;if(j!=null){q=j.getDate();j.hide()}j=new t(k,c);if(q!=null){j.setDate(q)}b();n[s]=j;m=s;f()}}};this.getView=function(){return j};var i=function(q,s){for(var r in s){if(s.hasOwnProperty(r)&&typeof q[r]!=="undefined"){if(r!=0){i(q[r],s[r])}}else{q[r]=s[r]}}};o()};
if(!javaxt.dhtml.calendar)javaxt.dhtml.calendar={};javaxt.dhtml.calendar.Day=function(parent,config){this.className="javaxt.dhtml.calendar.Day";var me=this;var el;var bodyDiv;var footerRow;var multidayRow,multidayEventsTable;var currTimeDiv,getCurrentDate;var rendered;var startDate,endDate;var cells={};var widths={};var rowHeights=[];var scrollWidth;var scrollable=true;var days=1;var date;var store;var eventHeight=17;var eventPadding=2;var holdDelay=500;var debug=false;var isFirefox=navigator.userAgent.toLowerCase().indexOf('firefox')>-1;var isIE=window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1;var init=function(){new javaxt.dhtml.calendar.View(me,config);store=config.eventStore==null?new javaxt.dhtml.calendar.EventStore():config.eventStore;if(config.days!=null)days=config.days;function isNumeric(n){return!isNaN(parseFloat(n))&&isFinite(n);}
if(isNumeric(config.eventHeight))eventHeight=parseInt(config.eventHeight);if(isNumeric(config.eventPadding))eventPadding=parseInt(config.eventPadding);getCurrentDate=config.getCurrentDate==null?getCurrentDate=function(){return new Date();}:config.getCurrentDate;if(config.renderers){for(var rendererName in config.renderers){if(config.renderers.hasOwnProperty(rendererName)){if(me[rendererName]){(function(rendererName){me[rendererName]=function(){var renderer=config.renderers[rendererName];return renderer.apply(me,arguments);};})(rendererName);}}}}
rendered=false;var listener=me.getListener('beforerender');if(listener!=null)listener.callback.apply(listener.scope,[me]);me.setDate(config.date);listener=me.getListener('afterrender');if(listener!=null)listener.callback.apply(listener.scope,[me]);rendered=true;listener=me.getListener('update');if(listener!=null)listener.callback.apply(listener.scope,[me]);};this.hasHours=function(){return true;};this.show=function(){parent.appendChild(el);};this.hide=function(){parent.removeChild(el);};this.showFooter=function(){footerRow.style.display='';};this.hideFooter=function(){footerRow.style.display="none";};this.enableTouch=function(){scrollable=true;};this.disableTouch=function(){scrollable=false;};var renderTable=function(){if(el!=null){for(var i=0;i<parent.childNodes.length;i++){if(parent.childNodes[i]==el){parent.removeChild(el);break;}}}
cells={};widths={};rowHeights=[];var div,tbody,tr,td;tbody=createTable();var table=el=tbody.parentNode;table.className="javaxt-noselect";table.style.cursor="default";parent.appendChild(table);tr=document.createElement("tr");tr.setAttribute("desc","header");tr.className="javaxt-cal-header";tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="inherit";tr.appendChild(td);var header=td;tr=document.createElement("tr");tr.setAttribute("desc","multiday events");tr.className="javaxt-cal-multiday-header";tr.style.display="none";tr.style.visibility="hidden";multidayRow=tr;tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="inherit";tr.appendChild(td);var multidayDiv=document.createElement('div');multidayDiv.setAttribute("desc","multiday-div");multidayDiv.style.width="100%";multidayDiv.style.height="inherit";multidayDiv.style.position="relative";td.appendChild(multidayDiv);tr=document.createElement("tr");tr.setAttribute("desc","body");tr.className="javaxt-cal-body";tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="100%";tr.appendChild(td);bodyDiv=document.createElement('div');bodyDiv.setAttribute("desc","body-div");bodyDiv.style.width="100%";bodyDiv.style.height="100%";bodyDiv.style.position="relative";td.appendChild(bodyDiv);div=document.createElement('div');div.style.width="100%";div.style.height="100%";div.style.position="absolute";div.style.overflow='scroll';div.style.overflowX='hidden';bodyDiv.appendChild(div);bodyDiv=div;bodyDiv.addEventListener('touchstart',function(e){if(!scrollable)e.preventDefault();},false);bodyDiv.addEventListener('touchmove',function(e){if(!scrollable)e.preventDefault();},false);var listener=me.getListener('scroll');if(listener){div.addEventListener('scroll',function(e){listener.callback.apply(listener.scope,[me]);},false);}
tr=document.createElement("tr");tr.setAttribute("desc","footer");tr.className="javaxt-cal-footer";tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="inherit";tr.appendChild(td);footerRow=tr;var footer=td;currTimeDiv=document.createElement("div");currTimeDiv.className="javaxt-cal-current-time-indicator";currTimeDiv.style.position="absolute";currTimeDiv.style.width="100%";currTimeDiv.style.display="none";bodyDiv.appendChild(currTimeDiv);tbody=createTable();header.appendChild(tbody.parentNode);tr=document.createElement("tr");tbody.appendChild(tr);td=document.createElement("td");tr.appendChild(td);var spacerUL=document.createElement('div');td.appendChild(spacerUL);var d=new Date(startDate);for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-header-col";td.style.width=(100/days)+'%';td.style.height="100%";td.appendChild(me.createColumnHeader(d.getDay()));tr.appendChild(td);d.setDate(d.getDate()+1);}
td=document.createElement("td");tr.appendChild(td);var spacerUR=document.createElement('div');td.appendChild(spacerUR);tbody=createTable();footer.appendChild(tbody.parentNode);tr=document.createElement("tr");tbody.appendChild(tr);td=document.createElement("td");tr.appendChild(td);var spacerLL=document.createElement('div');td.appendChild(spacerLL);var d=new Date(startDate);for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-footer-col";td.style.width=(100/days)+'%';td.style.height="100%";td.appendChild(me.createColumnFooter(d.getDay()));tr.appendChild(td);d.setDate(d.getDate()+1);}
td=document.createElement("td");tr.appendChild(td);var spacerLR=document.createElement('div');td.appendChild(spacerLR);var multidayContent=document.createElement('div');multidayContent.setAttribute("desc","multiday-content");multidayContent.style.width="100%";multidayContent.style.height="100%";multidayContent.style.position="relative";multidayDiv.appendChild(multidayContent);div=document.createElement('div');multidayContent.appendChild(div);div.style.width="100%";div.style.height="100%";div.style.position="absolute";div.style.overflow='scroll';div.style.overflowX='hidden';tbody=createTable();div.appendChild(tbody.parentNode);tr=document.createElement("tr");tbody.appendChild(tr);td=document.createElement("td");tr.appendChild(td);var spacerML=document.createElement('div');td.appendChild(spacerML);for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-multiday-col";td.style.width=(100/days)+'%';td.style.height="1px";tr.appendChild(td);}
multidayEventsTable=tbody;tbody=createTable();bodyDiv.appendChild(tbody.parentNode);var row=document.createElement('tr');tbody.appendChild(row);var leftCol=document.createElement('td');leftCol.style.verticalAlign="top";row.appendChild(leftCol);var hours=document.createElement('table');hours.style.borderCollapse="collapse";hours.cellSpacing=0;hours.cellPadding=0;leftCol.appendChild(hours);tbody=document.createElement('tbody');hours.appendChild(tbody);for(var i=0;i<24;i++){var tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');td.className="javaxt-cal-hour"+(i==23?" javaxt-cal-hour-last":"");if(i==0)td.style.borderTop="0px";td.appendChild(me.createHourLabel(i));tr.appendChild(td);}
var d=new Date(startDate);for(var i=0;i<days;i++){td=document.createElement('td');td.className='javaxt-cal-cell';td.style.width=(100/days)+'%';td.style.height="100%";td.style.verticalAlign="top";td.valign="top";row.appendChild(td);var outerDiv=document.createElement('div');outerDiv.style.width="100%";outerDiv.style.height="100%";outerDiv.style.position="relative";outerDiv.style.cursor="inherit";var innerDiv=document.createElement('div');innerDiv.style.width="100%";innerDiv.style.height="100%";innerDiv.style.position="absolute";innerDiv.style.whiteSpace='nowrap';innerDiv.style.overflow='hidden';innerDiv.style.cursor="inherit";outerDiv.appendChild(innerDiv);var cell=innerDiv;var cellID=(d.getMonth()+1)+"-"+d.getDate()+"-"+d.getFullYear();cell.date=new Date(d);cells[cellID]=cell;td.appendChild(outerDiv);var innerTable=document.createElement('table');innerTable.cellSpacing=0;innerTable.cellPadding=0;innerTable.style.width="100%";innerTable.style.borderCollapse="collapse";tbody=document.createElement('tbody');innerTable.appendChild(tbody);cell.appendChild(innerTable);for(var j=0;j<24*2;j++){var tr=document.createElement('tr');tbody.appendChild(tr);var col=document.createElement('td');col.className="javaxt-cal-half-hour"+(j%2==0?"":" javaxt-cal-half-hour-sep")+(j==47?" javaxt-cal-hour-last":"");if(j==0)col.style.borderTop="0px";tr.appendChild(col);addListeners(tr,holdDelay);}
d.setDate(d.getDate()+1);}
var lt=_getRect(leftCol.childNodes[0]).width;spacerUL.style.width=spacerML.style.width=spacerLL.style.width=lt+'px';var bodyWidth=_getRect(bodyDiv).width;var tableWidth=_getRect(leftCol.parentNode.parentNode.parentNode).width;scrollWidth=Math.abs(bodyWidth-tableWidth);spacerUR.style.width=spacerLR.style.width=scrollWidth+'px';currTimeDiv.style.left=lt+'px';updateCurrTime();var epoch=getCurrentDate().getTime()/1000;var secondsSinceLastTimerTrigger=epoch%60;var secondsUntilNextTimerTrigger=60-secondsSinceLastTimerTrigger;setTimeout(function(){setInterval(updateCurrTime,60*1000);updateCurrTime();},secondsUntilNextTimerTrigger*1000);me.scrollTo(6.5);if(rendered){var listener=me.getListener('update');if(listener!=null)listener.callback.apply(listener.scope,[me]);}};var addListeners=function(cell,holdDelay){var holdStarter=null;var holdActive=false;var onMouseDown=function(e){var tr=this;holdStarter=setTimeout(function(){holdStarter=null;holdActive=true;var listener=me.getListener('cellhold');if(listener){var callback=listener.callback;var scope=listener.scope;var date=getDate();callback.apply(scope,[date,tr,me,e]);}},holdDelay);};var onMouseUp=function(e){var tr=this;var date=getDate();if(holdStarter){clearTimeout(holdStarter);var listener=me.getListener('cellclick');if(listener){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[date,tr,me,e]);}}
else if(holdActive){holdActive=false;var listener=me.getListener('cellrelease');if(listener){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[date,tr,me,e]);}}};cell.onmousedown=onMouseDown;cell.onmouseup=onMouseUp;cell.ontouchstart=function(e){var touch=e.touches[0];var x=touch.pageX;var y=touch.pageY;this.onmousedown.apply(this,[{clientX:x,clientY:y}]);};cell.ontouchend=function(e){var touch=e.changedTouches[0];var x=touch.pageX;var y=touch.pageY;this.onmouseup.apply(this,[{clientX:x,clientY:y}]);};var getDate=function(){var tbody=cell.parentNode;var _cell=tbody.parentNode.parentNode;var date=new Date(_cell.date);var hour=0;for(var i=0;i<tbody.childNodes.length;i++){var tr=tbody.childNodes[i];if(tr===cell){hour=(i/2);break;}}
date.setTime(date.getTime()+((hour*60)*60*1000));return date;};};this.createColumnHeader=function(i){var outerDiv=document.createElement('div');outerDiv.style.width="100%";outerDiv.style.height="100%";outerDiv.style.position="relative";outerDiv.style.cursor="inherit";var innerDiv=document.createElement('div');innerDiv.style.width="100%";innerDiv.style.height="100%";innerDiv.style.position="absolute";innerDiv.style.whiteSpace='nowrap';innerDiv.style.overflow='hidden';innerDiv.style.cursor="inherit";var text=javaxt.dhtml.calendar.Utils.dayNames[i];if(days>1)text=text.substring(0,3);innerDiv.innerHTML=text;outerDiv.appendChild(innerDiv);return outerDiv;};this.createColumnFooter=function(i){return document.createElement('div');};this.createHourLabel=function(hour){var div=document.createElement('div');div.style.float="right";div.style.padding="0px 7px 0px 7px";var meridian='AM';if(hour==0)hour=12;else if(hour==12)meridian='PM';else if(hour>12){hour=(hour-12);meridian='PM';}
var hdr=document.createElement('table');hdr.cellSpacing=0;hdr.cellPadding=0;div.appendChild(hdr);var t=document.createElement('tbody');hdr.appendChild(t);var tr=document.createElement('tr');t.appendChild(tr);var td=document.createElement('td');td.className="javaxt-cal-label-hour";td.innerHTML=hour;tr.appendChild(td);td=document.createElement('td');td.className="javaxt-cal-label-meridian";td.innerHTML=meridian;tr.appendChild(td);return div;};var updateCurrTime=function(){var date=getCurrentDate();var cellID=(date.getMonth()+1)+"-"+date.getDate()+"-"+date.getFullYear();var cell=cells[cellID];if(cell){var hours=date.getHours();var h1=getVerticalOffset(hours,cell);var h2=getVerticalOffset(hours+1,cell);var pixelsPerMinute=(h2-h1)/60;var h=h1+(date.getMinutes()*pixelsPerMinute);currTimeDiv.style.display='';currTimeDiv.style.top=h+"px";}
else{currTimeDiv.style.display="none";}};this.scrollTo=function(hour){var cellID=(date.getMonth()+1)+"-"+date.getDate()+"-"+date.getFullYear();var cell=cells[cellID];var offset=getVerticalOffset(hour,cell);bodyDiv.scrollTop=offset+1;};this.getScrollDiv=function(){return bodyDiv;};var getVerticalOffset=function(hour,cell){if(rowHeights.length==0){var tbody=cell.childNodes[0].childNodes[0];var rows=tbody.childNodes;for(var i=0;i<rows.length;i++){var tr=rows[i];var rect=_getRect(tr);rowHeights.push(rect.height);}}
var offset=0;for(var i=0;i<rowHeights.length;i++){var rowHeight=rowHeights[i];offset+=rowHeight;var h=i*0.5;if(h>=hour){return(offset-rowHeight);}}
return 0;};this.getEventStore=function(){return store;};this.addEvent=function(event){addEvent(event);};var addEvent=function(event,deferUpdates){log("Adding "+event.getSubject()+"...");var numDays=event.numDays();if(numDays>=1){for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];if(div.event.equals(event)){return;}}}}}
else{var divs=getDivs(event.getStartDate());for(var i=0;i<divs.length;i++){var div=divs[i];if(div.event.equals(event)){return;}}}
if(numDays>=1){addMultiDayEvent(event);}
else{addSingleDayEvent(event,deferUpdates);}
store.add(event);};this.addEvents=function(events){for(var i=0;i<events.length;i++){addEvent(events[i],true);}
var singleDayEvents=[];events=me.getEvents();for(var i=0;i<events.length;i++){var event=events[i];if(event.numDays()<1){var div=getDiv(event);if(div!=null)singleDayEvents.push(event);}}
var processedEvents=[];var isProcessed=function(event){for(var i=0;i<processedEvents.length;i++){if(processedEvents[i].equals(event)){return true;}}
return false;};for(var i=0;i<singleDayEvents.length;i++){var event=singleDayEvents[i];var updateWidth=!isProcessed(event);if(updateWidth){var overlappingEvents=getOverlappingEvents(event);if(overlappingEvents.length>0){var numColumns=2;if(overlappingEvents.length>1){for(var j=0;j<overlappingEvents.length;j++){var _event=overlappingEvents[j];var _startDate=_event.getStartDate();var _endDate=_event.getEndDate();var numIntersects=0;for(var k=0;k<overlappingEvents.length;k++){if(!overlappingEvents[k].equals(_event)){var a=overlappingEvents[k].getStartDate();var b=overlappingEvents[k].getEndDate();if(_startDate.getTime()<b.getTime()&&a.getTime()<_endDate.getTime()){numIntersects++;}}}
if(numIntersects>0){var _numColumns=1+1+numIntersects;if(_numColumns>numColumns)numColumns=_numColumns;}}}
var width=(Math.floor((1/(numColumns))*100));log("Update "+event.getSubject()+" width to "+width+"%");var outerDiv=getDiv(event);outerDiv.style.width=width+"%";for(var j=0;j<overlappingEvents.length;j++){var _event=overlappingEvents[j];var _outerDiv=getDiv(_event);var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];if(_width<width)width=_width;_outerDiv.style.width=width+"%";processedEvents.push(_event);}}}
processedEvents.push(event);}
processedEvents=[];for(var i=0;i<singleDayEvents.length;i++){var event=singleDayEvents[i];if(!isProcessed(event)){var overlappingEvents=getOverlappingEvents(event);if(overlappingEvents.length>0){for(var j=0;j<overlappingEvents.length;j++){var _event=overlappingEvents[j];var _outerDiv=getDiv(_event);var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];updatePosition(_outerDiv,_event,_width);processedEvents.push(_event);}}}
processedEvents.push(event);}
processedEvents=null;for(var i=0;i<singleDayEvents.length;i++){var event=singleDayEvents[i];var outerDiv=getDiv(event);var width=parseInt(outerDiv.style.width);if(widths["_"+width]!=null)width=widths["_"+width];var numColumns=Math.floor(100/width);if(numColumns>1){var left=parseInt(outerDiv.style.left);var colIndex=Math.floor(left/width)+1;log(event.getSubject()+" is in column "+colIndex+"/"+numColumns);if(colIndex===(numColumns-1)){var overlappingEvents=getOverlappingEvents(event);var nextEvent=overlappingEvents[overlappingEvents.length-1];var nextDiv=getDiv(nextEvent);var orgWidth=parseInt(outerDiv.style.width);var newWidth=parseInt(nextDiv.style.left)-left;if(newWidth>orgWidth){log("   ++ Updating "+event.getSubject()+" width to "+newWidth+"% (was "+orgWidth+"%)");outerDiv.style.width=newWidth+"%";}}}}};this.removeEvent=function(event){store.remove(event);if(event.numDays()>=1){for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];if(div.event.equals(event)){td.removeChild(div);var colSpan=td.colSpan;if(colSpan>=2){td.colSpan=1;var nextSibling=td.nextSibling;var clone=td.cloneNode(true);for(var k=0;k<colSpan;k++){if(nextSibling){tr.insertBefore(clone,nextSibling);}
else{tr.appendChild(clone);}}}
if(multidayEventsTable.childNodes.length>1){var hasEvents=false;for(var k=1;k<tr.childNodes.length;k++){if(tr.childNodes[k].childNodes.length>0){hasEvents=true;break;}}
if(!hasEvents){multidayEventsTable.removeChild(tr);}}
var maxHeight=(multidayEventsTable.childNodes.length-1)*(eventHeight+eventPadding);if(maxHeight==0){multidayRow.style.display="none";multidayRow.style.visibility="hidden";}
else{multidayEventsTable.parentNode.parentNode.parentNode.style.height=(maxHeight+(eventPadding))+"px";}
return;}}}}}
else{var divs=getDivs(event.getStartDate());for(var i=0;i<divs.length;i++){var div=divs[i];if(div.event.equals(event)){var parentNode=div.parentNode;parentNode.removeChild(div);break;}}
var overlappingEvents=getOverlappingEvents(event);if(overlappingEvents.length>0){for(var i=0;i<overlappingEvents.length;i++){for(var j=0;j<divs.length;j++){var div=divs[j];if(div.event.equals(overlappingEvents[i])){var parentNode=div.parentNode;parentNode.removeChild(div);break;}}}
me.addEvents(overlappingEvents);}}};this.getEvents=function(){var events=[];var d=new Date(date);if(days>1&&d.getDay()>0)d.setDate(d.getDate()-d.getDay());for(var i=0;i<days;i++){var divs=getDivs(d);for(var j=0;j<divs.length;j++){var div=divs[j];var event=div.event;events.push(event);}
d.setDate(d.getDate()+1);}
for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];var event=div.event;var addEvent=true;for(var k=0;k<events.length;k++){if(events[k].equals(event)){addEvent=false;break;}}
if(addEvent)events.push(event);}}}
return events;};this.clear=function(){var d=new Date(date);if(days>1&&d.getDay()>0)d.setDate(d.getDate()-d.getDay());for(var i=0;i<days;i++){var divs=getDivs(d);for(var j=0;j<divs.length;j++){var div=divs[j];var event=div.event;store.remove(event);var parentNode=div.parentNode;parentNode.removeChild(div);}
d.setDate(d.getDate()+1);}
var row=multidayEventsTable.childNodes[0];while(row.nextSibling){var tr=row.nextSibling;for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];var event=div.event;store.remove(event);}}
multidayEventsTable.removeChild(tr);}
multidayRow.style.display="none";multidayRow.style.visibility="hidden";};this.refresh=function(){var events=me.getEvents();me.clear();me.addEvents(events);me.scrollTo(6.5);};var addSingleDayEvent=function(event,deferUpdates){if(deferUpdates!=true)deferUpdates=false;var d=event.getStartDate();var cellID=(d.getMonth()+1)+"-"+d.getDate()+"-"+d.getFullYear();var cell=cells[cellID];if(cell==null)return;var width=100;var overlappingEvents,rects,leftCoords;if(!deferUpdates){rects=[];var overlappingEvents=getOverlappingEvents(event);for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];var _outerDiv=getDiv(_event);if(_outerDiv!=null){rects.push(_getRect(_outerDiv));}}
leftCoords=[];for(var i=0;i<rects.length;i++){var x=rects[i].left;var addCoord=true;for(j=0;j<leftCoords.length;j++){if(leftCoords[j]==x){addCoord=false;break;}}
if(addCoord)leftCoords.push(x);}
leftCoords.sort(function(a,b){return a-b;});var numColumns=leftCoords.length;width=(Math.floor((1/(numColumns+1))*100));for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];var _outerDiv=getDiv(_event);if(_outerDiv!=null){var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];if(_width<width)width=_width;}}
for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];var _outerDiv=getDiv(_event);if(_outerDiv!=null){var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];if(width<_width)_width=width;log(event.getSubject()+" intersects "+_event.getSubject());log("   Moving "+_event.getSubject()+" to 0 and setting width to "+_width+"% (was "+_outerDiv.style.width+")");_outerDiv.style.width=_width+"%";_outerDiv.style.left="0px";updatePadding(_outerDiv);if(!deferUpdates)updatePosition(_outerDiv,_event,_width);}}}
var outerDiv=document.createElement('div');outerDiv.style.width=width+"%";outerDiv.style.left="0px";updatePadding(outerDiv);outerDiv.style.position="absolute";var startTime=event.getStartDate().getHours()+(event.getStartDate().getMinutes()/60);var endTime=event.getEndDate().getHours()+(event.getEndDate().getMinutes()/60);var y=getVerticalOffset(startTime,cell);var h=getVerticalOffset(endTime,cell)-y;outerDiv.style.top=y+"px";outerDiv.style.height=h+'px';outerDiv.event=event;cell.appendChild(outerDiv);var div=event.createDiv();var tbody=createTable();outerDiv.appendChild(tbody.parentNode);var tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');tr.appendChild(td);td.style.verticalAlign="top";td.style.width="100%";td.style.height="100%";td.style.padding=((eventPadding/2)+1)+"px "+eventPadding+"px "+(eventPadding/2)+"px";td.appendChild(div);if(isIE){td.style.paddingTop=(eventPadding/2)+"px";td.style.paddingBottom=(eventPadding+1)+"px";}
if(isFirefox){td.style.paddingTop=(eventPadding/2)+"px";td.style.paddingBottom=(((eventPadding/2)+1)*2)+"px";}
if(event.isEditable())initDrag(outerDiv,me,holdDelay);else{outerDiv.onclick=function(e){var listener=me.getListener('eventclick');if(listener!=null){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[this.event,this,me,e]);}};}
if(!deferUpdates){if(overlappingEvents.length>0){log("Update "+event.getSubject()+"?");updatePosition(outerDiv,event,width);var rightDiv;var r1=_getRect(outerDiv);var _right=r1.right;for(var i=0;i<leftCoords.length;i++){if(leftCoords[i]>=_right){for(var j=0;j<rects.length;j++){var x=rects[j].left;if(x==leftCoords[i]){rightDiv=getDiv(overlappingEvents[j]);break;}}
break;}
if(rightDiv!=null)break;}
if(rightDiv!=null){var _left=parseInt(outerDiv.style.left);var newWidth=parseInt(rightDiv.style.left)-_left;log("   ++ Updating "+event.getSubject()+" width to "+newWidth+"% (was "+width+"%)");outerDiv.style.width=newWidth+"%";}}}};var addMultiDayEvent=function(event){if(event.getEndDate()<startDate||event.getStartDate()>endDate)return;var startColID,endColID;var continueLeft=false;var continueRight=false;var a=javaxt.dhtml.calendar.Utils.getDaysBetween(startDate,event.getStartDate());var b=javaxt.dhtml.calendar.Utils.getDaysBetween(startDate,event.getEndDate());startColID=a;if(a<0){startColID=0;continueLeft=true;}
startColID=Math.floor(startColID);endColID=startColID+b;if(endColID>days-1){endColID=days-1;continueRight=true;}
endColID=Math.floor(endColID);var startCol,endCol;for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];var idx=0;for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(idx==startColID){if(td.childNodes.length==0){startCol=td;}
else{i=multidayEventsTable.childNodes.length;break;}}
if(idx==endColID){if(td.childNodes.length==0){endCol=td;if(startCol!=endCol){var previousCol=td.previousSibling;while(previousCol!=startCol){if(previousCol.childNodes.length>0){startCol=endCol=null;break;}
previousCol=previousCol.previousSibling;}}}
i=multidayEventsTable.childNodes.length;break;}
var colSpan=td.colSpan;if(colSpan>=2)idx+=colSpan;else idx++;}}
if(!startCol||!endCol){var tr=document.createElement("tr");multidayEventsTable.appendChild(tr);var td=document.createElement("td");td.className="javaxt-cal-multiday-col-spacer";tr.appendChild(td);if(multidayEventsTable.childNodes.length>1){tr.previousSibling.childNodes[0].style.height='';}
td.style.height="100%";for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-multiday-col";tr.appendChild(td);if(i==startColID)startCol=td;if(i==endColID)endCol=td;}}
var colSpan=(endColID-startColID)+1;if(colSpan>=2){javaxt.dhtml.calendar.Utils.addColSpan(startCol,colSpan);}
var outerDiv=document.createElement('div');outerDiv.style.width="100%";outerDiv.style.height="100%";outerDiv.style.position="absolute";var innerDiv=document.createElement('div');innerDiv.style.height="100%";var paddingLeft=continueLeft?"0px":eventPadding+"px";var paddingRight=continueRight?"0px":eventPadding+"px";innerDiv.style.padding="0px "+paddingRight+" 0px "+paddingLeft;innerDiv.style.position="relative";outerDiv.appendChild(innerDiv);var div=event.createDiv(continueLeft,continueRight);div.style.height="100%";innerDiv.appendChild(div);var wrapper=document.createElement('div');wrapper.style.width="100%";wrapper.style.height=eventHeight+"px";wrapper.style.position="relative";wrapper.style.marginTop=(multidayEventsTable.childNodes.length>2?(eventPadding*2):0)+"px";wrapper.appendChild(outerDiv);wrapper.event=event;wrapper.onclick=function(e){var listener=me.getListener('eventclick');if(listener!=null){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[this.event,this,me,e]);}};startCol.appendChild(wrapper);multidayRow.style.display='';multidayRow.style.visibility="visible";var numMultiDayEvents=multidayEventsTable.childNodes.length-1;var h=numMultiDayEvents*(eventHeight+eventPadding);h=(h+(eventPadding*2));var multidayEventsDiv=multidayEventsTable.parentNode.parentNode.parentNode;multidayEventsDiv.style.height=h+"px";var h1=multidayEventsTable.childNodes[0].childNodes[1];var c1;for(var id in cells){if(cells.hasOwnProperty(id)){c1=cells[id].parentNode.parentNode;break;}}
var orgHeight=h;while(h1.offsetWidth>c1.offsetWidth){if(h<scrollWidth*2)h=scrollWidth*2;else h++;multidayEventsDiv.style.height=h+"px";if(h===100){multidayEventsDiv.style.height=orgHeight+"px";break;}}};this.getDOM=function(){return el;};this.next=function(){var d=new Date(startDate);d.setDate(d.getDate()+days);me.setDate(d);};this.back=function(){var d=new Date(startDate);d.setDate(d.getDate()-days);me.setDate(d);};this.setDate=function(d){if(d==null)d=getCurrentDate();if(date!=null){if(d.getFullYear()==date.getFullYear()&&d.getMonth()==date.getMonth()&&d.getDate()==date.getDate()){date=d;return;}}
date=d;startDate=new Date(date.getFullYear(),date.getMonth(),date.getDate());if(days>1&&startDate.getDay()>0)startDate.setDate(startDate.getDate()-startDate.getDay());endDate=new Date(startDate);endDate.setDate(endDate.getDate()+days);renderTable();loadEvents();};this.getDate=function(){return date;};this.getDateRange=function(){return{startDate:new Date(startDate),endDate:new Date(endDate)};};this.getTitle=function(){if(days==1){var month=javaxt.dhtml.calendar.Utils.monthNames[date.getMonth()];return(month+" "+date.getDate()+", "+date.getFullYear());}
else{var range=me.getDateRange();var startDate=range.startDate;var endDate=range.endDate;endDate.setDate(endDate.getDate()-1);var startMonth=javaxt.dhtml.calendar.Utils.monthNames[startDate.getMonth()];var endMonth=javaxt.dhtml.calendar.Utils.monthNames[endDate.getMonth()];var a=startMonth+" "+startDate.getDate();var b=endDate.getDate()+", "+endDate.getFullYear();if(startDate.getMonth()==endDate.getMonth()&&startDate.getFullYear()==endDate.getFullYear()){return(a+" - "+b);}
else{if(startDate.getFullYear()==endDate.getFullYear()){return(a+" - "+endMonth+" "+b);}
else{return(a+", "+startDate.getFullYear()+" - "+endMonth+" "+b);}}}};var loadEvents=function(){var events=store.getEvents();for(var i=0;i<events.length;i++){if(events[i].getStartDate().getTime()<endDate.getTime()&&events[i].getEndDate().getTime()>=startDate.getTime()){me.addEvent(events[i]);}}};var updatePosition=function(div,_event,width){var r1=_getRect(div);r1={left:r1.left+1,right:r1.right-1,top:r1.top+1,bottom:r1.bottom-1};var divs=getDivs(_event.getStartDate());var x=0;while(x<=100){var shiftRight=false;for(var j=0;j<divs.length;j++){if(div==divs[j]){}
else{var r2=_getRect(divs[j]);r2={left:r2.left+1,right:r2.right-1,top:r2.top+1,bottom:r2.bottom-1};if(intersects(r1,r2)){log("   -- "+_event.getSubject()+" intersects "+divs[j].innerHTML);log(r1.left+" vs "+r2.left);log(r1.right+" vs "+r2.right);shiftRight=true;break;}}}
if(shiftRight){x++;div.style.left=(x*width)+"%";updatePadding(div);r1=_getRect(div);r1={left:r1.left+1,right:r1.right-1,top:r1.top+1,bottom:r1.bottom-1};log("   -- "+_event.getSubject()+" is now here: "+div.style.left+" (column "+(x+1)+")");}
else{break;}}
log("   -- "+_event.getSubject()+" is in column "+(x+1)+"/"+Math.floor(100/width));var _colIndex=x+1;var _numColumns=Math.floor(100/width);var _left=(x*width);if(_colIndex==_numColumns){if(_left+width<100){var newWidth=(width+(100-(_left+width)));log("   -- Updating "+_event.getSubject()+" width to "+newWidth+"% (was "+width+"%)");div.style.width=newWidth+"%";widths["_"+newWidth]=width;}}};var updatePadding=function(outerDiv){var td;var el=outerDiv;while(el.childNodes.length>0){el=el.childNodes[0];if(el.tagName.toUpperCase()==="TD"){td=el;break;}}
if(td){var left=parseInt(outerDiv.style.left);if(left===0){td.style.paddingLeft=eventPadding+"px";}
else{td.style.paddingLeft="0px";}}};var sortEvents=function(events){var _events=[];for(var i=0;i<events.length;i++){_events.push(events[i]);}
var divs=[];for(var id in cells){if(cells.hasOwnProperty(id)){var cell=cells[id];for(var i=0;i<cell.childNodes.length;i++){var el=cell.childNodes[i];var tagName=el.tagName.toLowerCase();if(tagName=="div"&&el.event!=null)divs.push(el);}}}
var getRow=function(event){var startRow=event.getStartDate().getHours()*2;if(event.getStartDate().getMinutes()>=30)startRow+=1;return startRow;};events.sort(function(event1,event2){var y1=getRow(event1);var y2=getRow(event2);var div1,div2;for(var i=0;i<_events.length;i++){if(_events[i].equals(event1)){div1=divs[i];}
if(_events[i].equals(event2)){div2=divs[i];}
if(div1!=null&&div2!=null)break;}
var x1=parseInt(div1.style.left);var x2=parseInt(div2.style.left);var a=x1+(y1*1000);var b=x2+(y2*1000);return a-b;});return events;};var getOverlappingEvents=function(event){var arr=[];var overlappingEvents=store.getOverlappingEvents(event);for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];if(_event.numDays()<1){var _div=getDiv(_event);if(_div!=null){arr.push(_event);}}}
return sortEvents(arr);};var getDivs=function(date){var divs=[];var d=new Date(date);var cellID=(d.getMonth()+1)+"-"+d.getDate()+"-"+d.getFullYear();var cell=cells[cellID];if(cell!=null){for(var i=0;i<cell.childNodes.length;i++){var el=cell.childNodes[i];var tagName=el.tagName.toLowerCase();if(tagName=="div"&&el.event!=null)divs.push(el);}}
return divs;};var getDiv=function(event){if(event.numDays()>=1){}
else{var divs=getDivs(event.getStartDate());for(var i=0;i<divs.length;i++){var div=divs[i];if(div.event.equals(event))return div;}}
return null;};this.getCells=function(){var arr=[];for(var id in cells){if(cells.hasOwnProperty(id)){var div=cells[id];var rect=_getRect(div);arr.push({id:id,rect:rect});}}
return arr;};var intersects=function(r1,r2){return!(r2.left>r1.right||r2.right<r1.left||r2.top>r1.bottom||r2.bottom<r1.top);};var createTable=function(){var table=document.createElement('table');table.style.width="100%";table.style.height="100%";table.cellSpacing=0;table.cellPadding=0;table.style.borderCollapse="collapse";var tbody=document.createElement('tbody');table.appendChild(tbody);return tbody;};var _getRect=javaxt.dhtml.calendar.Utils.getRect;var initDrag=javaxt.dhtml.calendar.Utils.initDrag;var log=function(str){if(debug)console.log(str);};init();};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Event=function(d){var h=this;var a;var i;var b,e;var c;var g;var j=function(){a=d.id;i=d.subject;b=new Date(d.startDate);e=new Date(d.endDate);c=d.editable;if(c==true){c=true}else{c=false}g={};for(var k in d){if(d.hasOwnProperty(k)){switch(k){case"subject","startDate","endDate","editable":break;default:g[k]=d[k]}}}};this.getID=function(){return a};this.getSubject=function(){return i};this.getStartDate=function(){return new Date(b)};this.setStartDate=function(k){b=new Date(k)};this.getEndDate=function(){return new Date(e)};this.setEndDate=function(k){e=new Date(k)};this.numDays=function(){return Math.floor(javaxt.dhtml.calendar.Utils.getDaysBetween(b,e))};this.isEditable=function(){return c};this.setEditable=function(k){c=k};this.get=function(k){switch(k){case"subject":return getSubject();break;case"startDate":return getStartDate();break;case"endDate":return getEndDate();break;case"editable":return isEditable();break;default:return g[k]}};this.toJson=function(){var l={};for(var k in g){if(g.hasOwnProperty(k)){l[k]=g[k]}}for(var k in h){if(h.hasOwnProperty(k)){if(k.indexOf("get")==0&&k!="get"){var m=h[k];k=k.substring(3,4).toLowerCase()+k.substring(4);if(k=="iD"){k="id"}var n=m.apply(h,[]);if(n instanceof Date){n=f(n)}l[k]=n}else{if(k.indexOf("is")==0){var m=h[k];k=k.substring(2,3).toLowerCase()+k.substring(3);l[k]=m.apply(h,[])}}}}return l};this.equals=function(o){var m=h.toJson();var l=o.toJson();for(var n in m){if(m.hasOwnProperty(n)){var k=m[n];var p=l[n];if(k==null&&p!=null){return false}if(k!=null&&p==null){return false}if(k!=null){if(k instanceof Date){if(!(p instanceof Date)){return false}else{k=k.getTime();p=p.getTime()}}if(k!=p){return false}}}}return true};this.createDiv=function(k,n){var m=document.createElement("div");m.className="javaxt-cal-event"+(k==true?" javaxt-cal-event-continue-left":"")+(n==true?" javaxt-cal-event-continue-right":"");m.style.height="100%";m.style.position="relative";m.style.overflow="hidden";var l=document.createElement("div");l.style.width="100%";l.style.height="100%";l.style.position="absolute";l.style.overflow="hidden";l.innerHTML=h.getSubject();m.appendChild(l);return m};var f=function(k){function l(m){return m<10?"0"+m:m}return k.getUTCFullYear()+"-"+l(k.getUTCMonth()+1)+"-"+l(k.getUTCDate())+"T"+l(k.getUTCHours())+":"+l(k.getUTCMinutes())+":"+l(k.getUTCSeconds())+"Z"};j()};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.EventStore=function(a){this.className="javaxt.dhtml.calendar.EventStore";var b=this;var c=function(){if(a==null||!(a instanceof Array)){a=[]}};this.add=function(d){if(b.contains(d)){return}a.push(d)};this.remove=function(e){for(var d=0;d<a.length;d++){if(a[d].equals(e)){a.splice(d,1);break}}};this.contains=function(e){for(var d=0;d<a.length;d++){if(a[d].equals(e)){return true}}return false};this.clear=function(){a.length=0};this.getEvents=function(){return a};this.getOverlappingEvents=function(j){var e=j.getStartDate();var l=j.getEndDate();var k=[];var h=b.getEvents();for(var g=0;g<h.length;g++){if(!h[g].equals(j)){var f=h[g].getStartDate();var d=h[g].getEndDate();if(e.getTime()<d.getTime()&&f.getTime()<l.getTime()){k.push(h[g])}}}return k};c()};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Month=function(m,D){this.className="javaxt.dhtml.calendar.Month";var E=this;var x;var c,v;var i;var d={};var w={};var A={};var e=[];var a=true;var F;var z;var g=javaxt.dhtml.calendar.Utils.dayNames;var h;var j=17;var r=2;var B=2;var y=500;var q=false;var t=function(){new javaxt.dhtml.calendar.View(E,D);h=D.eventStore==null?new javaxt.dhtml.calendar.EventStore():D.eventStore;function H(J){return !isNaN(parseFloat(J))&&isFinite(J)}if(H(D.eventHeight)){j=parseInt(D.eventHeight)}if(H(D.eventPadding)){r=parseInt(D.eventPadding)}if(H(D.eventSpacing)){B=parseInt(D.eventSpacing)}if(D.renderers){for(var G in D.renderers){if(D.renderers.hasOwnProperty(G)){if(E[G]){(function(J){E[J]=function(){var K=D.renderers[J];return K.apply(E,arguments)}})(G)}}}}F=false;var I=E.getListener("beforerender");if(I!=null){I.callback.apply(I.scope,[E])}E.setDate(D.date);I=E.getListener("afterrender");if(I!=null){I.callback.apply(I.scope,[E])}F=true;I=E.getListener("update");if(I!=null){I.callback.apply(I.scope,[E])}};this.hasHours=function(){return false};this.show=function(){var G=E.getDOM();m.appendChild(G)};this.hide=function(){var G=E.getDOM();m.removeChild(G)};this.enableTouch=function(){a=true};this.disableTouch=function(){a=false};var o=function(){if(x!=null){for(var W=0;W<m.childNodes.length;W++){if(m.childNodes[W]==x){m.removeChild(x);break}}}var G=f();x=G.parentNode;x.className="javaxt-noselect";x.style.cursor="default";var H=document.createElement("tr");H.setAttribute("desc","header-row");H.className="javaxt-cal-header";G.appendChild(H);var V=document.createElement("td");V.style.width="100%";H.appendChild(V);H=document.createElement("tr");H.setAttribute("desc","body-row");H.className="javaxt-cal-body";G.appendChild(H);var O=document.createElement("td");O.style.width="100%";O.style.height="100%";H.appendChild(O);G=f();var K=document.createElement("tr");G.appendChild(K);for(var W=0;W<g.length;W++){var M=document.createElement("td");M.className="javaxt-cal-header-col";M.style.width=(100/g.length)+"%";if(W==0){M.style.borderLeft="0px"}if(W==g.length-1){M.style.borderRight="0px"}M.appendChild(E.createColumnHeader(W));K.appendChild(M)}V.appendChild(G.parentNode);G=f();for(var W=0;W<i;W++){H=document.createElement("tr");M=document.createElement("td");M.style.width="100%";H.appendChild(M);G.appendChild(H);var S=f();M.appendChild(S.parentNode);for(var N=0;N<3;N++){H=document.createElement("tr");S.appendChild(H);M=document.createElement("td");M.style.width="100%";H.appendChild(M);var Y=f();if(N==1){var P=document.createElement("div");P.style.width="100%";P.style.height="100%";P.style.position="absolute";P.style.whiteSpace="nowrap";P.style.overflow="hidden";P.appendChild(Y.parentNode);var L=document.createElement("div");L.style.width="100%";L.style.height="100%";L.style.position="relative";L.appendChild(P);M.style.height="100%";M.appendChild(L)}else{M.appendChild(Y.parentNode)}var R=1;if(N==1){R=2}for(var T=0;T<R;T++){var X=new Date(c);X.setDate(X.getDate()+(W*g.length));H=document.createElement("tr");Y.appendChild(H);for(var U=0;U<g.length;U++){M=document.createElement("td");M.style.width=(100/g.length)+"%";M.className="javaxt-cal-cell";if(X.getMonth()<z.getMonth()){M.className+="-prev-month"}else{if(X.getMonth()>z.getMonth()){M.className+="-next-month"}}var Q=(X.getMonth()+1)+"-"+X.getDate()+"-"+X.getFullYear();var I=d[Q];if(I==null){d[Q]=[M]}else{d[Q].push(M)}M.date=new Date(X);if(N==1){M.onclick=function(ae){var ab=this;var ad=false;var aa=ab.childNodes[0];if(aa.childNodes.length>0){var af=n(aa.childNodes[0]);var Z=aa.childNodes.length==1?af:n(aa.childNodes[aa.childNodes.length-1]);var ag=ae.clientY;if(ag<af.top||ag>Z.bottom){}else{ad=true}}if(!ad){var aj=new Date(ab.date);var ac=E.getListener("cellclick");if(ac!=null){var ah=ac.callback;var ai=ac.scope;ah.apply(ai,[aj,ab,E,ae])}}}}else{M.onclick=function(ad){var ab=this;var Z=new Date(ab.date);var ac=E.getListener("cellclick");if(ac!=null){var ae=ac.callback;var aa=ac.scope;ae.apply(aa,[Z,ab,E,ad])}}}M.ontouchstart=function(aa){aa.preventDefault();if(a){var ac=aa.touches[0];var Z=ac.pageX;var ab=ac.pageY;this.onclick.apply(this,[{clientX:Z,clientY:ab}])}};if(N==0){M.className+=" javaxt-cal-cell-header";M.appendChild(E.createCellHeader(new Date(X),W,U))}else{if(N==1){if(T==0){w[Q]=[M];M.style.height="1px"}else{P=document.createElement("div");P.style.width="100%";P.style.height="100%";P.style.position="relative";M.appendChild(P);A[Q]=M}}else{if(N==2){M.className+=" javaxt-cal-cell-footer";M.style.height="1px";M.appendChild(E.createCellFooter(new Date(X),W,U))}}}X.setDate(X.getDate()+1);if(U==0){M.style.borderLeft="0px"}if(U==g.length-1){M.style.borderRight="0px"}if(W==0){M.style.borderTop="0px"}if(W==i-1){M.style.borderBottom="0px"}H.appendChild(M)}}}}O.appendChild(G.parentNode);m.appendChild(x);if(F){var J=E.getListener("update");if(J!=null){J.callback.apply(J.scope,[E])}}};this.createColumnHeader=function(G){var I=document.createElement("div");I.style.width="100%";I.style.height="100%";I.style.position="relative";var H=document.createElement("div");H.style.width="100%";H.style.height="100%";H.style.position="absolute";H.style.whiteSpace="nowrap";H.style.overflow="hidden";H.innerHTML=g[G];I.appendChild(H);return I};this.createCellHeader=function(I,J,H){var K=I.getDate();var G=javaxt.dhtml.calendar.Utils.monthNames[I.getMonth()].substring(0,3)+" ";if(J==0&&H==0){K=G+K}else{if(K==1){K=G+K}}var L=document.createElement("div");L.innerHTML=K;return L};this.createCellFooter=function(H,I,G){var J=document.createElement("div");return J};this.getCells=function(){var L=[];for(var H in d){if(d.hasOwnProperty(H)){var O=d[H];var K=n(O[0]);var J=n(O[O.length-1]);var I=K.left;var G=K.right;var P=K.top;var N=J.bottom;var M={left:I,right:G,top:P,bottom:N,width:G-I,height:N-P};L.push({id:H,rect:M})}}return L};this.getEventStore=function(){return h};this.addEvent=function(H){k("Adding "+H.getSubject()+"...");var N=H.numDays();if(N>=1){for(var I in w){if(w.hasOwnProperty(I)){var O=w[I];if(O!=null){for(var M=1;M<O.length;M++){var L=O[M];var J=L.firstChild;if(J!=null){var K=J.event;if(K.equals(H)){return}}}}}}}else{var P=H.getStartDate();var I=(P.getMonth()+1)+"-"+P.getDate()+"-"+P.getFullYear();var L=A[I];if(L!=null){var G=L.childNodes[0];for(var M=0;M<G.childNodes.length;M++){if(G.childNodes[M].event.equals(H)){return}}}}if(N>=1){b(H)}else{C(H)}h.add(H)};this.removeEvent=function(aa){h.remove(aa);if(aa.numDays()>=1){var S=[];for(var W in w){if(w.hasOwnProperty(W)){var H=w[W];for(var ac=1;ac<H.length;ac++){var Q=H[ac];var L=Q.firstChild;if(L!=null){var P=L.event;if(P.equals(aa)){Q.removeChild(L);var K=Q.parentNode;if(K!=null){var J=true;for(var Z=0;Z<S.length;Z++){if(S[Z]==K){J=false;break}}if(J){S.push(K)}}}}}}}for(var ac=0;ac<S.length;ac++){var K=S[ac];var O=0;var T=[];for(Z=0;Z<K.childNodes.length;Z++){var Q=K.childNodes[Z];T.push(Q);var L=Q.firstChild;if(L!=null){O++}}if(O==0){var I=K.parentNode;I.removeChild(K);for(Z=0;Z<T.length;Z++){var Q=T[Z];for(var W in w){if(w.hasOwnProperty(W)){var H=w[W];for(var Y=1;Y<H.length;Y++){var ag=H[Y];if(Q==ag){H.splice(Y,1);if(Q.colSpan>=2){var X=W.split("-");var af=parseInt(X[0]);var ab=parseInt(X[1]);var U=parseInt(X[2]);var ae=new Date(U,af-1,ab);for(var R=1;R<Q.colSpan;R++){ae.setDate(ae.getDate()+1);var M=(ae.getMonth()+1)+"-"+ae.getDate()+"-"+ae.getFullYear();var N=w[M];N.splice(Y,1)}}break}}}}}var G=I.childNodes[0];for(var W in w){if(w.hasOwnProperty(W)){var H=w[W];if(H.length>1){var Q=H[1];if(Q.parentNode!=null){if(Q.parentNode.previousSibling==G){var L=Q.firstChild;if(L!=null){L.style.marginTop="0px"}}}}}}}}u()}else{var ad=aa.getStartDate();var W=(ad.getMonth()+1)+"-"+ad.getDate()+"-"+ad.getFullYear();var Q=A[W];var V=Q.childNodes[0];for(var ac=0;ac<V.childNodes.length;ac++){if(V.childNodes[ac].event.equals(aa)){V.removeChild(V.childNodes[ac]);break}}}};this.getEvents=function(){var P=[];for(var I in A){if(A.hasOwnProperty(I)){var K=A[I];var G=K.childNodes[0];for(var N=0;N<G.childNodes.length;N++){var J=G.childNodes[N];var H=J.event;P.push(H)}}}for(var I in w){if(w.hasOwnProperty(I)){var O=w[I];for(var N=1;N<O.length;N++){var K=O[N];var J=K.firstChild;if(J!=null){var H=J.event;var M=true;for(var L=0;L<P.length;L++){if(P[L].equals(H)){M=false;break}}if(M){P.push(H)}}}}}return P};this.clear=function(){for(var J in A){if(A.hasOwnProperty(J)){var L=A[J];var H=L.childNodes[0];H.style.marginTop="0px";while(H.firstChild){var K=H.firstChild;var I=K.event;h.remove(I);H.removeChild(K)}}}var R=[];for(var J in w){if(w.hasOwnProperty(J)){var P=w[J];for(var O=1;O<P.length;O++){var L=P[O];var K=L.firstChild;if(K!=null){var I=K.event;h.remove(I)}var Q=L.parentNode;if(Q!=null){var G=true;for(var M=0;M<R.length;M++){if(R[M]==Q){G=false;break}}if(G){R.push(Q)}}}w[J]=[P[0]]}}for(var O=0;O<R.length;O++){var Q=R[O];var N=Q.parentNode;N.removeChild(Q)}};this.refresh=function(){var H=E.getEvents();E.clear();for(var G=0;G<H.length;G++){E.addEvent(H[G])}};var C=function(I){var P=I.getStartDate();var J=(P.getMonth()+1)+"-"+P.getDate()+"-"+P.getFullYear();var M=A[J];if(M==null){return}var G=I.createDiv(E);var H=document.createElement("div");H.style.width="100%";H.style.height=j+"px";H.style.marginTop=(B*2)+"px";H.style.position="relative";H.style.cursor="pointer";H.event=I;var Q=document.createElement("div");Q.style.width="100%";Q.style.height="100%";Q.style.position="absolute";H.appendChild(Q);var L=document.createElement("div");L.style.height="100%";L.style.padding="0px "+r+"px";L.style.position="relative";Q.appendChild(L);L.appendChild(G);if(I.isEditable()){s(H,E,y)}else{H.onclick=function(T){var S=E.getListener("eventclick");if(S!=null){var U=S.callback;var R=S.scope;U.apply(R,[this.event,this,E,T])}}}var G=M.childNodes[0];var O=false;for(var N=0;N<G.childNodes.length;N++){var K=G.childNodes[N].event;if(!I.equals(K)){if(K.getStartDate().getTime()>=I.getStartDate().getTime()){G.insertBefore(H,G.childNodes[N]);O=true;break}}}if(!O){G.appendChild(H)}};var b=function(aa){var T=[];for(var S=0;S<aa.numDays()+1;S++){var ae=new Date(aa.getStartDate());ae.setDate(ae.getDate()+S);var W=(ae.getMonth()+1)+"-"+ae.getDate()+"-"+ae.getFullYear();if(w[W]!=null){T.push(w[W])}}if(T.length==0){return}var N=[];var ab=[];for(var ac=0;ac<T.length;ac++){var L=T[ac][0];ab.push(T[ac]);if(L.nextSibling==null){N.push(ab);ab=[]}}if(ab.length>0){N.push(ab)}for(var ac=0;ac<N.length;ac++){var T=N[ac];var Y;var L=null;if(T[0].length>1){for(Y=1;Y<T[0].length;Y++){var Q=false;for(var Z=0;Z<T.length;Z++){var P=T[Z][Y];if(P.childNodes.length>0||P.parentNode==null){Q=true;break}}if(!Q){L=T[0][Y];break}}}if(L==null){var R=T[0][T[0].length-1].parentNode;var X=R.nextSibling;var J=T[0][0].parentNode.cloneNode(true);R.parentNode.insertBefore(J,X);for(var Z=0;Z<T[0][0].parentNode.childNodes.length;Z++){var O=T[0][0].parentNode.childNodes[Z];for(var ag in w){if(w.hasOwnProperty(ag)){var I=w[ag];if(I[0]==O){I.push(J.childNodes[Z])}}}}Y=T[0].length-1;L=T[0][Y]}javaxt.dhtml.calendar.Utils.addColSpan(L,T.length);var H=ac>0&&L.previousSibling==null;var U=L.nextSibling==null&&(N.length>1&&ac<N.length-1);var V=aa.createDiv(H,U);var K=document.createElement("div");K.style.width="100%";K.style.height="100%";K.style.position="absolute";var af=document.createElement("div");af.style.height="100%";var ad=H?"0px":r+"px";var G=U?"0px":r+"px";af.style.padding="0px "+G+" 0px "+ad;af.style.position="relative";K.appendChild(af);V.style.height="100%";af.appendChild(V);var M=document.createElement("div");M.style.width="100%";M.style.height=j+"px";M.style.position="relative";if(Y>1){M.style.marginTop=(B*2)+"px"}M.appendChild(K);M.event=aa;M.onclick=function(aj){var ai=E.getListener("eventclick");if(ai!=null){var ak=ai.callback;var ah=ai.scope;ak.apply(ah,[this.event,this,E,aj])}};L.appendChild(M);L.style.height=j+"px";e.push(M)}u()};var u=function(){for(var H in A){if(A.hasOwnProperty(H)){var J=A[H];var G=J.childNodes[0];var O=w[H];var K=0;var Q=0;var I=null;for(var L=1;L<O.length;L++){if(O[L].childNodes.length>0||O[L].parentNode==null){Q++;I=L}}var M=J.parentNode;var N=n(M).top;var P;if(I!=null){var R=M.parentNode.childNodes[I];P=n(R).bottom;K=N-P}else{P=n(M.parentNode.childNodes[0]).top;K=((N-P)+((B*2)-1))}G.style.marginTop=-K+"px"}}};var f=function(){var H=document.createElement("table");H.style.width="100%";H.style.height="100%";H.cellSpacing=0;H.cellPadding=0;H.style.borderCollapse="collapse";var G=document.createElement("tbody");H.appendChild(G);return G};this.getDOM=function(){return x};this.next=function(){z.setMonth(z.getMonth()+1);l(z);o();p()};this.back=function(){z.setMonth(z.getMonth()-1);l(z);o();p()};this.setDate=function(G){if(G==null){G=new Date()}if(z!=null){if(G.getFullYear()==z.getFullYear()&&G.getMonth()==z.getMonth()){z=G;return}}z=G;l(z);o();p()};this.getDate=function(){return z};var l=function(K){var H=K.getFullYear();var I=K.getMonth()+1;var J=new Date(H,I-1,1);var G=new Date(H,I,0);i=Math.ceil((J.getDay()+G.getDate())/7);c=new Date(J);c.setDate(c.getDate()-J.getDay());v=new Date(G);v.setDate(v.getDate()+(6-G.getDay()))};this.getDateRange=function(){return{startDate:new Date(c),endDate:new Date(v)}};this.getTitle=function(){return(javaxt.dhtml.calendar.Utils.monthNames[z.getMonth()]+" "+z.getFullYear())};var p=function(){var H=h.getEvents();for(var G=0;G<H.length;G++){E.addEvent(H[G])}};var n=javaxt.dhtml.calendar.Utils.getRect;var s=javaxt.dhtml.calendar.Utils.initDrag;var k=function(G){if(q){console.log(G)}};t()};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Utils={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],getDaysBetween:function(c,d){function b(f){var e=new Date(f);e.setMinutes(e.getMinutes()-e.getTimezoneOffset());return e}var a=24*60*60*1000;return(b(d)-b(c))/a},addColSpan:function(c,b){if(b<2){return}c.colSpan=b;var a=function(k,g){if(k==null){return}var l=k;var j=l.parentNode;var d=0;var e=[];while(d<g){var h=l.colSpan;if(h==null||h<2){h=1}d=d+h;e.push(l);l=l.nextSibling;if(l==null){break}}for(var f=0;f<e.length;f++){j.removeChild(e[f])}};a(c.nextSibling,b-1)},getRect:function(e){if(e.getBoundingClientRect){return e.getBoundingClientRect()}else{var a=0;var g=0;var b=e.offsetWidth;var d=e.offsetHeight;function c(h){return h===parseFloat(h)}var f=e;do{a+=e.offsetLeft-e.scrollLeft;g+=e.offsetTop-e.scrollTop}while(e=e.offsetParent);e=f;do{if(c(e.scrollLeft)){a-=e.scrollLeft}if(c(e.scrollTop)){g-=e.scrollTop}}while(e=e.parentNode);return{left:a,right:a+b,top:g,bottom:g+d,width:b,height:d}}},initDrag:function(o,l,A){var u=null;var t=false;o.onmousedown=function(C){u=setTimeout(function(){u=null;t=true;b(C);if(document.addEventListener){document.addEventListener("mousemove",n);document.addEventListener("mouseup",h)}else{if(document.attachEvent){document.attachEvent("onmousemove",n);document.attachEvent("onmouseup",h)}}},A)};var h=function(G){var E=B(o);E.className=E.className.replace(/(?:^|\s)javaxt-cal-event-drag(?!\S)/g,"");o.style.zIndex="";if(u){clearTimeout(u);var F=l.getListener("eventclick");if(F!=null){var H=F.callback;var D=F.scope;H.apply(D,[o.event,o,l,G])}}else{if(t){t=false;if(document.removeEventListener){document.removeEventListener("mousemove",n);document.removeEventListener("mouseup",h)}else{if(document.detachEvent){document.detachEvent("onmousemove",n);document.detachEvent("onmouseup",h)}}o.style.cursor="pointer";v(o);var C=document.getElementsByTagName("body")[0];C.className=C.className.replace(/(?:^|\s)javaxt-noselect(?!\S)/g,"")}}};o.onmouseup=h;var x,w,g,f;var y,m;var c=function(C){w=C.changedTouches[0].pageX;f=C.changedTouches[0].pageY;if(y&&t===false){y.scrollTop=m+(g-f)}};var d=function(){if(document.removeEventListener){document.removeEventListener("touchmove",c);document.removeEventListener("touchend",d)}else{if(document.detachEvent){document.detachEvent("ontouchmove",c);document.detachEvent("ontouchend",d)}}};o.ontouchstart=function(D){D.preventDefault();var F=D.touches[0];var C=F.pageX;var E=F.pageY;x=D.changedTouches[0].pageX;g=D.changedTouches[0].pageY;y=l.getScrollDiv();if(y){m=y.scrollTop;if(document.addEventListener){document.addEventListener("touchmove",c);document.addEventListener("touchend",d)}else{if(document.attachEvent){document.attachEvent("ontouchmove",c);document.attachEvent("ontouchend",d)}}}l.disableTouch();u=setTimeout(function(){u=null;var G=Math.sqrt((w-=x)*w+(f-=g)*f);if(G<0){G=-G}if(G>10){t=false;return}t=true;b({clientX:C,clientY:E});if(document.addEventListener){o.addEventListener("touchmove",i)}else{if(document.attachEvent){o.attachEvent("ontouchmove",i)}}},A)};o.ontouchend=function(G){l.enableTouch();if(u){clearTimeout(u);var F=l.getListener("eventclick");if(F!=null){var J=F.callback;var E=F.scope;var I=G.changedTouches[0];var C=I.pageX;var H=I.pageY;J.apply(E,[o.event,o,l,{clientX:C,clientY:H}])}}else{if(t){t=false;v(o);var D=B(o);D.className=D.className.replace(/(?:^|\s)javaxt-cal-event-drag(?!\S)/g,"");o.style.zIndex="";if(document.removeEventListener){o.removeEventListener("touchmove",i)}else{if(document.detachEvent){o.detachEvent("ontouchmove",i)}}}}};var n=function(D){var C=D.clientX;var E=D.clientY;o.style.left=(C-o.xOffset)+"px";o.style.top=(E-o.yOffset)+"px"};var i=function(D){D.preventDefault();var F=D.touches[0];var C=F.pageX;var E=F.pageY;n({clientX:C,clientY:E})};var b=function(J){var O=J.clientX;var L=J.clientY;var N=k(o);var M=N.top-parseInt(o.style.marginTop);var K=O-N.left;var E=l.hasHours()?(N.height/2):L-M;var H=o.parentNode;var F={width:o.style.width,left:o.style.left,top:o.style.top,rect:N};o.orgStyle=F;o.orgParent=H;o.xOffset=K;o.yOffset=E;var I=document.getElementsByTagName("body")[0];if(!I.className.match(/(?:^|\s)javaxt-noselect(?!\S)/)){I.className+=(I.className.length==0?"":" ")+"javaxt-noselect"}var G=o.nextSibling;H.removeChild(o);I.appendChild(o);if(l.hasHours()==false&&G!=null){var C=document.createElement("div");C.style.width="100%";C.style.height=N.height+"px";C.style.marginTop=o.style.marginTop;H.insertBefore(C,G);C.event=o.event}o.style.position="absolute";o.style.width=N.width+"px";o.style.left=N.left+"px";o.style.top=(L-E)+"px";o.style.cursor="move";o.style.zIndex=a();var D=B(o);D.className+=" javaxt-cal-event-drag"};var v=function(J){var E=k(J);var Q=E.top;var H=r(E);if(H.length==0){j(J);return}var D;if(H.length==1){D=H[0]}else{var T={};var I=[];for(var M=0;M<H.length;M++){var D=H[M];var O=s(E,D);I.push(O);T[O]=D}I.sort(function(V,U){return U-V});D=T[I[0]]}var L=J.event;var P=L.getStartDate();var K=(P.getMonth()+1)+"-"+P.getDate()+"-"+P.getFullYear();if(D.id==K){if(l.hasHours()){var S=1;var R=Q-J.orgStyle.rect.top;var P=Math.sqrt(S*S+R*R);if(P<15){j(J);return}var G=L.getStartDate();var N=L.getEndDate();p(z(Q+5,J),G,N);e(L,G,N)}else{j(J)}}else{var C=D.id.split("-");var G=L.getStartDate();G.setFullYear(parseInt(C[2]));G.setMonth(parseInt(C[0])-1);G.setDate(parseInt(C[1]));var F=Math.round((G.getTime()-L.getStartDate().getTime())/(24*60*60*1000));var N=L.getEndDate();N.setDate(N.getDate()+F);if(l.hasHours()){p(z(Q+5,J),G,N)}e(L,G,N)}};var e=function(E,C,G){var D=function(I){if(I==true){var H=o.parentNode;H.removeChild(o);l.removeEvent(E);E.setStartDate(C);E.setEndDate(G);l.addEvent(E);F=l.getListener("aftermove");if(F!=null){F.callback.apply(F.scope,[E,l])}}else{j(o)}};var F=l.getListener("beforemove");if(F!=null){F.callback.apply(F.scope,[E,new Date(C),new Date(G),D])}else{D(true)}};var j=function(I){var C=I.parentNode;C.removeChild(I);var E=I.orgStyle;I.style.left=E.left;I.style.top=E.top;I.style.width=E.width;if(l.hasHours()){I.orgParent.appendChild(I)}else{I.style.position="relative";var D=null;var H=I.event;for(var F=0;F<I.orgParent.childNodes.length;F++){if(I.orgParent.childNodes[F].event.equals(H)){D=I.orgParent.childNodes[F];break}}if(D==null){I.orgParent.appendChild(I)}else{var G=D.nextSibling;if(G==null){I.orgParent.removeChild(D);I.orgParent.appendChild(I)}else{I.orgParent.insertBefore(I,D);I.orgParent.removeChild(D)}}}I.orgParent=null;I.orgStyle=null};var B=function(E){var C=E;while(C.childNodes.length>0){var D=C.childNodes[0];if(D.className.match(/(?:^|\s)javaxt-cal-event(?!\S)/)){return D}else{C=D}}};var r=function(F){var C=F.left;var H=F.right;var I=F.top;var G=F.bottom;var E=[];var D=function(J){if(J==null){return}for(var K=0;K<E.length;K++){if(E[K].id==J.id){return}}E.push(J)};D(q(C,I));D(q(C,G));D(q(H,G));D(q(H,I));return E};var q=function(J,H){var L=l.getCells();for(var G=0;G<L.length;G++){var K=L[G];var I=K.rect;var F=I.left;var D=I.right;if(J>=F&&J<=D){var E=I.top;var C=I.bottom;if(H>=E&&H<=C){return K}}}return null};var s=function(F,O){var L=O.rect;var I=L.left;var E=L.right;var G=L.top;var D=L.bottom;var H=F.left;var N=F.right;var K=F.top;var C=F.bottom;if(H<I){H=I}if(N>E){N=E}if(K<G){K=G}if(C>D){C=D}var M=N-H;var J=C-K;return M*J};var z=function(M,D){var N=[];var K=D.orgParent;for(var I=0;I<K.childNodes.length;I++){var E=K.childNodes[I];var F=E.tagName.toLowerCase();if(F=="table"){var J=E.childNodes[0];for(var H=0;H<J.childNodes.length;H++){N.push(J.childNodes[H])}}}for(var I=0;I<N.length;I++){var L=k(N[I]);var G=L.top;var C=L.bottom;if(M>=G&&M<=C){return(I/2)}}return null};var p=function(H,D,G){var F=H-(D.getHours()+(D.getMinutes()/60));var E=Math.floor(F);var C=Math.abs((F%1)*60);D.setHours(D.getHours()+E);D.setMinutes(D.getMinutes()+C);G.setHours(G.getHours()+E);G.setMinutes(G.getMinutes()+C)};var k=javaxt.dhtml.calendar.Utils.getRect;var a=function(F){var E=0;var C=0;var G=Array();if(F){G=F.getElementsByTagName("*")}else{G=document.getElementsByTagName("*")}for(var D=0;D<G.length;D++){if(G[D].currentStyle){C=parseFloat(G[D].currentStyle.zIndex)}else{if(window.getComputedStyle){C=parseFloat(document.defaultView.getComputedStyle(G[D],null).getPropertyValue("z-index"))}}if(!isNaN(C)&&C>E){E=C}}return(E+1)}}};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.View=function(a,b){this.next=function(){};this.back=function(){};this.getDate=function(){};this.setDate=function(){};this.getDateRange=function(){};this.hasHours=function(){};this.getTitle=function(){};this.addEvent=function(e){};this.removeEvent=function(e){};this.getEvents=function(){};this.getEventStore=function(){};this.refresh=function(){};this.clear=function(){};this.show=function(){};this.hide=function(){};this.showFooter=function(){};this.hideFooter=function(){};this.getDOM=function(){};this.enableTouch=function(){};this.disableTouch=function(){};this.getScrollDiv=function(){};this.addEvents=function(f){for(var e=0;e<f.length;e++){a.addEvent(f[e])}};this.getCells=function(){};this.getListener=function(e){var g=b.listeners;if(g!=null){var f=g.scope;if(f==null){f=a}var h=g[e];if(h!=null){return{callback:h,scope:f}}}return null};this.addListener=function(e,h,g){var f=b.listeners;if(f==null){f={}}f[e]={callback:h,scope:g==null?a:g}};this.removeListener=function(e){var f=b.listeners;if(f!=null){delete f[e]}};var d=this;for(var c in d){if(d.hasOwnProperty(c)){if(a[c]==null){a[c]=d[c]}}}};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Week=function(c,a){this.className="javaxt.dhtml.calendar.Week";var d=this;var b;var e=function(){var i=a;a={};for(var g in i){if(i.hasOwnProperty(g)){a[g]=i[g]}}a.days=7;b=a.listeners;if(b!=null){a.listeners={beforerender:function(j){for(var k in j){if(j.hasOwnProperty(k)){if(d[k]==null){d[k]=j[k]}}}var l=d.getListener("beforerender");if(l!=null){l.callback.apply(l.scope,arguments)}}};for(var h in b){if(b.hasOwnProperty(h)){if(h!="beforerender"){(function(j){a.listeners[j]=function(){var k=d.getListener(j);if(k!=null){k.callback.apply(k.scope,arguments)}}})(h)}}}}var f=new javaxt.dhtml.calendar.Day(c,a);f.getListener=d.getListener};this.getListener=function(f){if(b!=null){var g=b.scope;if(g==null){g=d}var h=b[f];if(h!=null){return{callback:function(){for(var j=0;j<arguments.length;j++){if(arguments[j] instanceof javaxt.dhtml.calendar.Day){arguments[j]=d}}h.apply(g,arguments)},scope:g}}}return null};e()};
javaxt.dhtml.Callout=function(n,e){this.className="javaxt.dhtml.Callout";var j=this;var b,f,g,l,c;var d=false;var h={position:"absolute",arrowLocation:"left",arrowAlignment:"top",style:{panel:{border:"1px solid #c5d9e8",backgroundColor:"#eef4f9",borderRadius:"6px",boxShadow:"0 12px 14px 0 rgba(0, 0, 0, 0.2), 0 13px 20px 0 rgba(0, 0, 0, 0.2)"},arrow:{borderColor:"#c5d9e8",backgroundColor:"#eef4f9",width:"10px",height:"10px",padding:"10px"}}};var o=function(){var w={};k(w,e);k(w,h);e=w;b=document.createElement("div");b.setAttribute("desc",j.className);if(e.position==="absolute"){b.style.display="none";b.style.position="absolute";b.style.top=b.style.left=0}n.appendChild(b);j.el=b;g=document.createElement("div");i(g,"panel");g.style.position="relative";g.style.margin=0;g.style.padding=0;g.style.borderWidth="1px";b.appendChild(g);f=document.createElement("div");f.style.width="100%";f.style.height="100%";g.appendChild(f);var r=document.createElement("div");i(r,"arrow");r.style.position="absolute";r.style.visibility="hidden";r.style.display="block";var q=document.getElementsByTagName("body")[0];q.appendChild(r);var t=r.currentStyle||window.getComputedStyle(r);var p=function(B){var y=function(D){if(t.getPropertyValue){var C=t.getPropertyValue(D);if(C&&C.length>0){return C}D=D.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return t.getPropertyValue(D)}else{return t[D]}};if(B instanceof Array){var x=B;for(var z=0;z<x.length;z++){var A=y(x[z]);if(A&&A.length>0){return A}}}else{return y(B)}};e.arrow={backgroundColor:p("backgroundColor"),borderColor:p(["borderColor","borderLeftColor","borderRightColor","borderTopColor","borderBottomColor"]),paddingTop:parseInt(p("paddingTop")),paddingBottom:parseInt(p("paddingBottom")),paddingLeft:parseInt(p("paddingLeft")),paddingRight:parseInt(p("paddingRight"))};r.style.border=0;r.style.padding=0;r.style.margin=0;e.arrow.width=r.offsetWidth;e.arrow.height=r.offsetHeight;q.removeChild(r);r=null;l=document.createElement("b");l.setAttribute("desc","notch");l.style.position="absolute";l.style.top=0;l.style.left=0;l.style.margin=0;l.style.padding=0;l.style.width=0;l.style.height=0;l.style.fontSize=0;l.style.lineHeight=0;c=document.createElement("b");c.setAttribute("desc","notchBorder");c.style.position="absolute";c.style.top=0;c.style.left=0;c.style.margin=0;c.style.padding=0;c.style.width=0;c.style.height=0;c.style.fontSize=0;c.style.lineHeight=0;b.appendChild(c);b.appendChild(l);if(e.position==="absolute"){var v=function(){j.hide()};var s=function(A){var z=A.clientX;var B=A.clientY;m(z,B)};var u=function(A){var z=A.changedTouches[0].pageX;var B=A.changedTouches[0].pageY;m(z,B)};if(document.addEventListener){document.addEventListener("click",s);document.addEventListener("touchstart",u);window.addEventListener("resize",v)}else{if(document.attachEvent){document.attachEvent("onclick",s);document.attachEvent("ontouchstart",u);window.attachEvent("onresize",v)}}}};var m=function(p,u){if(d){return}if(b.style.display==="block"){var r=parseInt(b.style.left);var q=r+b.offsetWidth;var t=parseInt(b.style.top);var s=t+b.offsetHeight;if(p<r||p>q){j.hide()}else{if(u<t||u>s){j.hide()}}}};this.getInnerDiv=function(){return f};this.getSize=function(){var p;if(b.style.display==="none"){b.style.visibility="hidden";b.style.display="block";p={width:b.offsetWidth,height:b.offsetHeight};b.style.visibility="";b.style.display="none"}else{p={width:b.offsetWidth,height:b.offsetHeight}}return p};this.show=function(){d=true;b.style.zIndex=a();b.style.display="block";j.onShow();setTimeout(function(){d=false},500)};this.showAt=function(A,w,s,u){d=true;b.style.visibility="hidden";b.style.display="block";var C=e.arrow.backgroundColor;var r=e.arrow.borderColor;var q=Math.max(e.arrow.width,e.arrow.height);var p=0;var B=q;var v=q;var t=function(){if(u==="left"){p=e.arrow.paddingLeft;b.style.left=(A-(p+B))+"px";l.style.left=c.style.left=p+"px"}else{if(u==="right"){p=e.arrow.paddingRight;b.style.left=((A-b.offsetWidth)+(p+B))+"px";l.style.left=c.style.left=(b.offsetWidth-(p+(B*2)))+"px"}else{if(u==="center"||u==="middle"){var x=b.offsetWidth/2;b.style.left=(A-x)+"px";l.style.left=c.style.left=(x-B)+"px"}else{return}}}};var z=function(){g.style.top="0px";if(u==="top"){p=e.arrow.paddingTop;b.style.top=(w-(p+B))+"px";l.style.top=c.style.top=p+"px"}else{if(u==="bottom"){p=e.arrow.paddingBottom;b.style.top=((w-b.offsetWidth)+(p+B))+"px";l.style.top=c.style.top=(b.offsetHeight-(p+(B*2)))+"px"}else{if(u==="middle"||u==="center"){var x=b.offsetHeight/2;b.style.top=(w-x)+"px";l.style.top=c.style.top=(x-B)+"px"}else{return}}}};if(s==="above"){l.style.borderTop=c.style.borderTop=q+"px solid "+C;l.style.borderLeft=c.style.borderLeft=q+"px solid transparent";l.style.borderRight=c.style.borderRight=q+"px solid transparent";l.style.borderBottom=c.style.borderBottom=0;c.style.borderTopColor=r;b.style.top=((w-b.offsetHeight)-v)+"px";g.style.top="0px";l.style.top=(b.offsetHeight-1)+"px";c.style.top=b.offsetHeight+"px";t()}else{if(s==="below"){l.style.borderTop=c.style.borderTop=0;l.style.borderLeft=c.style.borderLeft=q+"px solid transparent";l.style.borderRight=c.style.borderRight=q+"px solid transparent";l.style.borderBottom=c.style.borderBottom=q+"px solid "+C;c.style.borderBottomColor=r;b.style.top=w+"px";g.style.top=v+"px";l.style.top="1px";c.style.top="0px";t()}else{if(s==="left"){l.style.borderTop=c.style.borderTop=q+"px solid transparent";l.style.borderLeft=c.style.borderLeft=q+"px solid "+C;l.style.borderRight=c.style.borderRight=0;l.style.borderBottom=c.style.borderBottom=q+"px solid transparent";c.style.borderLeftColor=r;b.style.left=(A-(b.offsetWidth+v))+"px";g.style.left="0px";l.style.left=(b.offsetWidth-1)+"px";c.style.left=b.offsetWidth+"px";z()}else{if(s==="right"){l.style.borderTop=c.style.borderTop=q+"px solid transparent";l.style.borderLeft=c.style.borderLeft=0;l.style.borderRight=c.style.borderRight=q+"px solid "+C;l.style.borderBottom=c.style.borderBottom=q+"px solid transparent";c.style.borderRightColor=r;b.style.left=A+"px";g.style.left=v+"px";l.style.left="1px";c.style.left="0px";z()}else{return}}}}b.style.visibility="";j.show()};this.hide=function(){b.style.display="none";d=false;j.onHide()};this.isVisible=function(){return(b.style.display!=="none")};this.onShow=function(){};this.onHide=function(){};var k=javaxt.dhtml.utils.merge;var a=javaxt.dhtml.utils.getNextHighestZindex;var i=function(q,p){javaxt.dhtml.utils.setStyle(q,e.style[p])};o()};
javaxt.dhtml.Carousel=function(j,u){this.className="javaxt.dhtml.Carousel";var v=this;var f,w;var r;var p=false;var s;var g;var l={animate:true,animationSteps:250,transitionEffect:"linear",fx:null,loop:false,visiblePanels:1,drag:true,padding:0};var n=function(){if(typeof j==="string"){j=document.getElementById(j)}if(!j){return}var C={};h(C,u);h(C,l);u=C;var x=[];if(u.items){x=u.items}else{for(var z=0;z<j.childNodes.length;z++){var A=j.childNodes[z];if(A.nodeType===1){x.push(A)}}for(var z=0;z<x.length;z++){j.removeChild(x[z])}j.innerHTML=""}f=document.createElement("div");f.setAttribute("desc",v.className);f.style.position="relative";f.style.width="100%";f.style.height="100%";j.appendChild(f);v.el=f;var y=document.createElement("div");y.style.position="absolute";y.style.overflow="hidden";y.style.width="100%";y.style.height="100%";var B=u.padding;if(B>0){y.style.padding="0 "+B+"px";y.style.left=-B+"px"}f.appendChild(y);w=document.createElement("div");w.style.position="absolute";w.style.left="0px";w.style.height="100%";y.appendChild(w);if(u.drag===true){c();o(w)}for(var z=0;z<x.length;z++){v.add(x[z])}d(v);g=i(j,function(){v.resize()});e(f,function(){v.resize();v.onRender()})};this.destroy=function(){if(g){g.destroy()}v.disableAnimation();p=true;q(v);v=null;return v};this.onRender=function(){};this.add=function(z){var x=parseInt(w.style.width);if(isNaN(x)){x=0}var B=document.createElement("div");B.style.width=f.offsetWidth+"px";B.style.height="100%";B.style.position="relative";B.style.display="inline-block";var A=u.padding;if(A>0){B.style.width=(f.offsetWidth+(A*2))+"px"}w.appendChild(B);var y=document.createElement("div");y.style.width="100%";y.style.height="100%";y.style.position="absolute";y.style.overflow="hidden";if(A>0){y.style.padding="0 "+A+"px";y.style.width=f.offsetWidth+"px"}B.appendChild(y);y.appendChild(z);w.style.width=(x+B.offsetWidth)+"px";if(!r){r=B}v.resize()};this.clear=function(){r=null;w.innerHTML="";w.style.left="0px";p=false;t()};this.resize=function(){var x=f.offsetWidth;if(x===0||isNaN(x)){var z;var y=function(){var A=f.offsetWidth;if(A===0||isNaN(A)){z=setTimeout(y,100)}else{clearTimeout(z);t()}};z=setTimeout(y,100)}else{t()}};var t=function(){var A=f.offsetWidth;var C=u.padding;if(C>0){A+=(C*2)}var x=w.childNodes.length;w.style.width=(A*x)+"px";var B=0;for(var z=0;z<x;z++){w.childNodes[z].style.width=A+"px";if(C>0){var y=w.childNodes[z].childNodes[0];y.style.width=f.offsetWidth+"px"}if(w.childNodes[z]==r){B=z}}if(p){return}w.style.left=-(B*A)+"px"};var a=function(x,z,y,B,G){if(u.fx){setTimeout(function(){u.fx.setTransition(w,u.transitionEffect,u.animationSteps);w.style.left=z+"px";setTimeout(function(){w.style.WebkitTransition=w.style.MozTransition=w.style.MsTransition=w.style.OTransition=w.style.transition="";if(G){G.apply(v,[])}},u.animationSteps+50)},50)}else{var C=new Date().getTime();var F=C-y;if(B<=F){w.style.left=z+"px";if(G){G.apply(v,[])}return}B-=F;var D=x-z;var E=1-(B/u.animationSteps);var A=Math.round(E*D);w.style.left=x-A+"px";setTimeout(function(){a(x,z,C,B,G)},33)}};this.next=function(){if(u.animate===true){if(p){return}p=true}var C=parseInt(w.style.left);var x;var y=function(E){var D=C-x;if(u.animate===true){a(C,D,new Date().getTime(),u.animationSteps,E)}else{w.style.left=D+"px";if(E){E.apply(v,[])}}};var z=r.nextSibling;if(z){v.beforeChange(r.childNodes[0].childNodes[0],z.childNodes[0].childNodes[0]);x=z.offsetWidth;y(function(){v.onChange(z.childNodes[0].childNodes[0],r.childNodes[0].childNodes[0]);r=z;p=false})}else{if(u.loop===true){var B=w.childNodes[0];x=B.offsetWidth;var A=B.cloneNode(true);w.style.width=(w.offsetWidth+x)+"px";w.appendChild(A);v.beforeChange(r.childNodes[0].childNodes[0],A.childNodes[0].childNodes[0]);y(function(){w.style.left=C+"px";w.removeChild(B);w.style.width=(w.offsetWidth-x)+"px";v.onChange(A.childNodes[0].childNodes[0],r.childNodes[0].childNodes[0]);r=A;p=false})}}};this.back=function(){if(u.animate===true){if(p){return}p=true}var D,z,y;var A=function(E){if(u.animate===true){a(D,z,new Date().getTime(),u.animationSteps,E)}else{w.style.left=z+"px";if(E){E.apply(v,[])}}};var x=r.previousSibling;if(x){v.beforeChange(r.childNodes[0].childNodes[0],x.childNodes[0].childNodes[0]);y=x.offsetWidth;D=parseFloat(w.style.left);z=D+y;A(function(){v.onChange(x.childNodes[0].childNodes[0],r.childNodes[0].childNodes[0]);r=x;p=false})}else{if(u.loop===true){var B=w.childNodes[w.childNodes.length-1];y=B.offsetWidth;var C=B.cloneNode(true);w.style.width=(w.offsetWidth+y)+"px";w.insertBefore(C,w.firstChild);v.beforeChange(r.childNodes[0].childNodes[0],C.childNodes[0].childNodes[0]);D=-y;z=0;w.style.left=D+"px";A(function(){w.removeChild(B);w.style.width=(w.offsetWidth-y)+"px";v.onChange(C.childNodes[0].childNodes[0],r.childNodes[0].childNodes[0]);r=C;p=false})}}};this.onChange=function(y,x){};this.beforeChange=function(x,y){};this.getPanels=function(){var y=[];var B=k(f);for(var C=0;C<w.childNodes.length;C++){var A=w.childNodes[C];var z=k(A);var x=b(B,z);if(x){var D=m(B,z);if(D<=u.padding){x=false}}y.push({div:A.childNodes[0].childNodes[0],isVisible:x})}return y};this.enableAnimation=function(){u.animate=true};this.disableAnimation=function(){u.animate=false};var o=function(){var D=50;var A,B;var F;var x=function(I){A=I.clientX;B=parseInt(w.style.left);var H=document.getElementsByTagName("body")[0];if(!H.className.match(/(?:^|\s)javaxt-noselect(?!\S)/)){H.className+=(H.className.length==0?"":" ")+"javaxt-noselect"}F=r;w.style.cursor="move"};var z=function(M){var P=M.clientX;var N=A-P;var I=B-N;w.style.left=I+"px";if(I>0){if(u.loop===true){var R=r.previousSibling;if(R){}else{var H=w.childNodes[w.childNodes.length-1];var Q=H.offsetWidth;var O=H.cloneNode(true);w.insertBefore(O,w.firstChild);w.removeChild(H);w.style.left=(-Q+parseInt(w.style.left))+"px";A+=Q;r=O}}else{}}else{var P=0;var L=0;for(var K=0;K<w.childNodes.length;K++){var Q=w.childNodes[K].offsetWidth;P=P-Q;L=Q}if((I-L)<P){if(u.loop===true){var J=w.childNodes[0];var Q=J.offsetWidth;var O=J.cloneNode(true);w.appendChild(O);w.removeChild(J);w.style.left=(parseInt(w.style.left)+Q)+"px";A=A-Q;r=O}else{}}}};var y=function(){var H=k(f);var aa=H.x;var Y=aa+H.width;var X=H.y;var W=X+H.height;var M=0;var P=0;for(var S=0;S<w.childNodes.length;S++){var O=w.childNodes[S];var T=k(O);var J=T.x;var Z=J+T.width;var Q=T.y;var L=Q+T.height;if(J<aa){J=aa}if(Z>Y){Z=Y}if(Q<X){Q=X}if(L>W){L=W}var N=Z-J;var U=L-Q;var V=N*U;if(V>M){M=V;P=S}}var R="Snap to panel "+w.childNodes[P].innerText;if(R.length>60){R=R.substring(0,60)}var K=parseInt(w.style.left);var I=0;for(var S=0;S<P;S++){I+=w.childNodes[S].offsetWidth}I=-I;var ab=((K-I)/u.animationSteps);if(ab<0){ab=-ab}a(K,I,new Date().getTime(),100,function(){r=w.childNodes[P];if(r!=F){v.onChange(r.childNodes[0].childNodes[0],F.childNodes[0].childNodes[0])}})};var E=null;var G=false;w.onmousedown=function(H){if(p){return}E=setTimeout(function(){E=null;G=true;x(H);if(document.addEventListener){document.addEventListener("mousemove",z);document.addEventListener("mouseup",C)}else{if(document.attachEvent){document.attachEvent("onmousemove",z);document.addEventListener("onmouseup",C)}}},D)};var C=function(I){if(p){return}if(E){clearTimeout(E)}else{if(G){G=false;if(document.removeEventListener){document.removeEventListener("mousemove",z);document.removeEventListener("mouseup",C)}else{if(document.detachEvent){document.detachEvent("onmousemove",z);document.detachEvent("onmouseup",C)}}w.style.cursor="pointer";y();var H=document.getElementsByTagName("body")[0];H.className=H.className.replace(/(?:^|\s)javaxt-noselect(?!\S)/g,"")}}};w.onmouseup=C};var h=javaxt.dhtml.utils.merge;var q=javaxt.dhtml.utils.destroy;var e=javaxt.dhtml.utils.onRender;var k=javaxt.dhtml.utils.getRect;var b=javaxt.dhtml.utils.intersects;var m=javaxt.dhtml.utils.getAreaOfIntersection;var i=javaxt.dhtml.utils.addResizeListener;var d=javaxt.dhtml.utils.addShowHide;var c=function(){if(s===true){return}javaxt.dhtml.utils.addNoSelectRule();s=true};n()};
javaxt.dhtml.Checkbox=function(l,b){this.className="javaxt.dhtml.Checkbox";var h=this;var m;var f,a,o,k;var e={label:null,value:null,checked:false,disabled:false,display:"inline-block",style:{box:{width:"13px",height:"13px",border:"1px solid #cccccc",borderRadius:"3px",background:"#F6F6F6",cursor:"pointer",margin:"0px",color:"#2b2b2b"},label:{fontFamily:"helvetica,arial,verdana,sans-serif",fontSize:"14px",whiteSpace:"nowrap",cursor:"pointer",padding:"1px 0 0 5px"},check:{content:"",display:"block",width:"3px",height:"6px",border:"solid #ffffff",borderWidth:"0 2px 2px 0",transform:"rotate(45deg)",margin:"1px 0 0 4px"},select:{background:"#007FFF",border:"1px solid #003EFF",color:"#FFFFFF"},disable:{background:"#ffffff",border:"1px solid #ffffff",borderRadius:"3px",cursor:"pointer",opacity:"0.5"},hover:{background:"#ededed"}}};var n=function(){if(typeof l==="string"){l=document.getElementById(l)}if(!l){return}var t={};i(t,b);i(t,e);b=t;m=document.createElement("div");m.style.display=b.display;m.style.position="relative";l.appendChild(m);h.el=m;if(b.label){var q=j();q.style.fontFamily="inherit";q.style.textAlign="inherit";q.style.color="inherit";var p=q.firstChild;var r=document.createElement("tr");p.appendChild(r);var s;s=document.createElement("td");r.appendChild(s);f=document.createElement("div");g(f,"box");s.appendChild(f);s=document.createElement("td");r.appendChild(s);k=document.createElement("div");g(k,"label");k.innerHTML=b.label;s.appendChild(k);m.appendChild(q);d(q)}else{f=document.createElement("div");g(f,"box");m.appendChild(f);d(f)}if(b.disabled===true){h.disable()}if(b.checked===true){h.select()}};var d=function(p){p.unselectable="on";p.onselectstart=function(){return false};p.onmousedown=function(){c(f,"select");return false};var x=function(){if(b.sound!=null){b.sound.play()}h.toggle();h.onClick(f.checked)};var t;var w;var r,q,v,u;var s=false;p.ontouchstart=function(y){s=true;y.preventDefault();r=y.changedTouches[0].pageX;v=y.changedTouches[0].pageY;t=new Date().getTime();w=null;if(f.checked!==true){c(f,"hover")}};p.ontouchend=function(z){w=new Date().getTime();q=z.changedTouches[0].pageX;u=z.changedTouches[0].pageY;var A=Math.sqrt((q-=r)*q+(u-=v)*u);if(A<0){A=-A}var y=w-t;if((y<=500&&A<=10)||(y>500&&A<=10)){x()}};p.onclick=function(){if(!s){x()}};p.onmouseover=function(){if(f.checked!==true){c(f,"hover")}};p.onmouseout=function(){if(f.checked!==true){g(f,"box")}}};this.show=function(){m.style.display=""};this.hide=function(){m.style.display="none"};this.onClick=function(p){};this.onChange=function(){};this.enable=function(){o.style.visibility="hidden"};this.disable=function(){if(o){o.style.visibility="visible"}else{o=document.createElement("div");g(o,"disable");o.style.position="absolute";o.style.zIndex="1";o.style.width="100%";o.style.height="100%";var p=h.el;p.insertBefore(o,p.firstChild)}};this.select=function(){if(f.checked===true){return}f.checked=true;c(f,"select");if(a){a.style.visibility="visible"}else{a=document.createElement("div");g(a,"check");f.appendChild(a)}};this.deselect=function(){if(f.checked===true){f.checked=false;g(f,"box");a.style.visibility="hidden"}};this.toggle=function(){if(f.checked===true){h.deselect();h.onChange(false,true)}else{h.select();h.onChange(true,false)}};this.getValue=function(){if(b.value==null){return h.isChecked()}return b.value};this.isChecked=function(){return f.checked};var i=javaxt.dhtml.utils.merge;var j=javaxt.dhtml.utils.createTable;var g=function(q,p){javaxt.dhtml.utils.setStyle(q,b.style[p])};var c=function(q,p){javaxt.dhtml.utils.addStyle(q,b.style[p])};n()};
javaxt.dhtml.ComboBox=function(k,w){this.className="javaxt.dhtml.ComboBox";var x=this;var o,b,t;var y,j,r;var v,n;var p={placeholder:false,spellcheck:false,maxVisibleRows:5,scrollbar:true,showMenuOnFocus:true,typeAhead:true,readOnly:false,addNewOption:false,addNewOptionText:"Add New...",style:{width:"100%",input:{color:"#363636",fontSize:"14px",height:"24px",lineHeight:"24px",padding:"0px 4px",verticalAlign:"middle",transition:"border 0.2s linear 0s, box-shadow 0.2s linear 0s",backgroundColor:"#fff",border:"1px solid #ccc",borderRight:"0 none",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.075) inset"},button:{color:"#363636",height:"24px",width:"24px",border:"1px solid #b4b4b4",cursor:"pointer",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAlklEQVQ4jWNgGAUowNvbW9PBwUEAjxJGHx8f/dDQUB4MGV9f3+TAwMD/AQEB97y8vOSxafb392+BqrlkbGzMhSLr7++/MTAw8D8OQ+CaYdjb21sT3flKAQEBj7AYgqHZz8+vBqsHPT09ldENCQgImIysOSAgoBZPGGEaQpJmfIYQrRmbITj9TAg4ODgIeHp6apGleegAAME5Y+rCcN+AAAAAAElFTkSuQmCC)",backgroundPosition:"3px 3px",backgroundRepeat:"no-repeat",backgroundColor:"#e4e4e4"},menu:{backgroundColor:"#ffffff",border:"1px solid #ccc",marginTop:"-1px",overflow:"hidden",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.15)"},option:{color:"#363636",whiteSpace:"nowrap",height:"22px",lineHeight:"22px",padding:"0px 4px",cursor:"default"},newOption:{borderTop:"1px solid #ccc",color:"#363636",whiteSpace:"nowrap",height:"24px",lineHeight:"24px",padding:"0px 4px",cursor:"default"},iscroll:null}};var u=function(){if(typeof k==="string"){k=document.getElementById(k)}if(!k){return}var F={};h(F,w);h(F,p);w=F;javaxt.dhtml.utils.addNoSelectRule();var A=document.createElement("div");A.setAttribute("desc",x.className);A.style.width=w.style.width;A.style.position="relative";k.appendChild(A);x.el=A;var J=g();J.style.height="";var D=J.firstChild;var G=document.createElement("tr");D.appendChild(G);A.appendChild(J);var B=document.createElement("td");B.style.width="100%";o=document.createElement("input");o.type="text";e(o,"input");if(w.readOnly===true){w.spellcheck=false;w.typeAhead=false;o.setAttribute("readonly","true")}if(w.spellcheck===true){}else{o.setAttribute("spellcheck","false")}if(w.placeholder){o.setAttribute("placeholder",w.placeholder)}B.appendChild(o);G.appendChild(B);o.onkeydown=function(K){if(K.keyCode===9){K.preventDefault()}};o.onkeyup=function(K){if(w.readOnly===true){return}if(K.keyCode===9){var L;if(y.style.visibility!=="hidden"){L=l()}if(L){q(L,true)}else{i()}}else{if(K.keyCode===40){x.showMenu();var L=l();if(L){L.focus()}}else{x.filter()}}};o.oninput=function(){if(x.isDisabled()===true){return}var O=false;var L=o.value.replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();for(var K=0;K<j.childNodes.length;K++){var N=j.childNodes[K];var M=N.text;if(!M){M=N.innerText}if(M.toLowerCase()===L){O=true;o.data=N.value;break}}if(!O){o.data=null}x.onChange(o.value,o.data)};o.onpaste=o.oninput;o.onpropertychange=o.oninput;if(w.showMenuOnFocus){o.onclick=function(){if(x.isDisabled()===true){return}x.showMenu(true);d();this.focus()}}B=document.createElement("td");b=document.createElement("button");e(b,"button");B.appendChild(b);G.appendChild(B);b.onclick=function(K){b.blur();K.preventDefault();if(y.style.visibility==="hidden"){x.showMenu(true);d()}else{x.hideMenu()}};var z=document.createElement("div");z.style.position="relative";z.style.width="100%";A.appendChild(z);y=document.createElement("div");y.setAttribute("desc","menuDiv");e(y,"menu");y.style.position="absolute";y.style.visibility="hidden";y.style.display="block";y.style.width="100%";y.style.zIndex=1;y.style.boxSizing="border-box";z.appendChild(y);n=document.createElement("div");n.style.position="relative";n.style.width="100%";n.style.height="100%";v=n.cloneNode();v.style.position="absolute";v.style.overflow="hidden";n.appendChild(v);j=document.createElement("div");j.style.position="relative";v.appendChild(j);if(w.addNewOption===true){var C=g();C.style.height="";G=document.createElement("tr");C.firstChild.appendChild(G);B=document.createElement("td");B.style.width="100%";B.style.height="100%";B.style.verticalAlign="top";G.appendChild(B);B.appendChild(n);G=document.createElement("tr");C.firstChild.appendChild(G);B=document.createElement("td");G.appendChild(B);r=document.createElement("div");e(r,"newOption");var I=c(w.addNewOptionText);r.text=I;r.innerHTML=I;r.tabIndex=-1;var E=function(){x.hideMenu();x.onAddNewOption()};r.onclick=E;r.onkeydown=function(K){if(K.keyCode===9){K.preventDefault()}};r.onkeyup=function(M){if(M.keyCode===9||M.keyCode===13){E()}else{if(M.keyCode===38){var L;for(var K=j.childNodes.length-1;K>-1;K--){var N=j.childNodes[K];if(N.style.display!=="none"){L=N;break}}if(L){L.focus()}}}};r.onselectstart=function(){return false};r.onmousedown=function(){return false};B.appendChild(r);y.appendChild(C)}else{y.appendChild(n)}var H=function(K){if(!A.contains(K.target)){x.hideMenu()}};if(document.addEventListener){document.addEventListener("click",H)}else{if(document.attachEvent){document.attachEvent("onclick",H)}}f(x)};this.isDisabled=function(){return x.el.disabled};this.enable=function(){if(t){var z=x.el;z.style.opacity="";t.style.visibility="hidden"}z.disabled=false};this.disable=function(){var z=x.el;z.style.opacity="0.6";if(t){t.style.visibility="visible"}else{t=document.createElement("div");t.setAttribute("desc","mask");t.style.position="absolute";t.style.zIndex="1";t.style.width="100%";t.style.height="100%";z.insertBefore(t,z.firstChild)}z.disabled=true};this.reset=function(){o.value="";o.data=null};this.setValue=function(D,z){var C=function(G,F){o.value=G;o.data=F;if(z===true){return}o.oninput()};if(D==null||D===""){C("",null);return}for(var A=0;A<j.childNodes.length;A++){var E=j.childNodes[A];if(E.value===D){var B=E.text;if(!B){B=E.innerText}C(B,E.value);return}}for(var A=0;A<j.childNodes.length;A++){var E=j.childNodes[A];var B=E.text;if(!B){B=E.innerText}if(B.toLowerCase()===c(D).toLowerCase()){C(B,E.value);return}}};this.getValue=function(){return o.data};this.getText=function(){return o.value};this.getOptions=function(){var z=[];for(var A=0;A<j.childNodes.length;A++){var C=j.childNodes[A];var B=C.text;if(!B){B=C.innerText}z.push({text:B,value:C.value})}return z};this.getInput=function(){return o};this.getButton=function(){return b};this.onChange=function(A,z){};this.onAddNewOption=function(){};this.onMenuContext=function(B,A,z){};this.filter=function(){x.showMenu();var B=o.value.replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();var C=0;var A=0;for(var z=0;z<j.childNodes.length;z++){var E=j.childNodes[z];var D=E.text;if(!D){D=E.innerText}if(D.toLowerCase().indexOf(B)===0){E.style.display="";C++;A=Math.max(E.offsetHeight,A)}else{E.style.display="none"}}a(C,A)};this.clear=function(){o.value="";o.data=null;x.hideMenu();s();y.style.height="";j.innerHTML=""};this.showMenu=function(B){if(y.style.visibility==="hidden"){if(B===true){for(var z=0;z<j.childNodes.length;z++){j.childNodes[z].style.display=""}}var C=0;var A=0;for(var z=0;z<j.childNodes.length;z++){var D=j.childNodes[z];if(D.style.display!=="none"){C++;A=Math.max(D.offsetHeight,A)}}if(w.addNewOption===true){C++;A=Math.max(r.offsetHeight,A)}if(C>0){a(C,A);y.style.visibility="";o.style.borderBottomColor=b.style.borderBottomColor="rgba(0,0,0,0)";if(x.iScroll){x.iScroll.scrollTo(0,0)}else{v.scrollTop=0}}}};this.hideMenu=function(){if(y.style.visibility!=="hidden"){o.style.borderBottomColor=b.style.borderBottomColor="";e(o,"input");e(b,"button");o.style.width="100%";y.style.visibility="hidden";o.focus()}};var a=function(B,A){if(B>0){if(B>w.maxVisibleRows){m();var z=w.maxVisibleRows*A;if(r){y.style.height=z+"px";z=z-r.offsetHeight;n.style.height=z+"px"}else{y.style.height=z+"px"}}else{s();n.style.height="100%";y.style.height=""}}else{s();n.style.height="100%";y.style.height=""}if(x.iScroll){x.iScroll.refresh()}};var m=function(){v.style.position="absolute";if(w.scrollbar===true){if(typeof IScroll!=="undefined"){if(!x.iScroll){v.style.overflowY="hidden";x.iScroll=new IScroll(v,{scrollbars:w.style.iscroll?"custom":true,mouseWheel:true,fadeScrollbars:false,hideScrollbars:false});if(w.style.iscroll){e(x.iScroll,"iscroll")}}if(x.iScroll){x.iScroll.refresh()}}else{v.style.overflowY="scroll"}}else{v.style.overflowY="hidden"}};var s=function(){v.style.position="relative";if(w.addNewOption===true){v.style.overflowY=""}};var d=function(){for(var D=0;D<j.childNodes.length;D++){var G=j.childNodes[D];var F=G.text;if(!F){F=G.innerText}if(F===o.value){v.scrollTop=G.offsetTop;G.focus();return}}var B=o.value;var E=null;var A=0;for(var D=0;D<j.childNodes.length;D++){var G=j.childNodes[D];var F=G.text;if(!F){F=G.innerText}var z=0;for(var C=0;C<Math.min(B.length,F.length);C++){if(B.charAt(C)!==F.charAt(C)){break}z++}if(z>A){E=G;A=z}}if(E){v.scrollTop=E.offsetTop;E.focus();return}};this.add=function(A,z){var B=document.createElement("div");e(B,"option");A=c(A);B.text=A;B.innerHTML=A;B.value=(typeof z==="undefined")?A:z;B.tabIndex=-1;B.onclick=function(){q(this)};B.onkeydown=function(C){if(C.keyCode===9){C.preventDefault()}};B.onkeyup=function(E){if(E.keyCode===9||E.keyCode===13){q(this,true)}else{if(E.keyCode===38){var C=this.previousSibling;if(C){C.focus()}}else{if(E.keyCode===40){var D=this.nextSibling;if(D){D.focus()}else{if(r){r.focus()}}}}}};B.onselectstart=function(){return false};B.onmousedown=function(){return false};B.oncontextmenu=function(){var D=this;var C=D.text;if(!C){C=D.innerText}x.onMenuContext(C,D.value,D)};j.appendChild(B)};this.remove=function(A){A=c(A);var z=[];for(var B=0;B<j.childNodes.length;B++){var D=j.childNodes[B];var C=D.text;if(!C){C=D.innerText}if(C===A){z.push(D)}}for(B=0;B<z.length;B++){j.removeChild(z[B])}};this.removeAll=function(){j.innerHTML=""};var c=function(z){if(z){if(typeof z==="string"||z instanceof String){}else{z+=""}}else{z=""}return z};var q=function(B,A){if(B){var z=B.text;if(!z){z=B.innerText}o.value=z;o.data=B.value;x.hideMenu();x.onChange(o.value,o.data);if(A){i()}}};var i=function(){var A=o.form;if(A){for(var z=0;z<A.elements.length;z++){if(A.elements[z]===o&&z<A.elements.length-2){A.elements[z+2].focus();return}}}};var l=function(){for(var z=0;z<j.childNodes.length;z++){var A=j.childNodes[z];if(A.style.display!=="none"){return A}}return null};var h=javaxt.dhtml.utils.merge;var g=javaxt.dhtml.utils.createTable;var f=javaxt.dhtml.utils.addShowHide;var e=function(A,z){javaxt.dhtml.utils.setStyle(A,w.style[z]);if(A.type==="text"){A.style.width="100%";if(w.readOnly===true){A.className+=" javaxt-noselect";A.style.cursor="default"}}};u()};
javaxt.dhtml.DataGrid=function(g,v){this.className="javaxt.dhtml.DataGrid";var w=this;var s;var p=1;var k=false;var u;var b;var c;var a,j;var n={style:{},url:"",params:null,payload:null,limit:50,count:false,autoload:false,localSort:false,fields:[],getResponse:function(x,y,z){javaxt.dhtml.utils.get(x,{payload:y,success:function(D,B,A,C){z.apply(w,[C])},failure:function(A){z.apply(w,[A])}})},parseResponse:function(x){return[]},update:function(z,x){for(var y=0;y<x.length;y++){z.set(y,x[y])}}};var r=function(){v=d(v,n);a=v.filterName;if(v.sort==="local"){v.localSort=true}if(v.fields){if(!h(v.fields)){v.fields=v.fields.split(",")}}else{v.fields=[]}var z=v.multiselect;b=[];for(var C=0;C<v.columns.length;C++){var A=v.columns[C];if(A.field){var x=true;for(var B=0;B<v.fields.length;B++){if(v.fields[B]==A.field){x=false;break}}if(x){v.fields.push(A.field)}}else{if(v.localSort!==true){A.sortable=false}}var F={};for(var y in A){if(A.hasOwnProperty(y)){F[y]=A[y]}}var D=A.header;if(D==="x"&&!u){F.header=o();var E=F.header.checkbox;z=true;u={idx:C,isChecked:E.isChecked,check:E.select,uncheck:E.deselect}}else{F.header=i(D,A.sortable)}b.push(F)}w.setFilter(v.filter);s=new javaxt.dhtml.Table(g,{multiselect:z,columns:b,style:v.style});w.el=s.el;s.load=function(I,H){if(!H){s.clear()}var L=s.addRows(I.length);var G=false;if(u){G=u.isChecked()}var K=(I instanceof javaxt.dhtml.DataStore);for(var J=0;J<L.length;J++){L[J].record=K?I.get(J):I[J];L[J].update=function(){v.update(this,this.record)};L[J]._set=L[J].set;L[J].set=function(P,T){if(P==="x"){for(var O=0;O<v.columns.length;O++){if(v.columns[O].header==="x"){var S=v.columns[O].field;var N=this.childNodes[O];var R=N.getContent();if(R){}else{T=this.record[S];var M=o(T,this);var Q=M.checkbox;if(G){Q.select()}this._set(O,M)}return}}}else{for(var O=0;O<v.columns.length;O++){if(v.columns[O].header===P&&v.columns[O].wrap===true){T=f(T);break}}this._set(P,T)}};L[J]._onclick=L[J].onclick;L[J].onclick=function(T){if(u){var Q=false;var P=this.childNodes[u.idx];var M=P.getContent();var S=l(M);var R=T.clientX;var O=T.clientY;if(R>=S.left&&R<=S.right){if(O>=S.top&&O<=S.bottom){Q=true}}if(Q){if(this.selected){s.deselect(this)}else{s.select(this)}w.onSelectionChange();return}else{if(!T.ctrlKey&&!T.shiftKey){var N=0;s.forEachRow(function(U){if(U.selected){N++;if(N>1){T=new MouseEvent("click",{isTrusted:T.isTrusted,view:T.view,bubbles:T.bubbles,cancelable:T.cancelable,clientX:T.clientX,clientY:T.clientY,screenX:T.screenX,screenY:T.screenY,altKey:T.altKey,ctrlKey:true});return true}}})}}}this._onclick(T)};L[J].update()}if(!H){s.update()}};s.onSelectionChange=function(K){if(u){for(var H=0;H<K.length;H++){var L=K[H];var I=L.childNodes[u.idx];var G=I.getContent();var J=G.checkbox;if(L.selected){J.select()}else{J.deselect()}}}w.onSelectionChange()};s.onScroll=function(K,J,I){var H=Math.ceil(K/c);if(H==0){H=1}var G=Math.ceil((K+I)/c);m(Math.ceil(G/v.limit));if(K===J){if(!k){e(p)}}w.onScroll()};s.onHeaderClick=t;s.onRowClick=function(H,G){w.onRowClick(H,G)};s.onKeyEvent=function(H,G){w.onKeyEvent(H,G)};if(v.autoload===true){e()}};this.setFilter=function(z){if(!z){z={}}if(!j){j=z}for(var F in z){if(z.hasOwnProperty(F)){j[F]=z[F]}}var I=[];for(var F in j){if(j.hasOwnProperty(F)){if(z[F]===null||z[F]==="undefined"){I.push(F)}}}for(var B=0;B<I.length;B++){var F=I[B];delete j[F]}for(var A=0;A<b.length;A++){b[A].sort=null;var y=b[A].header;if(y.setSortIndicator){y.setSortIndicator(null)}}if(j.orderby){var C=j.orderby.split(",");for(var B=0;B<C.length;B++){var E=C[B].trim();if(E.length>0){var G,H;E=E.toUpperCase();if(E.endsWith(" ASC")||E.endsWith(" DESC")){var D=E.lastIndexOf(" ");G=E.substring(0,D).trim();H=E.substring(D).trim()}else{G=E;H="ASC"}for(var A=0;A<b.length;A++){if(b[A].field){if(b[A].field.toUpperCase()===G){b[A].sort=H;var y=b[A].header;if(y.setSortIndicator){y.setSortIndicator(H)}break}}}}}}};this.getFilter=function(){return j};var m=function(y){if(isNaN(y)||y<1){y=1}if(y!=p){var x=p;p=y;w.onPageChange(p,x)}};this.getCurrPage=function(){return p};this.getScrollInfo=function(){return s.getScrollInfo()};this.onScroll=function(){};this.onPageChange=function(x,y){};this.onSelectionChange=function(){};this.beforeLoad=function(x){};this.onLoad=function(){};this.onError=function(x){};this.onRowClick=function(y,x){};this.onKeyEvent=function(y,x){};this.onCheckbox=function(z,x,y){};this.onSort=function(x,y){};this.forEachRow=function(x){s.forEachRow(x)};this.select=function(x){s.select(x)};this.selectAll=function(){s.selectAll()};this.deselectAll=function(){s.deselectAll()};this.clear=function(){s.clear();p=1};this.remove=function(x){s.removeRow(x)};this.focus=function(){s.focus()};this.refresh=function(){m(1);e()};this.load=function(){if(arguments.length>0){var x=arguments[0];var y=1;if(arguments.length>1){y=parseInt(arguments[1])}if(isNaN(y)||y<1){y=1}if(h(x)||x instanceof javaxt.dhtml.DataStore){w.beforeLoad(y);s.load(x,y>1);m(y);q();if(arguments.length===1){k=true}else{if(x.length<v.limit){k=true}}w.onLoad()}}else{e()}};this.setLimit=function(x,y){v.limit=x};this.scrollTo=function(A){if(A instanceof Element){var z=A;var B=0;s.forEachRow(function(y){if(y==z){return true}B+=y.offsetHeight});s.scrollTo(0,B);return}var B=((A-1)*v.limit)*c;if(B<0){B=0}var x=Math.ceil(s.getRowCount()/v.limit);if(A>x){if(A==x+1){e(A,function(){s.scrollTo(0,B)})}else{console.log("Fetch pages! "+x+" page loaded. Caller wants page "+A+"...");return}}else{s.scrollTo(0,B)}};var q=function(){if(!c){s.forEachRow(function(y,x){c=y.offsetHeight;return})}};this.getSelectedRecords=function(G,H){var D;if(G){if(typeof G==="string"){for(var B=0;B<v.fields.length;B++){if(G===v.fields[B]){D=B;break}}if(!D){for(var B=0;B<v.columns.length;B++){var z=v.columns[B];if(G===z.header){D=B;break}}}}}if(!D){D=0}var F=false;var y=false;if(u){if(u.idx===D){F=true;if(u.isChecked()){y=true}}}var C=[];s.forEachRow(function(M,K){if(G){if(F){var J=K[D];var L=J.checkbox;if(L.isChecked()){C.push(L.getValue())}}else{if(M.selected){C.push(M.record[G])}}}else{if(M.selected){C.push(M.record)}}});if(H&&y&&!k){var x=v.url;if(x.indexOf("?")==-1){x+="?"}var I="";if(G){I=v.columns[D].field}else{for(var B=0;B<v.fields.length;B++){if(B>0){I+=","}I+=v.fields[B]}}x+="fields="+I+"&count=false&offset="+(p*v.limit);var A=v.params;if(A){for(var G in A){if(A.hasOwnProperty(G)){var E=encodeURIComponent(A[G].trim());x+="&"+G+"="+E}}}if(j){for(var G in j){if(j.hasOwnProperty(G)){if(G!=="orderby"){var E=j[G];if(E){E=E.trim();if(E.length>0){x+="&"+G+"="+E}}}}}}v.getResponse(x,v.payload,function(M){if(M.status===200){var J=[];var K=v.parseResponse.apply(w,[M]);for(var L=0;L<K.length;L++){var N=K[L][fieldName];if(N){J.push(N)}}if(H){H.apply(w,J)}}else{w.onError(M)}})}return C};var i=function(y,C){var B=document.createElement("div");if(C===false){B.style.cursor="default"}var A=document.createElement("span");A.innerHTML=y;B.appendChild(A);var x=document.createElement("div");x.style.position="relative";x.style.display="inline-block";B.appendChild(x);var z=document.createElement("div");x.appendChild(z);B.sortIndicator=z;B.setSortIndicator=function(E){var D="";if(E){if(typeof E==="string"){E=E.toUpperCase().trim();if(E=="ASC"){D=v.style.ascendingSortIcon}else{if(E=="DESC"){D=v.style.descendingSortIcon}}}}this.sortIndicator.className=D};return B};var o=function(y,z){var A=document.createElement("div");A.style.display="inline-block";A.style.position="relative";A.style.padding="9px 0 0 1px";var x=new javaxt.dhtml.Checkbox(A,{value:y,style:{box:"table-checkbox"}});if(typeof y!=="undefined"){x.onClick=function(B){var C=this.getValue();w.onCheckbox(C,B,this);if(B){}}}else{x.onClick=function(B){s.forEachRow(function(F,D){var C=D[u.idx];var E=C.checkbox;if(B){E.select()}else{E.deselect()}})}}A.checkbox=x;return A};var e=function(B,E){if(B){B=parseInt(B);if(isNaN(B)||B<1){B=1}}else{B=1}if(B==1){k=false}var F="";for(var z=0;z<v.fields.length;z++){if(z>0){F+=","}F+=v.fields[z]}w.beforeLoad(B);var x=v.url;if(x.indexOf("?")==-1){x+="?"}x+="&page="+B+"&limit="+v.limit+"&fields="+F;if(v.count==true&&B==1){x+="&count=true"}else{x+="&count=false"}var y=v.params;if(y){for(var D in y){if(y.hasOwnProperty(D)){var C=(y[D]+"").trim();x+="&"+D+"="+C}}}var A="";if(j){for(var D in j){if(j.hasOwnProperty(D)){if(D==="orderby"){A=j[D];A=((A!=null&&A!="")?"&orderby="+A:"")}else{var C=j[D];C=C+"";C=C.trim();if(C.length>0){x+="&"+D+"="+encodeURIComponent(C)}}}}}x+=A;v.getResponse(x,v.payload,function(H){if(H.status===200){var G=v.parseResponse.apply(w,[H]);if(G.length===0){k=true}else{if(G.length<v.limit){k=true}s.load(G,B>1);m(B);q()}if(E){E.apply(w,[])}w.onLoad()}else{w.onError(H)}})};this.setSortIndicator=function(x,A){for(var y=0;y<b.length;y++){var z=b[y].header;if(z.setSortIndicator){if(y===x){z.setSortIndicator(A);b[y].sort=A}else{z.setSortIndicator(null);b[y].sort=null}}}};var t=function(G,F,y,J){if(F.sortable!==true){return}var O=F.sort;if(O=="DESC"){O=""}else{O="DESC"}F.sort=O;var K=O.length==0?"ASC":"DESC";w.setSortIndicator(G,K);if(v.localSort){if(typeof v.localSort==="function"){}var x=[];var E=[];s.forEachRow(function(U){var S=U.get(G);var T=U.record[G];if(S){if(S.nodeType===1){S=S.innerText}S=S.trim()}else{S=""}x.push(S);U.sortKey=S;E.push(U)});if(E.length===0){return}var z=0;var B=0;var C=[];for(var L=0;L<x.length;L++){var R=x[L];var M=parseFloat(R.replace(/[^0-9\.]+/g,""));if(!isNaN(M)){B++}else{if(typeof R==="string"){if(R==""||R=="-"||R=="n/a"){C.push(L)}else{var N=new Date(R).getTime();if(!isNaN(N)){z++}}}}}var Q=false;if((B+C.length)===E.length){Q=true;for(var L=0;L<x.length;L++){var H=false;for(var I=0;I<C.length;C++){if(C[I]===L){H=true;break}}var R=x[L];var M=H?0:parseFloat(R.replace(/[^0-9\.]+/g,""));x[L]=M;E[L].sortKey=M}}if((z+C.length)===E.length){Q=true;for(var L=0;L<x.length;L++){var H=false;for(var I=0;I<C.length;C++){if(C[I]===L){H=true;break}}var R=x[L];var M=H?0:new Date(R).getTime();x[L]=M;E[L].sortKey=M}}if(Q){if(O=="DESC"){x.sort(function(T,S){return S-T})}else{x.sort(function(T,S){return T-S})}}else{x.sort();if(O=="DESC"){x.reverse()}}var D=E[0].parentNode;for(var L=0;L<E.length;L++){D.removeChild(E[L])}for(var L=0;L<x.length;L++){var P=x[L];for(var I=0;I<E.length;I++){var A=E[I];if(A.sortKey==P){A.sortKey=null;D.appendChild(A);E.splice(I,1);break}}}for(var L=0;L<E.length;L++){D.appendChild(E[L])}w.onSort(G,K)}else{if(F.field!=null){s.clear();if(!j){j={}}j.orderby=(F.field+" "+O).trim();w.onSort(G,K);e()}}};var f=function(z){if(z==null){return}var A=document.createElement("div");A.style.height="100%";var y=300;var x;if(typeof z==="string"){x=document.createElement("span");x.innerHTML=z}else{x=document.createElement("div");x.style.display="inline-block";x.appendChild(z)}A.onmousemove=function(){var C=this.firstChild;var B=this.parentNode;if(C.offsetWidth>B.offsetWidth){if(C.offsetWidth>y){C.style.width=y+"px";C.style.minHeight="115px";C.style.maxHeight=y+"px";C.style.whiteSpace="normal";C.style.lineHeight="18px";C.style.display="block";C.style.overflowY="auto";C.style.overflowX="hidden"}B.className="grid-overflow-popup";B.style.width="";B.style.height="";B.onmouseout=function(E){var D=E.toElement||E.relatedTarget;if(D.parentNode==this||D==this){return}while(D.parentNode){if(D.parentNode==this.firstChild){return}D=D.parentNode}C.style="";C.style.display="inline-block";this.className="";this.style.width="100%";this.style.height="100%"}}};A.appendChild(x);return A};var d=javaxt.dhtml.utils.merge;var l=javaxt.dhtml.utils.getRect;var h=javaxt.dhtml.utils.isArray;r()};
javaxt.dhtml.DateInput=function(l,b){this.className="javaxt.dhtml.DateInput";var g=this;var k,a,j,d;var n;var c={label:false,date:null,showMenuOnFocus:false,style:{input:{color:"#363636",fontSize:"14px",height:"24px",lineHeight:"24px",padding:"0px 4px",verticalAlign:"middle",transition:"border 0.2s linear 0s, box-shadow 0.2s linear 0s",backgroundColor:"#fff",border:"1px solid #ccc",borderRight:"0 none",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.075) inset"},button:{color:"#363636",height:"24px",width:"24px",border:"1px solid #b4b4b4",cursor:"pointer",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAlklEQVQ4jWNgGAUowNvbW9PBwUEAjxJGHx8f/dDQUB4MGV9f3+TAwMD/AQEB97y8vOSxafb392+BqrlkbGzMhSLr7++/MTAw8D8OQ+CaYdjb21sT3flKAQEBj7AYgqHZz8+vBqsHPT09ldENCQgImIysOSAgoBZPGGEaQpJmfIYQrRmbITj9TAg4ODgIeHp6apGleegAAME5Y+rCcN+AAAAAAElFTkSuQmCC)",backgroundPosition:"3px 3px",backgroundRepeat:"no-repeat",backgroundColor:"#e4e4e4"},datePicker:{}},formatDate:function(o){return(o.getMonth()+1)+"/"+o.getDate()+"/"+o.getFullYear()}};var m=function(){if(typeof l==="string"){l=document.getElementById(l)}if(!l){return}var t={};h(t,b);h(t,c);b=t;n=b.formatDate;var o=document.createElement("div");o.setAttribute("desc",g.className);var q=i();var p=q.firstChild;var r=document.createElement("tr");p.appendChild(r);var s=document.createElement("td");s.style.width="100%";j=document.createElement("input");j.type="text";g.setDate(b.date);e(j,"input");j.style.width="100%";s.appendChild(j);r.appendChild(s);j.onkeydown=function(u){if(u.keyCode===9){u.preventDefault()}};j.onkeyup=function(u){if(u.keyCode===9){g.hideMenu();f()}else{if(u.keyCode===40){g.showMenu()}}};if(b.showMenuOnFocus){j.onfocus=function(){g.showMenu()}}s=document.createElement("td");d=document.createElement("input");d.type="button";e(d,"button");s.appendChild(d);r.appendChild(s);d.onclick=function(){if(a){if(a.style.visibility==="hidden"){g.showMenu()}else{a.style.visibility="hidden"}}else{g.showMenu()}};o.appendChild(q);l.appendChild(o);g.el=o};this.showMenu=function(){if(k){var q=new Date(j.value);if(isNaN(q.getTime())){q=new Date()}k.setDate(q);a.style.visibility=""}else{var p=g.el;a=document.createElement("div");a.setAttribute("desc","menu");a.style.position="absolute";p.appendChild(a);var o=function(r){if(!p.contains(r.target)){a.style.visibility="hidden"}};if(document.addEventListener){document.addEventListener("click",o)}else{if(document.attachEvent){document.attachEvent("onclick",o)}}var q=new Date(j.value);if(isNaN(q.getTime())){q=new Date()}k=new javaxt.dhtml.DatePicker(a,{date:q,style:b.datePicker});k.select();k.onClick=function(r){j.value=n(r);a.style.visibility="hidden"}}};this.hideMenu=function(){if(a){a.style.visibility="hidden"}};this.setDate=function(o){if(o){if(typeof l==="string"){o=new Date(o);if(isNaN(o.getTime())){o=null}}else{if(o.getTime){if(isNaN(o.getTime())){o=null}}else{o=null}}}if(o){j.value=n(o)}};this.getDate=this.getValue=function(){var o=new Date(j.value);if(isNaN(o.getTime())){o=null}return o};var f=function(){var p=j.form;if(p){for(var o=0;o<p.elements.length;o++){if(p.elements[o]===j&&o<p.elements.length-2){p.elements[o+2].focus();return}}}};var h=javaxt.dhtml.utils.merge;var i=javaxt.dhtml.utils.createTable;var e=function(p,o){javaxt.dhtml.utils.setStyle(p,b.style[o])};m()};
javaxt.dhtml.DatePicker=function(parent,config){this.className="javaxt.dhtml.DatePicker";var me=this;var currDate;var startDate;var mainDiv;var todayHighlightDiv;var cells=[];var selectionMode;var defaultConfig={date:new Date(),selectionMode:"day",daysOfWeek:["S","M","T","W","T","F","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],allowDeselect:true,style:{panel:{fontFamily:"helvetica,arial,verdana,sans-serif",background:"#ffffff",border:"1px solid #b4cbdd",display:"inline-block"},header:{background:"#d9e7f8",height:"25px",lineHeight:"25px"},title:{position:"absolute",width:"100%",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"bold",color:"#555555",textAlign:"center",cursor:"pointer"},next:{float:"right",borderRight:"2px solid #5e8be0",borderBottom:"2px solid #5e8be0",width:"7px",height:"7px",transform:"rotate(-45deg)",margin:"7px 10px 0 0",cursor:"pointer"},back:{float:"left",borderRight:"2px solid #5e8be0",borderBottom:"2px solid #5e8be0",width:"7px",height:"7px",transform:"rotate(135deg)",margin:"7px 0 0 10px",cursor:"pointer"},cell:{width:"18px",height:"18px",lineHeight:"18px",textAlign:"right",padding:"2px 4px 1px 0px",fontSize:"11px",color:"#000000",cursor:"pointer",border:"1px solid #ffffff",margin:"1px"},cellHeader:{color:"#233d6d",fontSize:"10px",lineHeight:"10px",paddingBottom:"0px",paddingTop:"0px",border:"0px",borderTop:"1px solid #bbccff",borderBottom:"1px solid #bbccff"},previousMonth:{color:"#aaaaaa"},nextMonth:{color:"#aaaaaa"},today:{width:"22px",height:"21px",border:"1px solid #FF7373",top:"-1px",left:"-1px"},selected:{color:"#000000",fontWeight:"bold",background:"#fff4bf",border:"1px solid #bfa52f"}}};var init=function(){if(typeof parent==="string"){parent=document.getElementById(parent);}
if(!parent)return;var clone={};merge(clone,config);merge(clone,defaultConfig);config=clone;selectionMode=config.selectionMode;mainDiv=document.createElement('div');addStyle(mainDiv,"panel");mainDiv.style.display="table";parent.appendChild(mainDiv);me.el=mainDiv;mainDiv.unselectable="on";mainDiv.onselectstart=function(){return false;};mainDiv.onmousedown=function(){return false;};todayHighlightDiv=document.createElement('div');addStyle(todayHighlightDiv,"today");todayHighlightDiv.style.position="absolute";me.setDate(config.date);};this.setDate=function(date){date=new Date(date.getFullYear(),date.getMonth(),date.getDate());me.render(date);me.deselect();for(var i=0;i<cells.length;i++){var d=cells[i].date;if(d.getTime()===date.getTime()){select(cells[i]);return;}}};this.render=function(date){date=new Date(date.getFullYear(),date.getMonth(),date.getDate());if(currDate&&date.getTime()===currDate.getTime())return;var range=computeRange(date);if(startDate){if(startDate.getTime()===range.startDate.getTime()){if(currDate.getTime()!==date.getTime()){currDate=date;me.onUpdate(new Date(currDate));}
return;}}
currDate=date;startDate=range.startDate;var currMonth=currDate.getMonth();var numWeeks=range.numWeeks;mainDiv.innerHTML="";var headerDiv=document.createElement('div');addStyle(headerDiv,"header");headerDiv.style.position="relative";mainDiv.appendChild(headerDiv);var titleDiv=document.createElement('div');addStyle(titleDiv,"title");titleDiv.innerHTML=config.months[currMonth]+" "+currDate.getFullYear();titleDiv.onclick=function(e){me.onHeaderClick(headerDiv,e);};headerDiv.appendChild(titleDiv);var backDiv=document.createElement('div');addStyle(backDiv,"back");backDiv.onclick=function(){me.back();};headerDiv.appendChild(backDiv);var nextDiv=document.createElement('div');addStyle(nextDiv,"next");nextDiv.onclick=function(){me.next();};headerDiv.appendChild(nextDiv);var table=createTable();table.style.fontFamily="inherit";table.style.textAlign="inherit";table.style.color="inherit";var tbody=table.firstChild;var tr=document.createElement('tr');tbody.appendChild(tr);for(var i=0;i<7;i++){var td=document.createElement('td');td.style.fontFamily="inherit";td.innerHTML=config.daysOfWeek[i];tr.appendChild(td);addStyle(td,"cell");addStyle(td,"cellHeader");}
cells=[];var d=new Date(startDate);for(var i=0;i<numWeeks;i++){tr=document.createElement('tr');tbody.appendChild(tr);for(var j=0;j<7;j++){var td=document.createElement('td');td.style.fontFamily="inherit";tr.appendChild(td);var cell=document.createElement('div');cell.style.position="relative";cell.style.fontFamily="inherit";cell.date=new Date(d);cell.selected=false;td.appendChild(cell);cells.push(cell);var div1=document.createElement('div');div1.style.fontFamily="inherit";div1.innerHTML=d.getDate();cell.appendChild(div1);addStyle(cell,"cell");var month=d.getMonth();var monthOffset=0;if(month!==currMonth){if(i===0){monthOffset=-1;addStyle(cell,"previousMonth");}
else{monthOffset=1;addStyle(cell,"nextMonth");}}
cell.monthOffset=monthOffset;cell.onclick=function(e){var cell=this;var dateRange=select(cell);me.onClick(new Date(cell.date),dateRange);};d.setDate(d.getDate()+1);}}
mainDiv.appendChild(table);highlightTodaysDate();function scheduledTask(){var now=new Date();var night=new Date(now.getFullYear(),now.getMonth(),now.getDate()+1,0,0,0);var msToMidnight=night.getTime()-now.getTime();setTimeout(function(){highlightTodaysDate();scheduledTask();},msToMidnight);}
scheduledTask();me.onUpdate(new Date(currDate));};var highlightTodaysDate=function(){if(todayHighlightDiv.parentNode){var cell=todayHighlightDiv.parentNode;cell.removeChild(todayHighlightDiv);}
var now=new Date();for(var x=0;x<cells.length;x++){var cell=cells[x];var d=cell.date;if(d.getFullYear()===now.getFullYear()&&d.getMonth()===now.getMonth()&&d.getDate()===now.getDate())
cell.appendChild(todayHighlightDiv);}};this.select=function(date){if(!date)return;var cell;for(var x=0;x<cells.length;x++){var _cell=cells[x];var _date=_cell.date;if(_date.getDate()===date.getDate()&&_date.getMonth()===date.getMonth()&&_date.getFullYear()===date.getFullYear()){cell=_cell;break;}}
if(cell)select(cell);};var select=function(cell){if(selectionMode==="day"){var d=new Date(cell.date);for(var x=0;x<cells.length;x++){var _cell=cells[x];if(_cell.selected){if(cell===_cell){if(config.allowDeselect){deselect(_cell);return[];}
else{return[d];}}
else{deselect(_cell);}
break;}}
cell.selected=true;addStyle(cell,"selected");return[d];}
else if(selectionMode==="week"){var parentRow=cell.parentNode.parentNode;var d1=new Date(parentRow.childNodes[0].childNodes[0].date);var d2=new Date(parentRow.childNodes[parentRow.childNodes.length-1].childNodes[0].date);for(var x=0;x<cells.length;x++){var _cell=cells[x];if(_cell.parentNode.parentNode===parentRow){if(_cell.selected){if(config.allowDeselect){for(var y=0;y<cells.length;y++){if(cells[y].selected)deselect(cells[y]);}
return[];}
else{return[d1,d2];}}
_cell.selected=true;addStyle(_cell,"selected");}
else{if(_cell.selected)deselect(_cell);}}
return[d1,d2];}
else{return[];}};this.deselect=function(){for(var x=0;x<cells.length;x++){var _cell=cells[x];if(_cell.selected){if(config.allowDeselect){}
deselect(_cell);}}};var deselect=function(_cell){_cell.selected=false;_cell.style='';_cell.className='';_cell.removeAttribute("class");_cell.style.position="relative";addStyle(_cell,"cell");switch(_cell.monthOffset){case-1:addStyle(_cell,"previousMonth");break;case 1:addStyle(_cell,"nextMonth");break;}};this.getSelectionMode=function(){return selectionMode;};this.setSelectionMode=function(str){selectionMode=str;};this.onClick=function(date,dateRange){};this.onHeaderClick=function(headerDiv,e){};this.onUpdate=function(date){};this.back=function(){var m=currDate.getMonth()-1;var d=currDate.getDate();var y=currDate.getFullYear();var x=new Date(y,m+1,0).getDate();if(d>x)console.log(d+" vs "+x);if(d>x)d=x;me.render(new Date(y,m,d));};this.next=function(){var m=currDate.getMonth()+1;var d=currDate.getDate();var y=currDate.getFullYear();var x=new Date(y,m+1,0).getDate();if(d>x)console.log(d+" vs "+x);if(d>x)d=x;me.render(new Date(y,m,d));};this.getMonth=function(){return currDate.getMonth();};this.getYear=function(){return currDate.getFullYear();};var computeRange=function(d){var year=d.getFullYear();var month=d.getMonth()+1;var firstOfMonth=new Date(year,month-1,1);var lastOfMonth=new Date(year,month,0);var numWeeks=Math.ceil((firstOfMonth.getDay()+lastOfMonth.getDate())/7);var startDate=new Date(firstOfMonth);startDate.setDate(startDate.getDate()-firstOfMonth.getDay());var endDate=new Date(lastOfMonth);endDate.setDate(endDate.getDate()+(6-lastOfMonth.getDay()));return{numWeeks:numWeeks,startDate:startDate,endDate:endDate};};var merge=javaxt.dhtml.utils.merge;var createTable=javaxt.dhtml.utils.createTable;var setStyle=function(el,style){javaxt.dhtml.utils.setStyle(el,config.style[style]);};var addStyle=function(el,style){javaxt.dhtml.utils.addStyle(el,config.style[style]);};init();};
javaxt.dhtml.Form=function(o,E){this.className="javaxt.dhtml.Form";var F=this;var b;var t,x;var z;var c=[];var C=[];var y=[];var r={onsubmit:null,items:[],style:{spacing:"8px",form:{padding:"5px 5px 0 5px"},label:{color:"#363636",whiteSpace:"nowrap",cursor:"default",paddingRight:"8px"},addColon:true,icon:{},input:{borderRadius:"4px",color:"#363636",display:"inline-block",fontSize:"14px",height:"26px",lineHeight:"26px",padding:"4px 6px",verticalAlign:"middle",transition:"border 0.2s linear 0s, box-shadow 0.2s linear 0s",backgroundColor:"#fff",border:"1px solid #ccc",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.075) inset",boxSizing:"border-box"},radio:{margin:0,padding:0},checkbox:{margin:0,padding:0},buttons:{padding:"0px 5px 3px 5px",textAlign:"right"},button:{borderRadius:"3px",color:"#363636",display:"inline-block",fontSize:"14px",width:"80px",height:"26px",lineHeight:"26px",verticalAlign:"middle",textAlign:"center",backgroundColor:"#e4e4e4",border:"1px solid #b4b4b4",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)",textShadow:"1px 1px 0px rgb(255, 255, 255)",cursor:"pointer",marginLeft:"7px"},groupbox:{border:"1px solid #ccc",borderRadius:"4px",padding:"16px 8px 12px 13px"},grouplabel:{margin:"8px 0 0 7px",backgroundColor:"white",padding:"0 5px 0 5px",color:"rgb(0, 70, 138)"}}};var w=function(){if(typeof o==="string"){o=document.getElementById(o)}if(!o){return}var N={};j(N,E);j(N,r);E=N;z=E.style.spacing;b=document.createElement("form");b.style.padding=0;b.style.margin=0;b.style.height="100%";b.setAttribute("desc",F.className);if(E.onsubmit){b.onsubmit=E.onsubmit}else{b.onsubmit=function(U){U.preventDefault()}}o.appendChild(b);F.el=b;var Q=e("100%","100%",F.className);b.appendChild(Q.parentNode);var G,O,P;G=document.createElement("tr");O=document.createElement("td");x=document.createElement("tr");P=document.createElement("td");G.setAttribute("desc","formRow");x.setAttribute("desc","buttonRow");G.appendChild(O);Q.appendChild(G);x.appendChild(P);Q.appendChild(x);d(O,"form");O.style.width="100%";O.style.height="100%";O.style.verticalAlign="top";d(P,"buttons");t=e("100%");O.appendChild(t.parentNode);var K=e();var R=document.createElement("div");R.style.display="inline-block";P.appendChild(R);R.appendChild(K.parentNode);var M=E.style.buttons.textAlign;if(M===null){M="right"}else{M=M.toLowerCase()}if(M==="fit"){K.parentNode.style.width="100%"}else{if(M==="right"){K.parentNode.align="right"}else{if(M==="center"){K.parentNode.align="center"}}}x=document.createElement("tr");K.appendChild(x);if(E.items){for(var I=0;I<E.items.length;I++){var T=E.items[I];if(T.group){m(T.group,T.items,T.hidden)}else{v(T)}}}if(E.buttons){for(var I=0;I<E.buttons.length;I++){var J=E.buttons[I];var H=J.name;var L=true;var S=J.onclick;F.addButton(H,L,S)}}k(o,function(){F.resize()});g(o,F.resize)};this.resize=function(){for(var G=0;G<C.length;G++){h(C[G])}};this.getForm=function(){return b};this.reset=function(){b.reset()};this.clear=function(){for(var H=0;H<b.elements.length;H++){var G=b.elements[H];var I=G.type;switch(I){case"text":case"textarea":case"password":case"hidden":G.value="";break;case"radio":case"checkbox":G.checked="";break;case"select-one":G.options[0].selected=true;break;case"select-multiple":for(var J=0;J<G.options.length;J++){G.options[J].selected=false}break}}for(var H=0;H<c.length;H++){var G=c[H];if(G.clear){G.clear()}}};this.getData=function(){var I={};for(var K=0;K<c.length;K++){var H=c[K];var J=H.name;var M=H.getValue();var L=I[J];if(L){var G=[];if(L instanceof Array){G=L}G.push(M);I[J]=G}else{I[J]=M}}return I};this.getFormData=function(){var K=new FormData();var J=F.getData();for(var I in J){if(J.hasOwnProperty(I)){var L=J[I];if(L instanceof Array){var G=L;for(var H=0;H<G.length;H++){K.append(I,L)}}else{K.append(I,L)}}}return K};this.addButton=function(J,I,H){var K=document.createElement("td");if(J.toLowerCase()==="spacer"){K.style.width="100%"}else{var G=document.createElement("input");G.type="button";G.name=J;G.value=J;G.onclick=H;d(G,"button");y.push(G);K.appendChild(G)}x.appendChild(K)};this.getButton=function(G){for(var H=0;H<y.length;H++){if(y[H].name===G){return y[H]}}return null};this.getButtons=function(){return y};var i=function(H){var K=H.type;var G=H.name;var M=H.label;var L=H.icon;var O=H.value;var N;if(K=="textarea"){N=document.createElement("textarea");d(N,"input");N.style.lineHeight="normal";N.style.resize="none";N.style.height="100px";if(H.height){N.style.height=H.height}if(H.spellcheck===false){N.setAttribute("spellcheck","false")}}else{N=document.createElement("input");N.type=K;if(H.placeholder){N.setAttribute("placeholder",H.placeholder)}d(N,"input");if(H.spellcheck===true){}else{N.setAttribute("spellcheck","false")}}N.name=G;if(O!=null){N.value=O}N.style.width="100%";N.setAttribute("autocomplete","off");var J=function(){return N.value};var I=function(Q){if(typeof Q==="undefined"){Q=""}if(N.value!=Q){N.value=Q;N.oninput()}};var P=p(G,M,N,J,I,L);N.oninput=function(){F.onChange(P,N.value)};N.onpaste=N.oninput;N.onpropertychange=N.oninput};var A=function(J,K){var I=document.createElement("textarea");I.style.display="none";I.name=J;if(K!=null){I.value=K}var H=function(){return I.value};var L=function(M){if(typeof M==="undefined"){M=""}if(I.value!=M){I.value=M;I.onchange()}};var G={name:J,label:null,row:null,getValue:H,setValue:L};I.onchange=function(){F.onChange(G,I.value)};c.push(G);b.appendChild(I)};var n=function(O,Z,Y){var M;var L=Y.options;var P=Y.alignment;var H=e("100%");var X=H.parentNode;var I;var G=[];for(var W=0;W<L.length;W++){if(P=="vertical"){I=document.createElement("tr");H.appendChild(I)}else{if(W==0){I=document.createElement("tr");H.appendChild(I)}}var N=document.createElement("td");I.appendChild(N);var R=e();var S=document.createElement("tr");R.appendChild(S);var U=document.createElement("td");S.appendChild(U);var T=document.createElement("td");S.appendChild(T);N.appendChild(R.parentNode);var Q=document.createElement("input");d(Q,"radio");Q.type="radio";Q.name=Z;Q.value=L[W].value;if(L[W].checked===true||L[W].selected==true){Q.checked=true}Q.onchange=function(){F.onChange(M,K())};G.push(Q);U.appendChild(Q);var V=document.createElement("span");d(V,"label");V.innerHTML=L[W].label;V.input=Q;V.onclick=function(){this.input.checked=true;this.input.focus();a(this.input,"change")};T.appendChild(V)}var K=function(){for(var aa=0;aa<G.length;aa++){if(G[aa].checked){return G[aa].value}}return null};var J=function(ac){var ab=0;for(var aa=0;aa<G.length;aa++){if((G[aa].value+"")==(ac+"")){if(G[aa].checked!==true){ab++}G[aa].checked=true}else{G[aa].checked=false;if(G[aa].checked===true){ab++}}}if(ab>0){F.onChange(M,K())}};M=p(Z,O,X,K,J,Y.icon)};var D=function(O,Z,Y){var M;var L=Y.options;var P=Y.alignment;var H=e("100%");var X=H.parentNode;var I;var G=[];for(var W=0;W<L.length;W++){if(P=="horizontal"){if(W==0){I=document.createElement("tr");H.appendChild(I)}}else{I=document.createElement("tr");H.appendChild(I)}var N=document.createElement("td");I.appendChild(N);var R=e();var S=document.createElement("tr");R.appendChild(S);var U=document.createElement("td");S.appendChild(U);var T=document.createElement("td");S.appendChild(T);N.appendChild(R.parentNode);var Q=document.createElement("input");d(Q,"checkbox");Q.type="checkbox";Q.name=Z;Q.value=L[W].value;if(L[W].checked===true||L[W].selected==true){Q.checked=true}Q.onchange=function(){F.onChange(M,K())};G.push(Q);U.appendChild(Q);var V=document.createElement("span");d(V,"label");V.innerHTML=L[W].label;V.input=Q;V.onclick=function(){this.input.checked=!this.input.checked;a(this.input,"change")};T.appendChild(V)}var K=function(){var aa="";for(var ab=0;ab<G.length;ab++){if(G[ab].checked){if(aa.length>0){aa+=","}aa+=G[ab].value}}return aa.length==0?null:aa};var J=function(ac){var ab=0;for(var aa=0;aa<G.length;aa++){if((G[aa].value+"")==(ac+"")){if(G[aa].checked!==true){ab++}G[aa].checked=true}else{G[aa].checked=false;if(G[aa].checked===true){ab++}}}if(ab>0){F.onChange(M,K())}};M=p(Z,O,X,K,J,Y.icon)};var m=function(ab,S,T){var K=document.createElement("tr");K.setAttribute("desc","-- Group Start --");t.appendChild(K);var X,G,W,L,Z,Q;var V=l();if(V){X=V.paddingLeft;G=V.paddingRight;W=V.paddingTop;L=V.paddingBottom;Z=V.borderLeft+V.borderRight;Q=V.borderTop+V.borderBottom}else{X=parseInt(z);G=X;W=X*2;L=W;Z=2;Q=Z}var M=document.createElement("td");M.style.padding=(parseInt(z)*2)+"px "+Z+"px "+W+"px 0";M.colSpan=3;K.appendChild(M);var R=document.createElement("div");R.style.position="relative";R.style.width="100%";R.style.visibility="hidden";R.style.display="block";M.appendChild(R);var aa=document.createElement("div");d(aa,"groupbox");aa.style.padding=0;aa.style.position="absolute";aa.style.width="100%";aa.style.zIndex=-1;R.appendChild(aa);var N=document.createElement("div");d(N,"grouplabel");N.style.position="absolute";N.style.left=0;N.style.top=-(W+Q)+"px";N.innerHTML=ab;N.style.zIndex=-1;R.appendChild(N);for(var U=0;U<S.length;U++){if(T===true){S[U].hidden=true}v(S[U])}var I=document.createElement("tr");I.setAttribute("desc","-- Group End --");t.appendChild(I);var M=document.createElement("td");M.style.padding=(parseInt(z)+L)+"px 0 0 0";M.colSpan=3;I.appendChild(M);var Y=function(){var af=[];var ac=false;for(var ad=0;ad<t.childNodes.length;ad++){var ae=t.childNodes[ad];if(ae===K){ac=true}if(ac){af.push(ae);if(ae===I){ac=false;break}}}return af};var J=function(ac){ac=ac-parseInt(z);ac+=(W+L);aa.style.height=ac+"px";R.style.visibility=""};var O=Y();for(var U=1;U<O.length-1;U++){var H=O[U];var P=H.childNodes;P[0].style.paddingLeft=X+"px";P[P.length-1].style.paddingRight=(G+Z)+"px"}C.push({name:ab,getRows:Y,setHeight:J});B(ab,T)};this.showGroup=function(G){B(G,false)};this.hideGroup=function(G){B(G,true)};var B=function(L,H){var K;for(var G=0;G<C.length;G++){if(C[G].name===L){K=C[G];break}}if(K){var J=K.getRows();for(var G=0;G<J.length;G++){var I=J[G];if(H){I.style.visibility="hidden";I.style.display="none"}else{I.style.display="";I.style.visibility=""}}}};var v=function(R){var K=R.type;var G=R.name;var N=R.label;var L=R.icon;var O=R.value;if(typeof K==="string"){if(K==="text"||K==="password"||K==="textarea"){i(R)}else{if(K==="radio"){n(N,G,R)}else{if(K==="checkbox"){D(N,G,R)}else{if(K==="hidden"){A(G,O)}}}}}else{var H;var J,I;var M=K;if(M.tagName){if(M.tagName.toLowerCase()==="input"){H=M;J=function(){return M.value};I=function(S){M.value=S};p(G,N,H,J,I,L)}}else{if(M.el&&M.getValue){var Q=p(G,N,M.el,M.getValue,M.setValue,L);for(var P in M){if(M.hasOwnProperty(P)){if(typeof M[P]==="function"){Q[P]=M[P]}}}M.onChange=function(){F.onChange(Q,M.getValue())}}}}};var p=function(H,O,I,L,K,M){var P=document.createElement("tr");t.appendChild(P);var J=document.createElement("td");if(M){d(J,"icon");var G=document.createElement("div");G.className=M;J.appendChild(G)}P.appendChild(J);P.appendChild(u(O));J=document.createElement("td");J.style.width="100%";J.style.paddingBottom=z;P.appendChild(J);J.appendChild(I);var N={name:H,label:O,row:P,getValue:L,setValue:K};c.push(N);return N};var u=function(G){var H=document.createElement("td");d(H,"label");H.style.paddingBottom=z;H.onselectstart=function(){return false};H.onmousedown=function(){return false};if(G!=null){G=G.replace(/^\s*/,"").replace(/\s*$/,"");if(G.length>0){if(G.indexOf(":")!=G.length&&E.style.addColon===true){G+=": "}else{G+=" "}}}if(G!=null){H.innerHTML=G}return H};this.enableField=function(I){var K=F.findField(I);if(K){var L=K.row;for(var J=0;J<L.childNodes.length;J++){var G=L.childNodes[J];var H=1;if(J===2){if(K.enable){K.enable();H=""}else{G.childNodes[0].disabled=false}}G.style.opacity=H}return true}return false};this.disableField=function(I){var K=F.findField(I);if(K){var L=K.row;for(var J=0;J<L.childNodes.length;J++){var G=L.childNodes[J];var H="0.6";if(J===2){if(K.disable){K.disable();H=""}else{G.childNodes[0].disabled=true}}G.style.opacity=H}return true}return false};this.hideField=function(G){var I=F.findField(G);if(I){var J=I.row;J.style.visibility="hidden";J.style.display="none";var H=f(J);if(H){h(H)}return true}return false};this.showField=function(G){var I=F.findField(G);if(I){var J=I.row;J.style.visibility="";J.style.display="";var H=f(J);if(H){h(H)}return true}return false};this.onChange=function(G){};this.getValue=function(G){var H=F.findField(G);if(H){return H.getValue()}return null};this.setValue=function(G,H){var I=F.findField(G);if(I){I.setValue(H);return true}return false};this.findField=function(G){for(var H=0;H<c.length;H++){if(c[H].name===G){return c[H]}}for(var H=0;H<c.length;H++){if(c[H].label===G){return c[H]}}return null};var f=function(L){for(var H=0;H<C.length;H++){var K=C[H];var J=K.getRows();for(var G=0;G<J.length;G++){var I=J[G];if(I===L){return K}}}return null};var h=function(K){var J=K.getRows();var H=K.setHeight;var G=[];for(var I=1;I<J.length-1;I++){G.push(J[I])}q(G,H)};var l=function(){if(E.groupbox){return E.groupbox}var I=document.createElement("div");d(I,"groupbox");I.style.position="absolute";I.style.visibility="hidden";I.style.display="block";var H=document.getElementsByTagName("body")[0];H.appendChild(I);var J=I.currentStyle||window.getComputedStyle(I);var G=function(L){if(J.getPropertyValue){var K=J.getPropertyValue(L);if(K&&K.length>0){return K}L=L.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return J.getPropertyValue(L)}else{return J[L]}};E.groupbox={paddingTop:parseInt(G("paddingTop")),paddingBottom:parseInt(G("paddingBottom")),paddingLeft:parseInt(G("paddingLeft")),paddingRight:parseInt(G("paddingRight")),borderLeft:parseInt(G("borderLeftWidth")),borderRight:parseInt(G("borderRightWidth")),borderTop:parseInt(G("borderTopWidth")),borderBottom:parseInt(G("borderBottomWidth"))};H.removeChild(I);I=null;return E.groupbox};var q=function(I,L){var J=function(){var N=0;for(var M=0;M<I.length;M++){if(I[M].style.display!=="none"){N+=I[M].offsetHeight}}return N};var H=J(I);if(H===0||isNaN(H)){var K;var G=function(){var M=J();if(M===0||isNaN(M)){K=setTimeout(G,100)}else{clearTimeout(K);L.apply(F,[M])}};K=setTimeout(G,100)}else{L.apply(F,[H])}};var s=function(K){var H=K.split(".");var J=(window||this);for(var I=0,G=H.length;I<G;I++){J=J[H[I]]}if(typeof J!=="function"){throw new Error("function not found")}return J};var a=function(H,I){if("createEvent" in document){var G=document.createEvent("HTMLEvents");G.initEvent(I,false,true);H.dispatchEvent(G)}else{H.fireEvent("on"+I)}};var e=function(I,G,K){var J=javaxt.dhtml.utils.createTable();var H=J.firstChild;if(I){J.style.width=I}else{J.style.width=""}if(G){J.style.height=G}else{J.style.height=""}if(K){J.setAttribute("desc",K)}return H};var d=function(H,G){javaxt.dhtml.utils.setStyle(H,E.style[G])};var j=javaxt.dhtml.utils.merge;var g=javaxt.dhtml.utils.onRender;var k=javaxt.dhtml.utils.addResizeListener;w()};
javaxt.dhtml.Keypad=function(k,e){this.className="javaxt.dhtml.Keypad";var h=this;var d=0;var b;var f={maxDecimals:2,border:"1px solid #969696",background:"#D2D6DC",buttonWidth:70,buttonHeight:null,buttonSpacing:20,buttonColor:"#FDFDFE",buttonRadius:"5px 5px 5px 5px",buttonBorder:"1px solid #d1d1d1",highlight:"#EDF3FE",fontFamily:"Helvetica,arial,verdana,sans-serif",fontSize:null,fontColor:"#656565",sound:null};var m=function(){var u={};i(u,e);i(u,f);e=u;b=document.createElement("div");b.style.width=(e.buttonWidth*3)+(e.buttonSpacing*4);b.style.display="block";b.style.border=e.border;b.style.backgroundColor=e.background;if(k==null||k.tagName=="INPUT"){b.style.position="absolute";b.style.top=b.style.left=0;b.style.display="none";document.getElementsByTagName("body")[0].appendChild(b)}else{k.appendChild(b)}var r=document.createElement("table");r.style.borderCollapse="separate";r.style.borderSpacing=e.buttonSpacing;r.cellSpacing=e.buttonSpacing;r.cellPadding=0;r.style.border=0;var p=document.createElement("tbody");r.appendChild(p);b.appendChild(r);var n=1;for(var q=0;q<4;q++){var s=document.createElement("tr");p.appendChild(s);for(var o=0;o<3;o++){var t=document.createElement("td");s.appendChild(t);if(q<3){j(t,n,function(w,v){c(v)});n++}else{if(o==0){if(e.maxDecimals>0){j(t,".",function(w,v){c(v)})}}else{if(o==1){j(t,0,function(w,v){c(v)})}else{t=j(t,"",l);g(t)}}}}}};var j=function(q,x,u){var p=parseInt(e.buttonWidth);var y=e.buttonHeight==null?p:parseInt(e.buttonHeight);q.style.background=e.buttonColor;q.style.borderRadius=e.buttonRadius;q.style.border=e.buttonBorder;q.style.width=p;q.style.height=y;q.style.cursor="pointer";q.style.textAlign="center";q.style.verticalAlign="middle";q.style.color=e.fontColor;q.style.fontFamily=e.fontFamily;q.style.fontSize=e.fontSize==null?Math.min(p,y)/2:e.fontSize;q.innerHTML=x;q.unselectable="on";q.onselectstart=function(){return false};q.onmousedown=function(){return false};var A=function(){if(e.sound!=null){e.sound.play()}u.apply(h,[q,x])};var r;var z;var o,n,v,t;var w=true;q.ontouchstart=function(B){w=false;q.style.background=e.highlight;B.preventDefault();o=B.changedTouches[0].pageX;v=B.changedTouches[0].pageY;r=new Date().getTime();z=null};q.ontouchend=function(B){z=new Date().getTime();n=B.changedTouches[0].pageX;t=B.changedTouches[0].pageY;s();setTimeout(function(){q.style.background=e.buttonColor},50)};function s(){var C=Math.sqrt((n-=o)*n+(t-=v)*t);if(C<0){C=-C}var B=z-r;if(B<=500&&C<=10){A()}if(B>500&&C<=10){A()}if(B<=100&&C>10){}if(B>100&&C>10){}}q.onclick=function(){if(w){A()}};q.onmouseover=function(){q.style.background=e.highlight};q.onmouseout=function(){q.style.background=e.buttonColor};return q};var g=function(u){var r=Math.round(parseInt(u.style.fontSize)*0.7);var n=2;var o=Math.round(r/2)-(n/2);var t=parseInt(u.style.width)-(r+o);var s=document.createElement("div");s.style.cssFloat="left";s.style.width=s.style.height=0;s.style.borderTop=s.style.borderBottom=o+"px solid transparent";s.style.borderRight=o+"px solid "+e.fontColor;s.style.paddingLeft=t/2;s.style.paddingTop=(n/2)+1;var q=document.createElement("div");q.style.background=e.fontColor;q.style.color=e.buttonColor;q.style.borderRadius="1px "+n+"px "+n+"px 1px";q.style.cssFloat="left";q.style.width=q.style.height=r;var p=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;if(p){a("&#10005;",r*0.8,q)}else{a("&#10060;",r*0.6,q)}u.appendChild(s);u.appendChild(q)};var a=function(s,q,o){var p=document.createElement("table");p.style.width="100%";p.style.height="100%";p.style.margin="0 0 0 -1px";p.cellSpacing=0;p.cellPadding=0;p.style.border=0;var n=document.createElement("tbody");p.appendChild(n);var r=document.createElement("tr");n.appendChild(r);var t=document.createElement("td");r.appendChild(t);t.style.cursor="pointer";t.style.textAlign="center";t.style.verticalAlign="middle";t.style.lineHeight=0;t.style.fontSize=q;t.style.color=e.buttonColor;t.innerHTML=s;o.appendChild(p)};var c=function(n){if(isNaN(d)){d=0}var p=d+"";if(n=="."){if((d+"").indexOf(".")==-1){d=d+"."}}else{if(n>=0&&n<=9){if(!isNaN(e.maxDecimals)){var o=(d+"").indexOf(".");if(o>-1){var q=(d+"").substring(o+1);if(q.length>=e.maxDecimals){return}}}if(o>-1&&n==0){d=d+"0"}else{d=parseFloat(d+""+n)}}}if(d+""!=p){h.onchange(d)}};var l=function(){var o=d+"";d=d+"";var n=d.length;if(n==0||n==1){d=0}else{d=d.substring(0,n-1)}if(d+""!=o){h.onchange(d)}};this.clear=function(){var n=d+"";d=0;if(d+""!=n){h.onchange(d)}};this.onchange=function(n){};this.setValue=function(o,n){var p=d+"";if(isNaN(o)){o=0}d=o;if(d+""!=p){if(n==true){}else{h.onchange(d)}}};this.getValue=function(){return d};this.show=function(){b.style.display="block"};this.hide=function(){b.style.display="none"};var i=javaxt.dhtml.utils.merge;m()};
javaxt.dhtml.MenuLayout=function(m,t){this.className="javaxt.dhtml.MenuLayout";var u=this;var h;var v;var b;var w;var k;var s;var x;var a,n;var c;var p={animationSteps:250,transitionEffect:"linear",fx:null,menuWidth:250,menuPosition:"left",title:"",style:{header:{height:"35px",background:"#777777",color:"#FFFFFF"},title:{lineHeight:"35px",position:"absolute",width:"100%",whiteSpace:"nowrap",fontFamily:"helvetica,arial,verdana,sans-serif",fontSize:"20px",color:"white",textAlign:"center",cursor:"pointer"},menu:{background:"#4BB5EF"},menuIcon:{},body:{}}};var q=function(){if(typeof m==="string"){m=document.getElementById(m)}if(!m){return}var D={};i(D,t);p.style.menuIcon=f;i(D,p);t=D;a=t.menuWidth;n=t.menuPosition;if(n==="right"){}else{n="left"}x=t.title;var z=document.createElement("div");z.setAttribute("desc",u.className);z.style.position="relative";z.style.width="100%";z.style.height="100%";m.appendChild(z);u.el=z;var F=e();F.setAttribute("desc",u.className);var B=F.firstChild;var G=document.createElement("tr");var A=document.createElement("td");A.style.width="100%";A.style.height="100%";A.style.border="0px";A.style.verticalAlign="top";G.appendChild(A);B.appendChild(G);z.appendChild(F);h=document.createElement("div");h.style.width="100%";h.style.height="100%";h.style.position="relative";A.appendChild(h);var C=document.createElement("div");C.style.width="100%";C.style.height="100%";C.style.position="absolute";C.style.overflow="hidden";h.appendChild(C);v=document.createElement("div");v.style.width=(h.offsetWidth+a)+"px";v.style.height="100%";v.style.position="relative";v.style.marginLeft=(n==="left"?-a:0)+"px";if(t.fx){t.fx.setTransition(v,t.transitionEffect,t.animationSteps)}C.appendChild(v);F=e();B=F.firstChild;G=document.createElement("tr");var E=document.createElement("td");if(n==="right"){E.style.width="100%"}E.style.height="100%";E.style.verticalAlign="top";G.appendChild(E);var y=document.createElement("td");if(n==="left"){y.style.width="100%"}y.style.height="100%";y.style.verticalAlign="top";G.appendChild(y);w=document.createElement("div");d(w,"menu");w.style.height="100%";w.style.width=a+"px";if(n==="left"){E.appendChild(w)}else{y.appendChild(w)}B.appendChild(G);v.appendChild(F);F=e();B=F.firstChild;G=document.createElement("tr");b=document.createElement("td");d(b,"header");b.style.width="100%";G.appendChild(b);B.appendChild(G);G=document.createElement("tr");k=document.createElement("td");k.style.width="100%";k.style.height="100%";k.style.verticalAlign="top";G.appendChild(k);B.appendChild(G);if(n==="left"){y.appendChild(F)}else{E.appendChild(F)}g(k,function(){b.appendChild(o());j(h,function(){u.resize();u.onResize()});window.scrollTo(0,1)})};var o=function(){var A=e();var z=A.firstChild;var C=document.createElement("tr");var B=document.createElement("td");C.appendChild(B);var y=document.createElement("td");y.style.width="100%";y.style.height="100%";C.appendChild(y);y.appendChild(l());var E=document.createElement("td");C.appendChild(E);var D=(n==="left")?B:E;D.onclick=function(){var F=parseFloat(v.style.marginLeft);if(F<0){u.showMenu()}else{u.hideMenu()}};if(typeof t.style.menuIcon==="function"){c=t.style.menuIcon()}else{c=document.createElement("div");d(c,t.style.menuIcon)}D.appendChild(c);z.appendChild(C);return A};var f=function(){var B=b.offsetHeight;var D=document.createElement("div");D.style.width=B+"px";D.style.height=B+"px";D.style.position="relative";D.style.cursor="pointer";var z=document.createElement("div");z.style.width="100%";z.style.height="100%";z.style.position="absolute";z.style.overflow="hidden";D.appendChild(z);var A=22;var E=3;var F=3;for(var y=0;y<3;y++){var C=document.createElement("div");C.style.width=A+"px";C.style.height=E+"px";C.style.background="#FFFFFF";C.style.marginBottom=F+"px";z.appendChild(C)}z.style.marginLeft=((B-A)/2)+"px";z.style.marginTop=((B-((E+F)*3))/2)+"px";return D};this.getMenuIcon=function(){return c};var l=function(){var z=document.createElement("div");z.style.width="100%";z.style.height="100%";z.style.position="relative";var y=document.createElement("div");y.style.width="100%";y.style.height="100%";y.style.position="absolute";y.style.overflow="hidden";z.appendChild(y);s=document.createElement("div");d(s,"title");u.setTitle(x);y.appendChild(s);return z};this.setTitle=function(y){x=y;if(y instanceof Element){s.appendChild(y)}else{s.innerHTML=x}};this.getTitle=function(){return x};this.showMenu=function(){u.beforeShow();if(t.fx){setTimeout(function(){v.style.marginLeft="0px";setTimeout(function(){u.onShow.apply(u,[])},t.animationSteps+50)},50)}else{r(true,new Date().getTime(),t.animationSteps,u.onShow)}};this.hideMenu=function(){u.beforeHide();if(t.fx){setTimeout(function(){v.style.marginLeft=-a+"px";setTimeout(function(){u.onHide.apply(u,[])},t.animationSteps+50)},50)}else{r(false,new Date().getTime(),t.animationSteps,u.onHide)}};this.onShow=function(){};this.onHide=function(){};this.beforeShow=function(){};this.beforeHide=function(){};var r=function(z,A,E,D){var y=new Date().getTime();var C=y-A;if(E<=C){v.style.marginLeft=z?"0px":-a+"px";if(D!=null){D.apply(u,[])}return}E-=C;var B;if(z){B=Math.round((E/t.animationSteps)*a)}else{B=a-Math.round((E/t.animationSteps)*a)}v.style.marginLeft=-B+"px";setTimeout(function(){r(z,y,E,D)},33)};this.resize=function(){v.style.width=(h.offsetWidth+a)+"px"};this.onResize=function(){};this.getMenu=function(){return w};this.getBody=function(){return k};var i=javaxt.dhtml.utils.merge;var g=javaxt.dhtml.utils.onRender;var e=javaxt.dhtml.utils.createTable;var j=javaxt.dhtml.utils.addResizeListener;var d=function(z,y){javaxt.dhtml.utils.setStyle(z,t.style[y])};q()};
javaxt.dhtml.PlayControl=function(h,b){this.className="javaxt.dhtml.PlayControl";var f=this;var a;var i=false;var c;var e=false;var d={startTime:0,speed:0.2,totalTime:60,style:{groove:"sliderGrove",handle:"sliderHandle"}};var j=function(){var l={};g(l,b);g(l,d);b=l;var k=false;a=new javaxt.dhtml.Slider(h,b);a.onChange=function(){if(k){f.onChange(f.getElapsedTime())}};a.onDrag=function(){var m=i;if(i){f.pause()}if(m){f.play(e)}};a.onRender=function(){f.setElapsedTime(b.startTime);k=true}};this.setRunTime=function(k){if(k===b.totalTime){return}var l=false;if(i){f.pause();l=true}b.totalTime=k;if(l){f.play()}};this.play=function(m){if(i===true){return}if(m===true){e=true}else{e=false}i=true;var k=new Date().getTime();var l=a.getValue();if(l>0){k=k-((l/a.getWidth())*b.totalTime)*1000}c=setInterval(function(){var n=a.getWidth();var o=(new Date().getTime()-k)/1000;var q=o/b.totalTime;var p=n*q;if(p>=n){if(e===true){f.onEnd();a.setValue(0);k=new Date().getTime()}else{a.setValue(n);f.pause();f.onEnd()}}else{a.setValue(p)}},b.speed*1000)};this.pause=function(){clearInterval(c);i=false};this.stop=function(){f.pause();a.setValue(0)};this.isPlaying=function(){return i};this.getElapsedTime=function(){return(a.getValue()/a.getWidth())*b.totalTime};this.setElapsedTime=function(m){if(m==null||m<0){return}var l=a.getWidth();var k=Math.ceil((m/b.totalTime)*l);if(k>l){k=0}a.setValue(k)};this.onChange=function(k){};this.onEnd=function(){};var g=javaxt.dhtml.utils.merge;j()};
javaxt.dhtml.Slider=function(m,c){var i=this;var a,b;var l=0;var n=0;var d={style:{groove:"sliderGrove",handle:"sliderHandle"}};var o=function(){if(typeof m==="string"){m=document.getElementById(m)}if(!m){return}var r={};j(r,c);j(r,d);c=r;var q=m.offsetWidth;b=document.createElement("div");e(b,c.style.groove);b.style.width="100%";f((q/2),9,b);m.appendChild(b);i.el=b;a=document.createElement("div");a.style.left=((q/2)-6.5)+"px";a.style.top=-6.5+"px";e(a,c.style.handle);b.appendChild(a);p(b,function(){n=parseInt(g(a,"width"));var s=h(b);var t=-6;k.init(a,null,0,s-n,t,t);a.onDrag=function(){f(k.x,n,b);i.onDrag(i.getValue())};a.onDragEnd=function(){};a.addEventListener("touchmove",function(v){v.preventDefault();var w=v.touches[0];var u=w.pageX-this.parentNode.offsetLeft;if(u<0){u=0}if(u>(s-(n))){u=(s-(n))}this.style.left=u+"px";f(u,n,b);i.onDrag(i.getValue())},false);i.onRender()})};this.onRender=function(){};this.onDrag=function(q){};this.onChange=function(q){};this.getValue=function(s){var q=i.getWidth();if(s==true){return Math.round((l/q)*100)/100}var r=l;if(r>=(q-(n/2))){r=q}return r};this.getWidth=function(){return h(b)-(n/2)};this.setValue=function(q,r){a.style.left=(q-6.5)+"px";f(q,9,b,r)};var g=function(q,r){return document.defaultView.getComputedStyle(q,null).getPropertyValue(r.toLowerCase())};var f=function(q,s,t,r){l=q;if(r===true){}else{i.onChange(l)}var u=(q+(s/2))+"px 9px, 100% 9px";t.style.MozBackgroundSize=u;t.style.backgroundSize=u};var h=function(s){var r=parseInt(g(s,"width"));var t=parseInt(g(s,"padding-right"));var q=parseInt(g(s,"border-right-width"));r-=t;r-=q;return r};var k={obj:null,init:function(u,t,q,w,x,v,s,r){u.onmousedown=k.start;u.hmode=s?false:true;u.vmode=r?false:true;u.root=t&&t!=null?t:u;if(u.hmode&&isNaN(parseInt(u.root.style.left))){u.root.style.left=g(u.root,"left")}if(u.vmode&&isNaN(parseInt(u.root.style.top))){u.root.style.top=g(u.root,"top")}if(!u.hmode&&isNaN(parseInt(u.root.style.right))){u.root.style.right=g(u.root,"right")}if(!u.vmode&&isNaN(parseInt(u.root.style.bottom))){u.root.style.bottom=g(u.root,"bottom")}u.minX=typeof q!="undefined"?q:null;u.minY=typeof x!="undefined"?x:null;u.maxX=typeof w!="undefined"?w:null;u.maxY=typeof v!="undefined"?v:null;u.root.onDragStart=new Function();u.root.onDragEnd=new Function();u.root.onDrag=new Function()},start:function(r){var q=k.obj=this;r=k.fixE(r);k.y=parseInt(q.vmode?q.root.style.top:q.root.style.bottom);k.x=parseInt(q.hmode?q.root.style.left:q.root.style.right);q.root.onDragStart(k.x,k.y);q.lastMouseX=r.clientX;q.lastMouseY=r.clientY;if(q.hmode){if(q.minX!=null){q.minMouseX=r.clientX-k.x+q.minX}if(q.maxX!=null){q.maxMouseX=q.minMouseX+q.maxX-q.minX}}else{if(q.minX!=null){q.maxMouseX=-q.minX+r.clientX+k.x}if(q.maxX!=null){q.minMouseX=-q.maxX+r.clientX+k.x}}if(q.vmode){if(q.minY!=null){q.minMouseY=r.clientY-k.y+q.minY}if(q.maxY!=null){q.maxMouseY=q.minMouseY+q.maxY-q.minY}}else{if(q.minY!=null){q.maxMouseY=-q.minY+r.clientY+k.y}if(q.maxY!=null){q.minMouseY=-q.maxY+r.clientY+k.y}}document.onmousemove=k.drag;document.onmouseup=k.end;return false},drag:function(u){u=k.fixE(u);var t=k.obj;var r=u.clientY;var s=u.clientX;k.y=parseInt(t.vmode?t.root.style.top:t.root.style.bottom);k.x=parseInt(t.hmode?t.root.style.left:t.root.style.right);var q,v;if(t.minX!=null){s=t.hmode?Math.max(s,t.minMouseX):Math.min(s,t.maxMouseX)}if(t.maxX!=null){s=t.hmode?Math.min(s,t.maxMouseX):Math.max(s,t.minMouseX)}if(t.minY!=null){r=t.vmode?Math.max(r,t.minMouseY):Math.min(r,t.maxMouseY)}if(t.maxY!=null){r=t.vmode?Math.min(r,t.maxMouseY):Math.max(r,t.minMouseY)}q=k.x+((s-t.lastMouseX)*(t.hmode?1:-1));v=k.y+((r-t.lastMouseY)*(t.vmode?1:-1));k.obj.root.style[t.hmode?"left":"right"]=q+"px";k.obj.root.style[t.vmode?"top":"bottom"]=v+"px";k.obj.lastMouseX=s;k.obj.lastMouseY=r;k.obj.root.onDrag(q,v);return false},end:function(){document.onmousemove=null;document.onmouseup=null;k.obj.root.onDragEnd(parseInt(k.obj.root.style[k.obj.hmode?"left":"right"]),parseInt(k.obj.root.style[k.obj.vmode?"top":"bottom"]));k.obj=null},fixE:function(q){if(typeof q.elemX=="undefined"){q.elemX=q.offsetX}if(typeof q.elemY=="undefined"){q.elemY=q.offsetY}return q}};var j=javaxt.dhtml.utils.merge;var e=javaxt.dhtml.utils.setStyle;var p=javaxt.dhtml.utils.onRender;o()};
javaxt.dhtml.Table=function(o,z){this.className="javaxt.dhtml.Table";var C=this;var u=false;var x,q;var k;var h;var B;var i=false;var s=false;var b=false;var t={multiselect:false,overflow:true,style:{table:{width:"100%",height:"100%",margin:0,padding:0,borderCollapse:"collapse"},headerRow:{height:"35px",borderBottom:"1px solid #8f8f8f",background:"#eaeaea"},headerColumn:{lineHeight:"35px",borderLeft:"1px solid #cccccc",borderRight:"1px solid #cccccc",padding:"0 5px",color:"#272727",cursor:"pointer",whiteSpace:"nowrap"},row:{height:"35px",borderBottom:"1px solid #cccccc"},column:{height:"35px",lineHeight:"35px",borderLeft:"1px solid #cccccc",borderRight:"1px solid #cccccc",padding:"0 5px",color:"#272727",cursor:"default",whiteSpace:"nowrap"},selectedRow:{height:"35px",borderBottom:"1px solid #cccccc",backgroundColor:"#FFFFB1"},resizeHandle:{width:"5px",cursor:"col-resize",marginRight:"-2px"},iscroll:null}};var w=function(){if(typeof o==="string"){o=document.getElementById(o)}if(!o){return}if(z==null||z.columns==null){return}var J={};g(J,z);g(J,t);z=J;var D,M,G,K,E;G=e();M=G.parentNode;M.setAttribute("desc",C.className);d(M,"table");o.appendChild(M);C.el=M;K=document.createElement("tr");K.setAttribute("desc","Header Row");d(K,"headerRow");G.appendChild(K);E=document.createElement("td");E.style.width="100%";E.style.height="inherit";K.appendChild(E);x=e();E.appendChild(x.parentNode);K=document.createElement("tr");K.setAttribute("desc","Body Row");G.appendChild(K);E=document.createElement("td");E.style.width="100%";E.style.height="100%";K.appendChild(E);k=document.createElement("div");k.setAttribute("desc","body-div");k.style.width="100%";k.style.height="100%";k.style.position="relative";k.tabIndex=-1;k.onmouseover=function(){this.focus()};k.addEventListener("keydown",function(O){if(O.keyCode===16){s=true}if(O.keyCode===17){i=true}if(O.keyCode===18){b=true}});k.addEventListener("keyup",function(R){if(R.keyCode===16){s=false}if(R.keyCode===17){i=false}if(R.keyCode===18){b=false}if(R.keyCode===38||R.keyCode===40){var O,Q;var P=function(){var S=O.previousSibling;if(S){S.click()}};C.forEachRow(function(S){if(S.selected){O=S}else{if(O){if(R.keyCode===40){S.click()}else{P()}return true}}Q=S});if(R.keyCode===38&&Q===O){P()}}C.onKeyEvent(R.keyCode,{shift:s,ctrl:i,alt:b})});E.appendChild(k);D=document.createElement("div");D.style.width="100%";D.style.height="100%";D.style.position="absolute";D.style.overflow="scroll";D.style.overflowX="hidden";k.appendChild(D);k=D;q=e();q.parentNode.style.height="";D.appendChild(q.parentNode);K=l(x,1);E=document.createElement("td");K.appendChild(E);var H=document.createElement("div");E.appendChild(H);K=document.createElement("tr");x.appendChild(K);for(var F=0;F<z.columns.length;F++){var N=z.columns[F];var I=N.align;if(I=="right"){N.align="center"}var L=n(N,true,F);N.align=I;L.setContent(N.header);if(typeof N.header==="string"){N.label=N.header}else{N.label=N.header.innerText}L.colID=F;L.onclick=function(P){var O=this.colID;var R=z.columns[O];C.onHeaderClick(O,R,this,P);if(R!=null){var Q=R.onHeaderClick;if(Q!=null){Q.apply(C,[F,L,P])}}};K.appendChild(L)}K.appendChild(document.createElement("td"));l(q,1);f(k,function(){var R=function(T){var S=k.scrollHeight-k.clientHeight;C.onScroll(T,S,k.offsetHeight)};if(typeof IScroll!=="undefined"){k.style.overflowY="hidden";C.iScroll=new IScroll(k,{scrollbars:z.style.iscroll?"custom":true,mouseWheel:true,fadeScrollbars:false,hideScrollbars:false});if(z.style.iscroll){d(C.iScroll,"iscroll")}C.iScroll.on("scrollEnd",function(){R(-C.iScroll.y)})}else{if(z.overflow===false){k.style.overflowY="hidden"}k.onscroll=function(){R(k.scrollTop)}}var P=k.offsetWidth;var O=q.parentNode.offsetWidth;var Q=Math.abs(P-O);H.style.width=Q+"px";j(o,function(){C.update()})})};var l=function(F,J){var K=document.createElement("tr");F.appendChild(K);for(var E=0;E<z.columns.length;E++){var L=z.columns[E];var I={};g(I,L);var H=document.createElement("td");H.style.height=r(J);if(L.hidden===true){H.style.visibility="hidden";H.style.display="none";H.style.width="0px"}else{var D=L.width;H.style.width=r((D==null)?25:D)}var G=document.createElement("div");G.style.width=r(((D+"").indexOf("%")>-1)?25:D);G.style.height=r(J);H.appendChild(G);K.appendChild(H)}return K};var n=function(F,J,E){var D=document.createElement("td");if(J===true){d(D,"headerColumn")}else{d(D,"column")}D.style.textAlign=F.align;if(F.hidden===true){D.style.visibility="hidden";D.style.display="none"}if(F.selecttext===true){}else{D.style.userSelect="none";D.style.webkitUserSelect="none";D.style.MozUserSelect="none";D.setAttribute("unselectable","on")}var H=document.createElement("div");H.style.position="relative";H.style.height="100%";D.appendChild(H);var G=document.createElement("div");G.style.position="absolute";G.style.width="100%";G.style.height="100%";G.style.overflow="hidden";H.appendChild(G);if(F.resizable===true){if(J&&E<z.columns.length-1){var I=document.createElement("div");d(I,"resizeHandle");I.style.position="absolute";I.style.right=0;I.style.top=0;I.style.height="100%";H.appendChild(I)}}D.innerDiv=G;D.setContent=m;D.getContent=A;return D};this.addRows=function(G){if(!p(G)){G=parseInt(G);if(isNaN(G)){return}else{var H=G;G=[];var F=[];for(var E=0;E<z.columns.length;E++){F.push("")}for(var E=0;E<H;E++){G.push(F)}}}u=true;var D=[];for(var E=0;E<G.length;E++){D.push(C.addRow(G[E]))}u=false;C.update();return D};this.addRow=function(){var H=arguments;if(p(H[0])){H=H[0]}var I=document.createElement("tr");I.selected=false;d(I,"row");I.get=a;I.set=v;I.onclick=y;if(!B){B=[];for(var F=0;F<z.columns.length;F++){var E=z.columns[F];var G={};g(G,E);var D=n(G);B.push(D)}}for(var F=0;F<z.columns.length;F++){var D=B[F].cloneNode(true);D.innerDiv=D.firstChild.firstChild;D.setContent=m;D.getContent=A;D.setContent(H[F]);I.appendChild(D)}q.appendChild(I);if(!u){C.update()}return I};var m=function(D){if(D==null||typeof D==="undefined"){this.innerDiv.innerHTML=""}else{if(typeof D==="string"||!isNaN(parseFloat(D))){this.innerDiv.innerHTML=D}else{this.innerDiv.innerHTML="";try{this.innerDiv.appendChild(D)}catch(E){}}}};var A=function(){if(this.innerDiv.childNodes){if(this.innerDiv.childNodes.length>0){var D=this.innerDiv.childNodes[0];if(D.nodeType===1){return D}else{return this.innerDiv.innerHTML}}}return null};var a=function(G){var H=parseInt(G);if(isNaN(H)){for(var F=0;F<z.columns.length;F++){var D=z.columns[F];var E=D.label;if(E===G){return this.childNodes[F].getContent()}}}else{return this.childNodes[H].getContent()}};var v=function(G,H){var I=parseInt(G);if(isNaN(I)){for(var F=0;F<z.columns.length;F++){var D=z.columns[F];var E=D.label;if(E===G){this.childNodes[F].setContent(H);return}}}else{this.childNodes[I].setContent(H)}};var y=function(D){var P=this;C.onRowClick(P,D);var Q=[P];var J=function(){for(var R=1;R<q.childNodes.length;R++){var S=q.childNodes[R];if(S.selected){C.deselect(S);Q.push(S)}}C.select(P)};if(z.multiselect===true){var L;if(D){L=D}else{if(window.event){L=window.event}}if(P.selected){if(L.ctrlKey){C.deselect(P);for(var I=1;I<q.childNodes.length;I++){var N=q.childNodes[I];if(N.selected&&N!=P){Q.push(N)}}}else{var E=0;for(var I=1;I<q.childNodes.length;I++){var N=q.childNodes[I];if(N.selected){if(N!=P){C.deselect(N);Q.push(N);E++}}}if(E===0){C.deselect(P)}}}else{if(L.shiftKey){var H=P.parentNode;var G,O;for(var I=0;I<H.childNodes.length;I++){var N=H.childNodes[I];if(N===h){G=I}if(N===P){O=I}}var E=[];for(var I=Math.min(O,G);I<=Math.max(O,G);I++){var N=H.childNodes[I];C.select(N);if(N!=P){Q.push(N)}E.push(N)}for(var I=1;I<q.childNodes.length;I++){var N=q.childNodes[I];if(N.selected){var M=true;for(var F=0;F<E.length;F++){var K=E[F];if(N==K){M=false}}if(M){C.deselect(N);Q.push(N)}}}}else{if(L.ctrlKey){C.select(P);for(var I=1;I<q.childNodes.length;I++){var N=q.childNodes[I];if(N.selected&&N!=P){Q.push(N)}}}else{J()}}}}else{if(P.selected){C.deselect(P)}else{J()}}C.onSelectionChange(Q);h=P};this.select=function(D){if(D.selected){return}D.selected=true;d(D,"selectedRow")};this.deselect=function(D){if(D.selected){D.selected=false;d(D,"row")}};this.selectAll=function(){var F=[];if(z.multiselect===true){for(var D=1;D<q.childNodes.length;D++){var E=q.childNodes[D];if(!E.selected){C.select(E);F.push(E)}}h=null;if(F.length){C.onSelectionChange(F)}}};this.deselectAll=function(){var F=[];for(var D=1;D<q.childNodes.length;D++){var E=q.childNodes[D];if(E.selected){C.deselect(E);F.push(E)}}h=null;if(F.length>0){C.onSelectionChange(F)}};this.onSelectionChange=function(D){};this.onRowClick=function(E,D){};this.onHeaderClick=function(E,G,D,F){};this.onKeyEvent=function(E,D){};this.focus=function(){k.parentNode.focus()};this.clear=function(){C.deselectAll();while(q.childNodes.length>1){var D=q.childNodes[1];q.removeChild(D)}C.update()};this.update=function(){C.onOverflow(C.hasOverflow());if(C.iScroll){C.iScroll.refresh()}};this.hasOverflow=function(){return(k.offsetHeight<k.scrollHeight||k.offsetWidth<k.scrollWidth)};this.onOverflow=function(D){};this.onScroll=function(F,E,D){};this.scrollTo=function(D,F){k.scrollTop=F;var E=k.scrollHeight-k.clientHeight;C.onScroll(F,E,k.offsetHeight)};this.getScrollInfo=function(){return{y:k.scrollTop,h:k.offsetHeight,maxY:k.scrollHeight-k.clientHeight}};this.getRowCount=function(){return q.childNodes.length-1};this.forEachRow=function(J){if(J==null){return}for(var G=1;G<q.childNodes.length;G++){var I=q.childNodes[G];var H=[];for(var F=0;F<I.childNodes.length;F++){var E=I.childNodes[F];H.push(E.getContent())}var D=J.apply(C,[I,H]);if(D===true){return}}};this.updateRow=function(G,F){for(var E=0;E<G.childNodes.length;E++){var D=G.childNodes[E];D.setContent(F[E])}};this.removeRow=function(G){var F=C.getScrollInfo();var D=F.x;var H=F.y;var E=G.offsetHeight;q.removeChild(G);C.update();C.scrollTo(D,H-E)};this.getColumnWidth=function(D){return q.childNodes[0].childNodes[D].offsetWidth};this.showColumn=function(D){var F=x.childNodes[0].childNodes.length;if(D>=F){return}var G=c(x.childNodes);G=G.concat(c(q.childNodes));for(var E=0;E<G.length;E++){var H=G[E].childNodes;H[D].style.visibility="";H[D].style.display=""}};this.hideColumn=function(D){var F=x.childNodes[0].childNodes.length;if(D>=F){return}if(x.childNodes[0].childNodes[D].style.display=="none"){return}var G=c(x.childNodes);G=G.concat(c(q.childNodes));for(var E=0;E<G.length;E++){var H=G[E].childNodes;H[D].style.visibility="hidden";H[D].style.display="none"}};var c=function(E){var D=[];for(var F=0;F<E.length;F++){D.push(E[F])}return D};var r=function(E){var F=E+"";var D=F.substring(F.length-1).toLowerCase();if(D=="x"||D=="%"){return F}D=parseFloat(E);if(isNaN(D)){return E}else{return D+"px"}};var e=function(){var D=javaxt.dhtml.utils.createTable();return D.firstChild};var g=javaxt.dhtml.utils.merge;var f=javaxt.dhtml.utils.onRender;var j=javaxt.dhtml.utils.addResizeListener;var p=javaxt.dhtml.utils.isArray;var d=function(E,D){javaxt.dhtml.utils.setStyle(E,z.style[D])};w()};
javaxt.dhtml.TabPanel=function(parent,config){this.className="javaxt.dhtml.TabPanel";var me=this;var tabList;var tabContent;var defaultConfig={closable:false,style:{tabBar:{border:"1px solid #ccc",backgroundColor:"#eaeaea",height:"30px",borderBottom:"0px"},activeTab:{lineHeight:"30px",padding:"0 7px",backgroundColor:"#fafafa",cursor:"default",borderRight:"1px solid #ccc",borderBottom:"1px solid #fafafa"},inactiveTab:{lineHeight:"30px",padding:"0 7px",cursor:"pointer",borderRight:"1px solid #ccc",borderBottom:"0px"},tabBody:{border:"1px solid #ccc",verticalAlign:"top"},closeIcon:{}}};var init=function(){if(typeof parent==="string"){parent=document.getElementById(parent);}
if(!parent)return;var clone={};merge(clone,config);merge(clone,defaultConfig);config=clone;var table=createTable();table.setAttribute("desc",me.className);var tbody=table.firstChild;var tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');setStyle(td,"tabBar");td.style.width="100%";tr.appendChild(td);tabList=document.createElement('ul');tabList.style.listStyle="none outside none";tabList.style.padding=0;tabList.style.margin=0;tabList.style.height="100%";td.appendChild(tabList);tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');setStyle(td,"tabBody");td.style.width="100%";td.style.height="100%";tr.appendChild(td);tabContent=document.createElement('div');tabContent.style.width="100%";tabContent.style.height="100%";tabContent.style.position="relative";td.appendChild(tabContent);parent.appendChild(table);me.el=table;};this.addTab=function(name,_el){var el=document.createElement('div');el.style.width="100%";el.style.height="100%";el.style.position="absolute";el.appendChild(_el);var tab=document.createElement('li');setStyle(tab,"inactiveTab");tab.style.position="relative";tab.style.float="left";tab.style.height="100%";tab.innerHTML=name;tab.el=el;tab.onclick=function(){raiseTab(this);};tab.onselectstart=function(){return false;};tab.onmousedown=function(){return false;};tabList.appendChild(tab);for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t!==tab){setStyle(t,"inactiveTab");t.style.position="relative";t.style.float="left";t.style.height="100%";t.el.style.display='none';}}
el.style.display='none';tabContent.appendChild(el);raiseTab(tab);};this.getTabs=function(){var tabs=[];for(var i=0;i<tabList.childNodes.length;i++){var tab=tabList.childNodes[i];tabs.push(getTabInfo(tab));}
return tabs;};this.raiseTab=function(id){var tab=findTab(id);if(tab)raiseTab(tab);};var raiseTab=function(tab){if(tab.style.display==='none')return;if(tab.el.style.display==='none'){var currTab=null;for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t.el.style.display==='block'){currTab=t;break;}}
setStyle(tab,"activeTab");tab.style.position="relative";tab.style.float="left";tab.style.height="100%";tab.el.style.display='';for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t!==tab){if(t.style.display!=='none'){setInactive(t);}}}
tab.el.style.display='block';me.onTabChange(getTabInfo(tab),getTabInfo(currTab));}};var getTabInfo=function(tab){if(tab==null)return null;var hidden=(tab.style.display==='none');var active=(tab.el.style.display!=='none');return{name:tab.innerText,el:tab.el,hidden:hidden,active:active};};this.setActiveTab=this.raiseTab;this.onTabChange=function(currTab,prevTab){};this.removeTab=function(id){var tab=findTab(id);if(tab){var nextTab=tab.nextSibling;if(!nextTab)nextTab=tab.previousSibling;tabContent.removeChild(tab.el);tabList.removeChild(tab);if(nextTab)raiseTab(nextTab);}};this.hideTab=function(id){var tab=findTab(id);if(tab){if(tab.style.display==='none')return;var nextTab=tab.nextSibling;if(!nextTab)nextTab=tab.previousSibling;setInactive(tab);tab.style.display='none';tab.el.style.display='none';if(nextTab)raiseTab(nextTab);}};this.showTab=function(id){var tab=findTab(id);if(tab)tab.style.display='';};var findTab=function(id){if(isNaN(id)){if(typeof id==="string"){for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t.innerHTML===id){return t;}}}}
else{if(id<tabList.childNodes.length){return tabList.childNodes[id];}}
return null;};var setInactive=function(tab){setStyle(tab,"inactiveTab");tab.style.position="relative";tab.style.float="left";tab.style.height="100%";tab.el.style.display='none';};var merge=javaxt.dhtml.utils.merge;var createTable=javaxt.dhtml.utils.createTable;var setStyle=function(el,style){javaxt.dhtml.utils.setStyle(el,config.style[style]);};init();};
javaxt.dhtml.Tree=function(l,a){this.className="javaxt.dhtml.Tree";var j=this;var e={style:{rowHeight:"20px",colWidth:"21px",backgroundColor:"white",cursor:"default",padding:0,li:"",label:{},leaf:"leaf",node:{open:"node_open",closed:"node"},root:{open:"root",closed:"root"},path:{node:{open:{middle:"join_node_middle_open",last:"join_node_bottom_open"},closed:{middle:"join_node_middle",last:"join_node_bottom"}},leaf:{middle:"join_leaf_middle",last:"join_leaf_bottom"},line:"join_line"}}};var p=function(){if(typeof l==="string"){l=document.getElementById(l)}if(!l){return}var s={};k(s,a);k(s,e);a=s;var r=b();r.style.cursor=a.style.cursor;r.style.padding=a.style.padding;r.onselectstart=function(){return false};r.onmousedown=function(){return false};l.appendChild(r);r.setAttribute("desc",j.className);j.el=r;if(a.nodes){j.addNodes(a.nodes)}};this.addNodes=function(r){var t=[];d(r,j.el,t);for(var s=0;s<t.length;s++){h(t[s])}};this.onClick=function(r){};this.onExpand=function(r){};this.onCollapse=function(r){};this.getItem=function(y){if(!g(y)){if(typeof y==="string"){y=y.split("/")}else{return null}}var u=function(C,A){if(A){for(var B=0;B<A.length;B++){if(A[B].tagName.toLowerCase()==="li"){var z=A[B];if(C===z.getText()){return z}}}}return null};var x;var r=j.el.childNodes;for(var t=0;t<y.length;t++){var s=y[t];var v=u(s,r);if(v){if(t==y.length-1){x=v}else{var w=v.nextSibling;if(w){r=w.childNodes}}}else{return null}}if(x){return o(x)}else{return null}};this.show=function(u){if(u){var s=u.el;var t=s.parentNode;m(t);if(n(s)!="leaf"){var r=s.nextSibling;if(r.tagName.toLowerCase()=="ul"){m(r)}}if(s.offsetParent===null&&t!==j.el){while(s.offsetParent===null){t=t.parentNode;m(t);if(j.el===t){break}}}}else{j.el.style.visibility="";j.el.style.display=""}};this.hide=function(r){if(r){}else{j.el.style.visibility="hidden";j.el.style.display="node"}};this.getPath=function(u){var s=[];if(u){var r=u.el;if(r){var t=r.parentNode;while(t!==j.el){r=t.previousSibling;if(r){s.push(o(r));t=r.parentNode}else{break}}}}return s};var o=function(r){return{type:n(r),name:r.getText(),node:r.node,el:r}};var d=function(u,D,z){for(var y=0;y<u.length;y++){var w=u[y];var v=w.nodes;var E=document.createElement("li");E.className=a.style.li;E.node=w;E.onclick=function(){if(this.nextSibling){var F=this.nextSibling;var H=F.tagName.toLowerCase();if(H==="ul"){var G=F;if(G.style.visibility==="hidden"){m(G)}else{h(G)}}}j.onClick(o(this))};D.appendChild(E);if(v){var A=b();A.style.width="100%";A.style.height="100%";D.appendChild(A);var r=A.previousSibling;while(r){if(r.tagName.toLowerCase()==="ul"){c(r,a.style.path.line);break}r=r.previousSibling}}var x=n(E);if(x!=="root"){var t=q(x,true,(y===u.length-1));if(t){E.className=t;E.style.paddingLeft=a.style.colWidth}}else{E.style.padding=0;E.style.background="none"}var B;if(x=="leaf"){B=a.style.leaf}else{B=a.style[x].open}E.style.width="100%";if(typeof w==="string"){i(w,B,E)}else{var s=w.name;i(s,B,E)}if(v){var A=E.nextSibling;if(x!=="root"){A.style.paddingLeft=a.style.colWidth}var C=false;if(w.expand===true){C=true}if(!C){z.push(A)}d(v,A,z)}}};var m=function(t){if(t===j.el){return}t.style.visibility="";t.style.display="";var r=t.previousSibling;if(r){var s=n(r);var u=q(s,true,f(r));if(u){r.className=u}if(s!=="leaf"){r.setIcon(a.style[s].open)}j.onExpand(o(r))}};var h=function(t){if(t===j.el){return}t.style.visibility="hidden";t.style.display="none";var r=t.previousSibling;if(r){var s=n(r);var u=q(s,false,f(r));if(u){r.className=u}if(s!=="leaf"){r.setIcon(a.style[s].closed)}j.onCollapse(o(r))}};var i=function(t,u,r){var v=document.createElement("div");v.style.width="100%";v.style.backgroundColor=a.style.backgroundColor;v.style.position="relative";v.style.overflow="hidden";v.style.height=a.style.rowHeight;r.appendChild(v);var s;if(u){s=document.createElement("div");s.className=u;s.style.display="inline-block";s.style.position="absolute";v.appendChild(s)}var w;if(t){var w=document.createElement("div");c(w,a.style.label);w.style.display="inline-block";w.style.position="absolute";w.style.paddingLeft=a.style.colWidth;w.style.lineHeight=a.style.rowHeight;w.innerHTML=t.replace(/^\s*/,"").replace(/\s*$/,"");v.appendChild(w)}r.setIcon=function(x){if(s){s.className=x}};r.getText=function(){return w.innerText}};var n=function(r){if(r.parentNode===j.el){return"root"}else{var s=false;if(r.nextSibling){if(r.nextSibling.tagName.toLowerCase()==="ul"){s=true}}if(s){return"node"}else{return"leaf"}}};var f=function(r){var v=r.parentNode.childNodes;for(var t=0;t<v.length;t++){if(v[t]===r){var u=false;for(var s=t+1;s<v.length;s++){if(v[s].tagName.toLowerCase()==="li"){u=true;break}}if(u){return false}}}return true};var q=function(r,s,u){if(r!=="root"){var v=u?"last":"middle";var t=a.style.path[r];if(r!=="leaf"){if(s){t=t.open}else{t=t.closed}}t=t[v];if(typeof t==="string"){return t}else{}}return null};var b=function(){var r=document.createElement("ul");r.style.listStyleType="none";r.style.padding=0;r.style.margin=0;r.style.backgroundColor=a.style.backgroundColor;return r};var k=javaxt.dhtml.utils.merge;var c=javaxt.dhtml.utils.addStyle;var g=javaxt.dhtml.utils.isArray;p()};
javaxt.dhtml.DataStore=function(f){var e=this;var d={};var b=[];this.length=0;var g=function(){if(a(f)){b=f;e.length=b.length}};this.addEventListener=function(h,j,i){if(!j){return}var k={fn:j,scope:i};if(d[h]){d[h].push(k)}else{d[h]=[k]}};var c=function(k,j){if(d[k]){var h=d[k];for(var l=0;l<h.length;l++){var m=h[l];m.fn.apply(m.scope,a(j)?j:[j])}}};this.push=function(h){e.add(h)};this.add=function(h){b.push(h);e.length=b.length;c("add",h)};this.pop=function(h){var i=b.pop(h);e.length=b.length;c("remove",i)};this.remove=function(h){for(var j=0;j<b.length;j++){if(b[j]===h){e.removeAt(j);break}}};this.removeAt=function(h){e.splice(h,1)};this.splice=function(i,j){var h=b.splice(i,j);e.length=b.length;c("remove",h)};this.get=function(h){return b[h]};this.set=function(h,i){var j=b[h];b[h]=i;c("update",[i,j])};this.sort=function(h){b.sort(h)};this.destroy=function(){b.splice(0,b.length);e.length=0;for(var k in d){if(d.hasOwnProperty(k)){var h=d[k];h=h.splice(0,h.length);for(var j=0;j<h.length;j++){h[j]=null}delete d[k]}}};var a=javaxt.dhtml.utils.isArray;g()};
javaxt.dhtml.Effects=function(){var d=this;this.fadeIn=function(g,f,h,i){g.style.opacity=0;g.style.display="";d.setTransition(g,f,h);setTimeout(function(){g.style.opacity="";if(i){setTimeout(function(){i.apply(g,[])},h+50)}},50)};this.fadeOut=function(g,f,h,i){d.setTransition(g,f,h);setTimeout(function(){g.style.opacity=0;if(i){setTimeout(function(){g.style.display="none";i.apply(g,[])},h+50)}},50)};this.setTransition=function(h,f,i){if(isNaN(i)||i<=0){return}var g=b(f);e(h,i,g)};var b=function(f){if(a(f)){return f}else{var g=javaxt.dhtml.Transitions[f];if(!g){g=javaxt.dhtml.Transitions.ease}return g}};var a=function(f){return(Object.prototype.toString.call(f)==="[object Array]")};var e=function(h,n,i){var g=i[0];var m=i[1];var f=i[2];var l=i[3];h.style.WebkitTransition=h.style.MozTransition=h.style.MsTransition=h.style.OTransition=h.style.transition="all "+n+"ms cubic-bezier("+g+", "+m+", "+f+", "+l+")";if(!c){var k,j;if(m>1){k=1}if(m<0){k=0}if(l>1){j=1}if(l<0){j=0}h.style.WebkitTransition="all "+n+"ms cubic-bezier("+g+", "+k+", "+f+", "+j+")"}};var c=(function(){var f=document.createElement("div");f.style.WebkitTransitionTimingFunction="cubic-bezier(1,0,0,1.1)";return !!f.style.WebkitTransitionTimingFunction.length})()};javaxt.dhtml.Transitions={linear:[0.25,0.25,0.75,0.75],ease:[0.25,0.1,0.25,1],easeIn:[0.42,0,1,1],easeOut:[0,0,0.58,1],easeInOut:[0.42,0,0.58,1],easeInQuad:[0.55,0.085,0.68,0.53],easeInCubic:[0.55,0.055,0.675,0.19],easeInQuart:[0.895,0.03,0.685,0.22],easeInQuint:[0.755,0.05,0.855,0.06],easeInSine:[0.47,0,0.745,0.715],easeInExpo:[0.95,0.05,0.795,0.035],easeInCirc:[0.6,0.04,0.98,0.335],easeInBack:[0.6,-0.28,0.735,0.045],easeOutQuad:[0.25,0.46,0.45,0.94],easeOutCubic:[0.215,0.61,0.355,1],easeOutQuart:[0.165,0.84,0.44,1],easeOutQuint:[0.23,1,0.32,1],easeOutSine:[0.39,0.575,0.565,1],easeOutExpo:[0.19,1,0.22,1],easeOutCirc:[0.075,0.82,0.165,1],easeOutBack:[0.175,0.885,0.32,1.275],easeInOutQuad:[0.455,0.03,0.515,0.955],easeInOutCubic:[0.645,0.045,0.355,1],easeInOutQuart:[0.77,0,0.175,1],easeInOutQuint:[0.86,0,0.07,1],easeInOutSine:[0.445,0.05,0.55,0.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[0.785,0.135,0.15,0.86],easeInOutBack:[0.68,-0.55,0.265,1.55]};
javaxt.dhtml.PageLoader=function(config){var me=this;var head=document.getElementsByTagName("head")[0];var debug=false;var includes;var init=function(){if(config){if(config.debug===true){debug=true}}};this.loadPage=function(url,callback,onFail){me.load(url,function(html,title,inlineScripts){document.title=title;var body=document.getElementsByTagName("body")[0];body.innerHTML=html;for(var i=0;i<inlineScripts.length;i++){var script=inlineScripts[i].firstChild.nodeValue;var type=inlineScripts[i].getAttribute("type");if(type=="module"){script=script.replace("//<![CDATA[","").replace("//]]>","");var s=document.createElement("script");s.setAttribute("type",type);s.innerHTML=script;body.appendChild(s)}else{eval(script)}}dispatchEvent("load");if(callback){callback.apply(me,[])}},onFail)};this.load=function(url,callback,onFail){if(url.indexOf("?")==-1){url+="?"}url+="&_="+new Date().getTime();get(url,function(html){var div=document.createElement("div");div.innerHTML=html;var title;var titles=div.getElementsByTagName("title");if(titles.length>0){title=titles[0].innerHTML}var inlineScripts=[];var externalScripts=[];var scripts=div.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src.length>0){externalScripts.push(scripts[i].src)}else{inlineScripts.push(scripts[i])}}var css=[];var cssNodes=[];var links=div.getElementsByTagName("link");for(var i=0;i<links.length;i++){if(links[i].rel=="stylesheet"){if(links[i].href.length>0){css.push(links[i].href);cssNodes.push(links[i])}}}removeNodes(titles);removeNodes(div.getElementsByTagName("description"));removeNodes(div.getElementsByTagName("keywords"));removeNodes(div.getElementsByTagName("meta"));removeNodes(scripts);removeNodes(links);removeNodes(cssNodes);var comments=[];for(var i=0;i<div.childNodes.length;i++){var node=div.childNodes[i];if(node.nodeType==8){comments.push(node)}}while(comments.length>0){div.removeChild(comments[0]);comments.shift()}html=div.innerHTML;div=null;loadIncludes(css,externalScripts,function(){if(callback){callback.apply(me,[html,title,inlineScripts])}})},onFail)};this.loadApp=function(url,callback,onFail){if(url.indexOf("?")==-1){url+="?"}url+="&_="+new Date().getTime();get(url,function(text,xml){var appInfo={};var application=xml.getElementsByTagName("application")[0];if(application){appInfo.name=application.getAttribute("name");appInfo.main=application.getAttribute("main")}var scripts=[];var css=[];var includes=xml.getElementsByTagName("includes")[0].childNodes;for(var i=0;i<includes.length;i++){var include=includes[i];if(include.nodeType==1){var type=include.getAttribute("type");if(type==="text/javascript"){scripts.push(include.getAttribute("src"))}else{if(type==="text/css"){css.push(include.getAttribute("href"))}}}}loadIncludes(css,scripts,function(){if(callback){appInfo.init=function(){var cls=stringToFunction(this.main);return newInstance(cls).apply(arguments)};callback.apply(me,[appInfo,xml])}})},onFail)};var loadIncludes=function(css,scripts,callback){parseIncludes();var addInclude=function(category,key){if(category=="css"){return true}var obj=includes[category];for(var k in obj){if(obj.hasOwnProperty(k)){if(k==key){return false}}}return true};var arr=[];for(var i=0;i<css.length;i++){if(addInclude("css",css[i])){var link=document.createElement("link");link.setAttribute("rel","stylesheet");link.setAttribute("type","text/css");link.setAttribute("href",css[i]);arr.push(link);includes.css[css[i]]=true}else{log("Skipping "+css[i]+"...")}}for(var i=0;i<scripts.length;i++){if(addInclude("scripts",scripts[i])){var script=document.createElement("script");script.setAttribute("type","text/javascript");script.setAttribute("src",scripts[i]);arr.push(script);includes.scripts[scripts[i]]=true}else{log("Skipping "+scripts[i]+"...")}}if(arr.length>0){var t=arr.length;var loadResource=function(obj){obj.onload=function(){log(Math.round((1-(arr.length/t))*100)+"%");if(arr.length>0){loadResource(arr.shift())}else{if(callback!=null){callback.apply(me,[])}}};head.appendChild(obj)};loadResource(arr.shift())}else{if(callback!=null){callback.apply(me,[])}}};var parseIncludes=function(){if(includes){return}includes={css:{},scripts:{}};var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src.length>0){includes.scripts[scripts[i].src]=true}}var css=document.getElementsByTagName("link");for(var i=0;i<css.length;i++){if(css[i].rel=="stylesheet"){if(css[i].href.length>0){includes.css[css[i].href]=true}}}};var removeNodes=function(nodes){while(nodes.length>0){var node=nodes[0];var parent=node.parentNode;if(!parent){break}parent.removeChild(node)}};var stringToFunction=function(str){var arr=str.split(".");var fn=(window||this);for(var i=0,len=arr.length;i<len;i++){fn=fn[arr[i]]}if(typeof fn!=="function"){throw new Error("function not found")}return fn};var newInstance=function(cls){var fn=(new Function("return function () { };"))();fn.prototype=cls.prototype;var self=new fn();return{apply:function(args){cls.apply(self,args);return self}}};var dispatchEvent=function(name){var evt;try{evt=new Event(name)}catch(e){evt=document.createEvent("Event");evt.initEvent(name,false,false)}window.dispatchEvent(evt)};var log=function(str){if(debug){console.log(str)}};var get=function(url,success,onFail){javaxt.dhtml.utils.get(url,{success:function(text,xml,url,request){request.abort();request=null;if(success){success.apply(me,[text,xml,url])}},failure:function(request){if(onFail){onFail.apply(me,[request])}}})};init()};
javaxt.dhtml.utils={get:function(url,config){if(config.payload!=null){var payload=config.payload;delete config.payload;return javaxt.dhtml.utils.post(url,payload,config);}
var settings={method:"GET",payload:null};javaxt.dhtml.utils.merge(settings,config);return javaxt.dhtml.utils.http(url,settings);},post:function(url,payload,config){var settings;if(payload.payload){settings=payload;settings.method="POST";}
else{var settings={method:"POST",payload:payload};javaxt.dhtml.utils.merge(settings,config);}
return javaxt.dhtml.utils.http(url,settings);},delete:function(url,config){config.method="DELETE";return javaxt.dhtml.utils.http(url,config);},http:function(url,config){var cache=false;if(config.cache){if(config.cache==true)cache=true;}
if(!cache){if(url.indexOf("?")==-1)url+="?";url+="&_="+new Date().getTime();}
var method=config.method;var success=config.success;var scope=config.scope;var async=true;if(config.async){if(config.async!=false)async=true;}
var failure=config.failure;if(typeof failure==="undefined")failure=function(request){if(request.status!==0){alert(request);}};var request=new XMLHttpRequest();if(config.username&&config.password){request.open(method,url,async,config.username,config.password);request.setRequestHeader("Authorization","Basic "+btoa(config.username+":"+config.password));}
else{request.open(method,url,async);}
if(!cache)request.setRequestHeader("Cache-Control","no-cache, no-transform");request.onreadystatechange=function(){if(request.readyState===4){if(request.status>=200&&request.status<300){if(success)success.apply(scope,[request.responseText,request.responseXML,request.responseURL,request]);}
else{if(failure)failure.apply(scope,[request]);}}};if(config.payload)request.send(config.payload);else request.send();return request;},getParameter:function(name,url){name=name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");var regexS="[\\?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(url);if(results==null)return"";else return results[1];},merge:function(settings,defaults){var merge=function(settings,defaults){if(settings==null)return;for(var p in defaults){if(defaults.hasOwnProperty(p)&&typeof settings[p]!=="undefined"){if(p!=0)
merge(settings[p],defaults[p]);}
else{settings[p]=defaults[p];}}};merge(settings,defaults);return settings;},clone:function(obj){return javaxt.dhtml.utils.merge({},obj);},isDirty:function(obj,org){var isEmpty=javaxt.dhtml.utils.isEmpty;var a=isEmpty(obj);var b=isEmpty(org);if((a==true&&b==false)||(b==true&&a==false))return true;var d=javaxt.dhtml.utils.diff(obj,org);return!isEmpty(d);},diff:function(obj1,obj2){var isEmpty=javaxt.dhtml.utils.isEmpty;var merge=javaxt.dhtml.utils.merge;var diff=function(obj1,obj2){var ret={},rett;for(var i in obj2){rett={};if(typeof obj2[i]==='object'){if(obj1.hasOwnProperty(i)){rett=diff(obj1[i],obj2[i]);if(!isEmpty(rett)){ret[i]=rett;}}
else{ret[i]=obj2[i];}}
else{if(!obj1||!obj1.hasOwnProperty(i)||obj2[i]!==obj1[i]){ret[i]=obj2[i];}}}
return ret;};var d1=diff(obj1,obj2);var d2=diff(obj2,obj1);return merge(d1,d2);},isEmpty:function(obj){return JSON.stringify(obj)==="{}";},isArray:function(obj){return(Object.prototype.toString.call(obj)==='[object Array]');},isNumber:function(n){return!isNaN(parseFloat(n))&&!isNaN(n-0);},setStyle:function(el,style){if(el===null||el===0)return;if(style===null)return;if(typeof IScroll!=='undefined'){if(el instanceof IScroll){var indicators=el.indicators;if(indicators){var indicatorClass="iScrollIndicator";if(style.indicator)indicatorClass=style.indicator;for(var i=0;i<indicators.length;i++){var indicator=indicators[i].indicator;indicator.className=indicatorClass;var scrollbar=indicator.parentNode;if(scrollbar.className.indexOf("iScrollVerticalScrollbar")){if(style.verticalScrollbar){scrollbar.className=scrollbar.className.replace("iScrollVerticalScrollbar",style.verticalScrollbar);}}
else{if(style.horizontalScrollbar){scrollbar.className=scrollbar.className.replace("iScrollHorizontalScrollbar",style.horizontalScrollbar);}}}}
return;}}
el.style='';el.removeAttribute("style");if(typeof style==='string'||style instanceof String){el.className=style;}
else{for(var key in style){var val=style[key];if(key==="content"){el.innerHTML=val;}
else{el.style[key]=val;}}}},addStyle:function(el,style){if(el===null||el===0)return;if(style===null)return;if(typeof style==='string'||style instanceof String){if(el.className&&el.className!=null)el.className+=" "+style;else el.className=style;}
else{for(var key in style){var val=style[key];el.style[key]=val;if(key==="transform"){el.style["-webkit-"+key]=val;}}}},hasStyleRule:function(selector){var hasRule=function(selector,rules){if(!rules)return false;for(var i=0;i<rules.length;i++){var rule=rules[i];if(rule.selectorText){var arr=rule.selectorText.split(',');for(var j=0;j<arr.length;j++){if(arr[j].indexOf(selector)!==-1){var txt=trim(arr[j]);if(txt===selector){return true;}
else{var colIdx=txt.indexOf(":");if(colIdx!==-1){txt=trim(txt.substring(0,colIdx));if(txt===selector){return true;}}}}}}}
return false;};var trim=function(str){return str.replace(/^\s*/,"").replace(/\s*$/,"");};for(var i=0;i<document.styleSheets.length;i++){var rules;try{rules=document.styleSheets[i].rules||document.styleSheets[i].cssRules;if(hasRule(selector,rules)){return true;}}
catch(e){}
var imports=document.styleSheets[i].imports;if(imports){for(var j=0;j<imports.length;j++){rules=imports[j].rules||imports[j].cssRules;if(hasRule(selector,rules))return true;}}}
return false;},addNoSelectRule:function(){var hasStyleRule=javaxt.dhtml.utils.hasStyleRule;if(!hasStyleRule(".javaxt-noselect")){var head=document.head||document.getElementsByTagName('head')[0];var sheet=document.createElement('style');sheet.innerHTML=".javaxt-noselect {\n";var arr=["-webkit-","-moz-","-o-","-ms-","-khtml-",""];for(var i=0;i<arr.length;i++){sheet.innerHTML+=arr[i]+"user-select: none;\n";}
sheet.innerHTML+="}";head.appendChild(sheet);}},createTable:function(){var table=document.createElement('table');table.cellSpacing=0;table.cellPadding=0;table.style.width="100%";table.style.height="100%";table.style.margin=0;table.style.padding=0;table.style.borderCollapse="collapse";var tbody=document.createElement('tbody');table.appendChild(tbody);return table;},onRender:function(el,callback){var w=el.offsetWidth;if(w===0||isNaN(w)){var timer;var checkWidth=function(){var w=el.offsetWidth;if(w===0||isNaN(w)){timer=setTimeout(checkWidth,100);}
else{clearTimeout(timer);if(callback)callback.apply(el,[el]);}};timer=setTimeout(checkWidth,100);}
else{if(callback)callback.apply(el,[el]);}},updateDOM:function(){if(document.javaxt)return;document.oncontextmenu=function(e){return false;};var firstMove;window.addEventListener('touchstart',function(e){firstMove=true;});window.addEventListener('touchmove',function(e){if(firstMove){e.preventDefault();firstMove=false;}});if(!document.body)document.body=document.getElementsByTagName("body")[0];var body=document.body;body.addEventListener('dragover',function(e){e.stopPropagation();e.preventDefault();return false;},false);body.addEventListener('drop',function(e){e.stopPropagation();e.preventDefault();return false;},false);document.javaxt={};},getRect:function(el){if(el.getBoundingClientRect){return el.getBoundingClientRect();}
else{var x=0;var y=0;var w=el.offsetWidth;var h=el.offsetHeight;function isNumber(n){return n===parseFloat(n);}
var org=el;do{x+=el.offsetLeft-el.scrollLeft;y+=el.offsetTop-el.scrollTop;}while(el=el.offsetParent);el=org;do{if(isNumber(el.scrollLeft))x-=el.scrollLeft;if(isNumber(el.scrollTop))y-=el.scrollTop;}while(el=el.parentNode);return{x:x,y:y,left:x,right:x+w,top:y,bottom:y+h,width:w,height:h};}},intersects:function(r1,r2){return!(r2.left>r1.right||r2.right<r1.left||r2.top>r1.bottom||r2.bottom<r1.top);},getAreaOfIntersection:function(r1,r2){var minX=r2.left;var maxX=r2.right;var minY=r2.top;var maxY=r2.bottom;var left=r1.left;var right=r1.right;var top=r1.top;var bottom=r1.bottom;if(left<minX)left=minX;if(right>maxX)right=maxX;if(top<minY)top=minY;if(bottom>maxY)bottom=maxY;var w=right-left;var h=bottom-top;return w*h;},initDrag:function(dragHandle,config){javaxt.dhtml.utils.addNoSelectRule();if(!config)config={};var holdDelay=config.holdDelay;if(isNaN(holdDelay))holdDelay=50;var cursor=dragHandle.style.cursor;if(!cursor)cursor="default";var holdStarter=null;var holdActive=false;dragHandle.onmousedown=function(e){holdStarter=setTimeout(function(){holdStarter=null;holdActive=true;startDrag(e);if(document.addEventListener){document.addEventListener("mousemove",onMouseMove);document.addEventListener("mouseup",onMouseUp);}
else if(document.attachEvent){document.attachEvent("onmousemove",onMouseMove);document.attachEvent("onmouseup",onMouseUp);}},holdDelay);};var onMouseUp=function(e){if(holdStarter){clearTimeout(holdStarter);}
else if(holdActive){holdActive=false;if(document.removeEventListener){document.removeEventListener("mousemove",onMouseMove);document.removeEventListener("mouseup",onMouseUp);}else if(document.detachEvent){document.detachEvent("onmousemove",onMouseMove);document.detachEvent("onmouseup",onMouseUp);}
dragHandle.style.cursor=cursor;if(config.onDragEnd)
config.onDragEnd.apply(dragHandle,[e]);var body=document.getElementsByTagName('body')[0];setTimeout(function(){body.className=body.className.replace(/(?:^|\s)javaxt-noselect(?!\S)/g,'');},800);}};dragHandle.onmouseup=onMouseUp;dragHandle.ontouchstart=function(e){e.preventDefault();var touch=e.touches[0];var x=touch.pageX;var y=touch.pageY;holdStarter=setTimeout(function(){holdStarter=null;holdActive=true;startDrag({clientX:x,clientY:y});if(document.removeEventListener){dragHandle.addEventListener("touchmove",onTouchMove);}
else if(document.detachEvent){dragHandle.attachEvent("ontouchmove",onTouchMove);}},holdDelay);};dragHandle.ontouchend=function(e){if(document.removeEventListener){dragHandle.removeEventListener("touchmove",onTouchMove);}
else if(document.detachEvent){dragHandle.detachEvent("ontouchmove",onTouchMove);}
if(holdStarter){clearTimeout(holdStarter);}
else if(holdActive){holdActive=false;}};var onMouseMove=function(e){var x=e.clientX;var y=e.clientY;if(config.onDrag)
config.onDrag.apply(dragHandle,[x,y]);};var onTouchMove=function(e){e.preventDefault();var touch=e.touches[0];var x=touch.pageX;var y=touch.pageY;onMouseMove({clientX:x,clientY:y});};var startDrag=function(e){var x=e.clientX;var y=e.clientY;if(config.onDragStart)
config.onDragStart.apply(dragHandle,[x,y,e]);var body=document.getElementsByTagName('body')[0];if(!body.className.match(/(?:^|\s)javaxt-noselect(?!\S)/)){body.className+=(body.className.length==0?"":" ")+"javaxt-noselect";}};},addResizeListener:function(element,fn){var destroy,isDestroyed=false;var requestFrame=(function(){var raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(fn){return window.setTimeout(fn,20);};return function(fn){return raf(fn);};})();var cancelFrame=(function(){var cancel=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(id){return cancel(id);};})();function resizeListener(e,fn){var el=e.target||e.srcElement;if(el.raf)cancelFrame(el.raf);el.raf=requestFrame(function(){if(isDestroyed)return;fn.call(el.resizeTrigger,e);});};if(document.attachEvent){element.resizeTrigger=element;var f=function(e){resizeListener(e,fn);};element.attachEvent('onresize',f);destroy=function(){element.detachEvent('onresize',f);};}
else{if(getComputedStyle(element).position=='static')element.style.position='relative';var obj=element.resizeTrigger=document.createElement('object');obj.setAttribute('style','display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');obj.resizeElement=element;obj.onload=function(e){this.contentDocument.defaultView.resizeTrigger=this.resizeElement;this.contentDocument.defaultView.addEventListener('resize',function(e){resizeListener(e,fn);});};var isIE=navigator.userAgent.match(/Trident/);obj.type='text/html';if(isIE)element.appendChild(obj);obj.data='about:blank';if(!isIE)element.appendChild(obj);destroy=function(){element.removeChild(obj);};}
return{destroy:function(){try{destroy();}catch(e){}
isDestroyed=true;}};},getNextHighestZindex:function(obj){var highestIndex=0;var currentIndex=0;var elArray=Array();if(obj){elArray=obj.getElementsByTagName('*');}else{elArray=document.getElementsByTagName('*');}
for(var i=0;i<elArray.length;i++){if(elArray[i].currentStyle){currentIndex=parseFloat(elArray[i].currentStyle['zIndex']);}else if(window.getComputedStyle){currentIndex=parseFloat(document.defaultView.getComputedStyle(elArray[i],null).getPropertyValue('z-index'));}
if(!isNaN(currentIndex)&&currentIndex>highestIndex){highestIndex=currentIndex;}}
return(highestIndex+1);},addShowHide:function(el){if(el.el){var me=el;me.show=function(){me.el.style.visibility='';me.el.style.display='';};me.hide=function(){me.el.style.visibility='hidden';me.el.style.display='none';};me.isVisible=function(){return!(me.el.style.visibility==='hidden'&&me.el.style.display==='none');};}
else{el.show=function(){this.style.visibility='';this.style.display='';};el.hide=function(){this.style.visibility='hidden';this.style.display='none';};el.isVisible=function(){return!(this.style.visibility==='hidden'&&this.style.display==='none');};}},destroy:function(me){if(!me.el)return;me.el.innerHTML="";var parent=me.el.parentNode;if(parent)parent.removeChild(me.el);var props=[];for(var key in me){if(me.hasOwnProperty(key)){props.push(key);}}
for(var i=0;i<props.length;i++){var key=props[i];me[key]=null;delete me[key];}
props=null;},round:function(number,decimalPlaces){if(decimalPlaces){var n=Math.pow(10,decimalPlaces);return Math.round(number*n)/n;}
else{return Math.round(number);}}};
javaxt.dhtml.WebSocket=function(c){var g=this;var f={onConnect:function(){},onMessage:function(l){},url:""};var h;var a,e;var d,b;var k=false;var j={append:function(l){}};var i=function(){var q={};javaxt.dhtml.utils.merge(q,c);javaxt.dhtml.utils.merge(q,f);c=q;var n=window.location.protocol.toLowerCase();if(n.indexOf("https")===0){n="wss"}else{n="ws"}var m=n+"://"+window.location.host;if(c.url.indexOf("/")!=0){m+="/"}m+=c.url;var p=function(){var r=20000;if(h.readyState==h.OPEN){h.send("")}e=setTimeout(p,r)};var o=function(){h=new WebSocket(m);h.onopen=function(){k=true;p();c.onConnect()};h.onmessage=function(r){var s=r.data;j.append(s);b=s;c.onMessage(s)};h.onclose=function(r){j.append("onclose!");j.append(r.code);if(e){clearTimeout(e)}if(k){if(a){l()}}else{j.append("Websocket failed");h=null;clearTimeout(a);if(c.fallback){}}};h.onerror=function(){j.append("error!")}};function l(){if(!h||h.readyState===WebSocket.CLOSED){o()}}o();a=setInterval(l,15000)};this.stop=function(){k=false;if(a){clearInterval(a)}if(e){clearTimeout(e)}if(d){clearTimeout(d)}if(h){h.close()}};i()};
javaxt.dhtml.Window=function(parent,config){this.className="javaxt.dhtml.Window";var me=this;var mainDiv,header,body,footer,mask;var titleDiv;var recenter=true;var visible=false;var seen=false;var overflow;var resizeListener;var defaultConfig={title:false,body:null,footer:null,width:null,height:null,modal:false,resizable:true,closable:true,shrinkToFit:false,valign:"middle",style:{panel:{fontFamily:"helvetica,arial,verdana,sans-serif",background:"#ffffff",border:"1px solid #b4cbdd",borderRadius:"5px",display:"inline-block",boxShadow:"0 12px 14px 0 rgba(0, 0, 0, 0.2), 0 13px 20px 0 rgba(0, 0, 0, 0.2)",minWidth:"50px"},header:{background:"#d9e7f8",height:"28px",borderRadius:"4px 4px 0 0",border:"1px solid #ecf2fb",borderBottom:"1px solid #b4cbdd"},title:{position:"absolute",width:"100%",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"bold",color:"#04468C",textAlign:"left",cursor:"default",padding:"5px"},icon:{float:"left"},buttonBar:{position:"absolute",right:0,padding:"5px"},button:{width:"16px",height:"16px",border:"1px solid #cccccc",borderRadius:"3px",background:"#F6F6F6",color:"#6f6f6f",cursor:"default"},closeIcon:{content:"&#x2715;",lineHeight:"16px",textAlign:"center"},body:{padding:"7px",verticalAlign:"top",color:"#484848"},footer:{},resizeHandle:{},mask:{background:"rgba(0,0,0,0.1)"}},renderers:{headerButtons:createHeaderButtons}};var init=function(){if(typeof parent==="string"){parent=document.getElementById(parent);}
if(!parent)return;var clone={};merge(clone,config);merge(clone,defaultConfig);config=clone;mainDiv=document.createElement('div');setStyle(mainDiv,"panel");mainDiv.style.position="absolute";mainDiv.style.left="0px";mainDiv.style.top="0px";mainDiv.style.display="none";mainDiv.style.visibility="hidden";mainDiv.tabIndex=-1;me.setWidth(config.width);me.setHeight(config.height);parent.appendChild(mainDiv);me.el=mainDiv;if(config.resizable===true){addResizeHandle(mainDiv);}
var table=document.createElement('table');table.cellSpacing=0;table.cellPadding=0;table.style.width="100%";table.style.height="100%";table.style.fontFamily="inherit";table.style.textAlign="inherit";table.style.color="inherit";table.style.borderCollapse="collapse";var tbody=document.createElement('tbody');table.appendChild(tbody);mainDiv.appendChild(table);var tr=document.createElement('tr');tbody.appendChild(tr);header=document.createElement("td");tr.appendChild(header);tr=document.createElement('tr');tbody.appendChild(tr);body=document.createElement("td");setStyle(body,"body");body.style.width="100%";body.style.height="100%";tr.appendChild(body);tr=document.createElement('tr');tbody.appendChild(tr);footer=document.createElement("td");setStyle(footer,"footer");tr.appendChild(footer);var headerDiv=document.createElement('div');addStyle(headerDiv,"header");headerDiv.style.position="relative";header.appendChild(headerDiv);var dragHandle=document.createElement('div');dragHandle.style.position="absolute";dragHandle.style.width="100%";dragHandle.style.height="100%";dragHandle.style.zIndex=1;headerDiv.appendChild(dragHandle);titleDiv=document.createElement('div');addStyle(titleDiv,"title");if(config.title)titleDiv.innerHTML=config.title;titleDiv.onclick=function(e){me.onHeaderClick(headerDiv,e);};headerDiv.appendChild(titleDiv);var iconDiv=document.createElement('div');addStyle(iconDiv,"icon");headerDiv.appendChild(iconDiv);var buttonDiv=document.createElement('div');addStyle(buttonDiv,"buttonBar");buttonDiv.style.zIndex=2;headerDiv.appendChild(buttonDiv);if(config.renderers.headerButtons){config.renderers.headerButtons(buttonDiv);}
else{createHeaderButtons(buttonDiv);}
me.setContent(config.body);me.setFooter(config.footer);mask=document.createElement('div');if(config.modal===true){addStyle(mask,"mask");}
mask.style.position="absolute";mask.style.left="0px";mask.style.top="0px";mask.style.width="100%";mask.style.height="100%";mask.style.display="none";mask.style.visibility="hidden";parent.appendChild(mask);initDrag(dragHandle,{onDragStart:function(x,y){var div=mainDiv;var rect=_getRect(div);var rect2=_getRect(parent);var xOffset=x-rect.x;var yOffset=(y-rect.y)+rect2.y;div.xOffset=xOffset;div.yOffset=yOffset;div.width=rect.width;div.height=rect.height;div.style.left=rect.x+'px';div.style.top=(y-yOffset)+'px';dragHandle.style.cursor='move';},onDrag:function(x,y){var div=mainDiv;var left=(x-div.xOffset);if(left<0)left=0;if(left+div.width>parent.offsetWidth)left=parent.offsetWidth-div.width;var top=(y-div.yOffset);if(top<0)top=0;if(top+div.height>parent.offsetHeight)top=parent.offsetHeight-div.height;div.style.left=left+'px';div.style.top=top+'px';},onDragEnd:function(){this.style.cursor='default';}});if(config.shrinkToFit===true){addResizeListener(shrinkToFit);}};this.destroy=function(){if(resizeListener){resizeListener.listeners=[];resizeListener.destroy();}
me.close();if(mask){mask.innerHTML="";var parent=mask.parentNode;if(parent)parent.removeChild(mask);mask=null;}
destroy(me);me=null;return me;};var createHeaderButtons=function(buttonDiv){if(config.closable===true){buttonDiv.appendChild(createButton("closeIcon",me.close));}};var createButton=function(icon,onclick){var div=document.createElement('div');setStyle(div,"button");var innerDiv=document.createElement('div');setStyle(innerDiv,icon);div.appendChild(innerDiv);div.onclick=onclick;return div;};this.getTitle=function(){return titleDiv.innerHTML;};this.setTitle=function(title){if(title==null)title="";titleDiv.innerHTML=title;};this.onHeaderClick=function(){};this.onResize=function(){};this.getBody=function(){return body;};this.setBody=this.setContent=function(obj){if(obj==null)body.innerHTML="";else{if(obj instanceof Element){var p=obj.parentNode;if(p)p.removeChild(obj);body.appendChild(obj);}
else{if(typeof obj==="string"){body.innerHTML=obj;}}}};this.getFooter=function(){return footer;};this.setFooter=function(obj){if(obj==null)footer.innerHTML="";else{if(obj instanceof Element){var p=obj.parentNode;if(p)p.removeChild(obj);footer.appendChild(obj);}
else{if(typeof obj==="string"){footer.innerHTML=obj;}}}};this.show=this.open=function(animation){me.showAt(null,null,animation);};this.showAt=function(x,y){var z=getNextHighestZindex();overflow=mask.parentNode.style.overflow;mask.parentNode.style.overflow="hidden";mask.style.zIndex=z;if(config.modal===true){mask.style.display='';mask.style.visibility='';}
z++;mainDiv.style.zIndex=z;mainDiv.style.display='';mainDiv.style.visibility='';if(x!=null&y!=null){mainDiv.style.left=x+"px";mainDiv.style.top=y+"px";recenter=false;}
else{if(recenter)me.center();}
if(!seen){if(recenter){addResizeListener(function(){if(recenter)me.center();});}
seen=true;}
if(!visible){visible=true;me.onOpen();if(config.shrinkToFit===true){shrinkToFit();}}};this.hide=this.close=function(silent){if(visible){if(overflow)mask.parentNode.style.overflow=overflow;if(config.modal===true){mask.style.display="none";mask.style.visibility="hidden";}
mask.style.zIndex='';mainDiv.style.display="none";mainDiv.style.visibility="hidden";mainDiv.style.zIndex='';visible=false;if(silent!==true)me.onClose();}};this.isOpen=function(){return visible;};this.onOpen=function(){};this.onClose=function(){};this.getWidth=function(){return mainDiv.offsetWidth;};this.setWidth=function(width){if(isNaN(width)){if(typeof width==="string"){mainDiv.style.width=width;}}
else{mainDiv.style.width=width+"px";}
me.onResize();};this.getHeight=function(){return mainDiv.offsetHeight;};this.setHeight=function(height){if(isNaN(height)){if(typeof height==="string"){mainDiv.style.height=height;}}
else{mainDiv.style.height=height+"px";}
me.onResize();};this.center=function(){var w=mainDiv.offsetWidth;var h=mainDiv.offsetHeight;var x=document.body.clientWidth;var y=document.body.clientHeight;if(screen.width>(2*screen.height))x=x/2;x=(x/2)-(w/2);switch(config.valign){case"top":y=(y/4)-(h/2);break;default:y=(y/2)-(h/2);}
if(y<0)y=0;if(x<0)x=0;mainDiv.style.left=x+"px";mainDiv.style.top=y+"px";};var addResizeHandle=function(parent){var xOffset,yOffset;var orgHeight,orgWidth;var dx,dy;var onDragStart=function(x,y){var div=this;mask.style.cursor=div.style.cursor;mask.style.display="";mask.style.visibility="";var rect=_getRect(div);var rect2=_getRect(parent);xOffset=(x-rect.x)+rect2.x;yOffset=(y-rect.y)+rect2.y;orgHeight=rect2.height;orgWidth=rect2.width;dx=parseFloat(parent.style.width);if(dx<orgWidth)dx=orgWidth-dx;else dx=0;dy=parseFloat(parent.style.height);if(dy<orgHeight)dy=orgHeight-dy;else dy=0;};var onDragEnd=function(){if(config.modal!==true){mask.style.display="none";mask.style.visibility="hidden";}
mask.style.cursor="";mainDiv.focus();};var resizeHandle=document.createElement("div");resizeHandle.style.position="absolute";resizeHandle.style.width="100%";resizeHandle.style.height="10px";resizeHandle.style.top="-5px";resizeHandle.style.cursor="ns-resize";resizeHandle.style.zIndex=2;parent.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var top=(yOffset-y);parent.style.top=(y)+"px";parent.style.height=((orgHeight+top)-dy)+"px";me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="";resizeHandle.style.bottom="-5px";parent.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var top=-(yOffset-y);parent.style.height=(top+dy)+"px";me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="0px";resizeHandle.style.bottom="";resizeHandle.style.left="-5px";resizeHandle.style.height="100%";resizeHandle.style.width="10px";resizeHandle.style.cursor="ew-resize";parent.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var top=(xOffset-x);parent.style.left=x+'px';parent.style.width=((orgWidth+top))+"px";me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="-5px";resizeHandle.style.right="";resizeHandle.style.height="10px";resizeHandle.style.cursor="se-resize";parent.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var top=(xOffset-x);parent.style.left=x+'px';parent.style.width=((orgWidth+top))+"px";var top=(yOffset-y);parent.style.top=(y)+"px";parent.style.height=((orgHeight+top)-dy)+"px";me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="";resizeHandle.style.bottom="-5px";resizeHandle.style.cursor="ne-resize";parent.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var top=(xOffset-x);parent.style.left=x+'px';parent.style.width=((orgWidth+top))+"px";var top=-(yOffset-y);parent.style.height=(top+dy)+"px";me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.left="";resizeHandle.style.right="-5px";resizeHandle.style.top="0px";resizeHandle.style.height="100%";resizeHandle.style.cursor="ew-resize";parent.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var d=-(xOffset-x);parent.style.width=(d+dx)+"px";me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="-5px";resizeHandle.style.height="10px";resizeHandle.style.cursor="ne-resize";parent.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var d=-(xOffset-x);parent.style.width=(d+dx)+"px";var top=(yOffset-y);parent.style.top=(y)+"px";parent.style.height=((orgHeight+top)-dy)+"px";me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="";resizeHandle.style.cursor="se-resize";if(config.style.resizeHandle==null||isEmpty(config.style.resizeHandle)){resizeHandle.style.bottom="-5px";javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var d=-(xOffset-x);parent.style.width=(d+dx)+"px";var top=-(yOffset-y);parent.style.height=(top+dy)+"px";me.onResize();},onDragEnd:onDragEnd});}
else{resizeHandle.style.width="25px";resizeHandle.style.height="25px";var div=document.createElement("div");resizeHandle.appendChild(div);setStyle(div,"resizeHandle");javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){var d=-(xOffset-x)+20;parent.style.width=(d+dx)+"px";var top=-(yOffset-y)+20;parent.style.height=(top+dy)+"px";me.onResize();},onDragEnd:onDragEnd});}
parent.appendChild(resizeHandle);};var shrinkToFit=function(){var width=me.getWidth();var height=me.getHeight();var w=parent.offsetWidth;var h=parent.offsetHeight;if(width>w){me.setWidth(w);}
if(height>h){me.setHeight(h);}};var addResizeListener=function(fn){if(!resizeListener){resizeListener=javaxt.dhtml.utils.addResizeListener(parent,function(){var listeners=resizeListener.listeners;for(var i=0;i<listeners.length;i++){listeners[i].apply(me,[]);}});resizeListener.listeners=[];}
resizeListener.listeners.push(fn);};var _getRect=javaxt.dhtml.utils.getRect;var merge=javaxt.dhtml.utils.merge;var destroy=javaxt.dhtml.utils.destroy;var isEmpty=javaxt.dhtml.utils.isEmpty;var getNextHighestZindex=javaxt.dhtml.utils.getNextHighestZindex;var initDrag=javaxt.dhtml.utils.initDrag;var setStyle=function(el,style){javaxt.dhtml.utils.setStyle(el,config.style[style]);};var addStyle=function(el,style){javaxt.dhtml.utils.addStyle(el,config.style[style]);};init();};